/**
 *	8.3.0
 *	Generation date: 2021-09-07T06:25:03.036Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-10-07"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
x288[398188]=(function(){var h=2;for(;h !== 9;){switch(h){case 1:return globalThis;break;case 2:h=typeof globalThis === '\u006f\x62\u006a\u0065\x63\x74'?1:5;break;case 5:var U;try{var k=2;for(;k !== 6;){switch(k){case 2:Object['\x64\x65\x66\u0069\u006e\u0065\u0050\x72\u006f\u0070\u0065\x72\u0074\x79'](Object['\x70\u0072\u006f\x74\x6f\u0074\u0079\x70\u0065'],'\x68\u0044\x61\u0049\u005f',{'\x67\x65\x74':function(){var v=2;for(;v !== 1;){switch(v){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});U=hDaI_;U['\x4f\u0079\u004d\x54\x37']=U;k=4;break;case 9:delete U['\u004f\u0079\x4d\x54\u0037'];var A=Object['\u0070\x72\x6f\u0074\u006f\u0074\u0079\u0070\x65'];delete A['\u0068\x44\x61\u0049\x5f'];k=6;break;case 4:k=typeof OyMT7 === '\u0075\u006e\x64\u0065\u0066\u0069\x6e\u0065\x64'?3:9;break;case 3:throw "";k=9;break;}}}catch(C){U=window;}return U;break;}}})();x288[550257]=T6ff(x288[398188]);x288[71864]=E3oo(x288[398188]);x288.N2d=function(){return typeof x288[213775].B2d === 'function'?x288[213775].B2d.apply(x288[213775],arguments):x288[213775].B2d;};function E3oo(G8n){function P3n(Q8n){var S8n=2;for(;S8n !== 5;){switch(S8n){case 2:var R8n=[arguments];return R8n[0][0];break;}}}function B3n(H8n){var X8n=2;for(;X8n !== 5;){switch(X8n){case 2:var x8n=[arguments];return x8n[0][0].Array;break;}}}function Z3n(T8n){var W8n=2;for(;W8n !== 5;){switch(W8n){case 2:var p8n=[arguments];return p8n[0][0].Function;break;}}}var e8n=2;for(;e8n !== 73;){switch(e8n){case 65:I8n[53]+=I8n[78];I8n[53]+=I8n[56];I8n[32]=I8n[4];I8n[32]+=I8n[78];e8n=61;break;case 3:I8n[2]="esi";I8n[7]="dual";I8n[4]="n";I8n[6]="";e8n=6;break;case 48:I8n[91]=I8n[3];I8n[91]+=I8n[1];I8n[91]+=I8n[6];I8n[53]=I8n[5];e8n=65;break;case 6:I8n[6]="ize";I8n[3]="";I8n[3]="__o";I8n[8]="";e8n=11;break;case 24:I8n[18]="o";I8n[56]="oo";I8n[98]="3o";I8n[10]="r";e8n=35;break;case 31:I8n[85]=1;I8n[42]=6;I8n[42]=1;I8n[42]=0;e8n=44;break;case 2:var I8n=[arguments];I8n[9]="";I8n[9]="__r";I8n[4]="";e8n=3;break;case 75:c3n(B3n,"push",I8n[85],I8n[88]);e8n=74;break;case 77:c3n(P3n,I8n[91],I8n[42],I8n[61]);e8n=76;break;case 52:I8n[45]+=I8n[63];I8n[61]=I8n[8];I8n[61]+=I8n[78];I8n[61]+=I8n[56];e8n=48;break;case 61:I8n[32]+=I8n[56];I8n[54]=I8n[9];I8n[54]+=I8n[2];I8n[54]+=I8n[7];e8n=57;break;case 56:c3n(P3n,I8n[54],I8n[42],I8n[32]);e8n=55;break;case 11:I8n[5]="g";I8n[8]="";I8n[1]="ptim";I8n[8]="p";e8n=18;break;case 76:c3n(P3n,I8n[45],I8n[42],I8n[76]);e8n=75;break;case 40:I8n[88]+=I8n[98];I8n[88]+=I8n[18];I8n[76]=I8n[72];I8n[76]+=I8n[18];I8n[76]+=I8n[18];I8n[45]=I8n[86];I8n[45]+=I8n[44];e8n=52;break;case 18:I8n[44]="";I8n[44]="tr";I8n[86]="";I8n[86]="__abs";I8n[63]="act";I8n[18]="";I8n[72]="q3";e8n=24;break;case 35:I8n[78]="3";I8n[70]="";I8n[70]="C";I8n[85]=4;e8n=31;break;case 55:c3n(s3n,"test",I8n[85],I8n[53]);e8n=77;break;case 74:c3n(Z3n,"apply",I8n[85],I8n[15]);e8n=73;break;case 44:I8n[15]=I8n[70];I8n[15]+=I8n[78];I8n[15]+=I8n[56];I8n[88]=I8n[10];e8n=40;break;case 57:var c3n=function(D8n,K8n,w8n,V8n){var m8n=2;for(;m8n !== 5;){switch(m8n){case 2:var C8n=[arguments];L3n(I8n[0][0],C8n[0][0],C8n[0][1],C8n[0][2],C8n[0][3]);m8n=5;break;}}};e8n=56;break;}}function L3n(t8n,n8n,o8n,y8n,J8n){var E8n=2;for(;E8n !== 9;){switch(E8n){case 3:try{var N8n=2;for(;N8n !== 8;){switch(N8n){case 2:O8n[5]={};O8n[1]=(1,O8n[0][1])(O8n[0][0]);O8n[7]=[O8n[1],O8n[1].prototype][O8n[0][3]];O8n[5].value=O8n[7][O8n[0][2]];try{var Y8n=2;for(;Y8n !== 3;){switch(Y8n){case 4:O8n[0][0].Object[O8n[6]](O8n[7],O8n[0][4],O8n[5]);Y8n=3;break;case 2:O8n[6]=O8n[2];O8n[6]+=O8n[3];O8n[6]+=O8n[8];Y8n=4;break;}}}catch(t3n){}O8n[7][O8n[0][4]]=O8n[5].value;N8n=8;break;}}}catch(n3n){}E8n=9;break;case 2:var O8n=[arguments];O8n[3]="neProper";O8n[8]="ty";O8n[2]="defi";E8n=3;break;}}}function s3n(g8n){var i8n=2;for(;i8n !== 5;){switch(i8n){case 1:return h8n[0][0].RegExp;break;case 2:var h8n=[arguments];i8n=1;break;}}}}x288.r0n=function(){return typeof x288[237943].a1P === 'function'?x288[237943].a1P.apply(x288[237943],arguments):x288[237943].a1P;};x288[398188].i1zz=x288;x288[237943]=(function(){var v0n=2;for(;v0n !== 9;){switch(v0n){case 2:var f8n=[arguments];f8n[6]=undefined;f8n[8]={};v0n=4;break;case 4:f8n[8].a1P=function(){var F0n=2;for(;F0n !== 90;){switch(F0n){case 5:return 56;break;case 46:d0n[2].r3oo(d0n[44]);d0n[2].r3oo(d0n[5]);d0n[79]=[];d0n[56]='g2d';d0n[12]='y2d';d0n[41]='F2d';F0n=61;break;case 77:d0n[78]=0;F0n=76;break;case 11:d0n[1]={};d0n[1].F2d=['S2d'];d0n[1].O2d=function(){var u1P=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var D1P=!(/\x28\x5b/).g3oo(u1P + []);return D1P;};d0n[3]=d0n[1];d0n[8]={};F0n=17;break;case 61:d0n[87]='U2d';d0n[10]='O2d';d0n[81]='A2d';F0n=58;break;case 76:F0n=d0n[78] < d0n[54][d0n[41]].length?75:70;break;case 6:d0n[6]={};d0n[6].F2d=['S2d'];d0n[6].O2d=function(){var d1P=function(){return escape('=');};var G1P=(/\u0033\x44/).g3oo(d1P + []);return G1P;};d0n[5]=d0n[6];F0n=11;break;case 49:d0n[2].r3oo(d0n[58]);d0n[2].r3oo(d0n[9]);d0n[2].r3oo(d0n[3]);F0n=46;break;case 1:F0n=f8n[6]?5:4;break;case 34:d0n[48]={};d0n[48].F2d=['S2d'];d0n[48].O2d=function(){var m1P=function(){return ('aaaa|a').substr(0,3);};var K1P=!(/\u007c/).g3oo(m1P + []);return K1P;};d0n[44]=d0n[48];d0n[11]={};F0n=29;break;case 57:F0n=d0n[91] < d0n[2].length?56:69;break;case 67:f8n[6]=29;return 41;break;case 70:d0n[91]++;F0n=57;break;case 29:d0n[11].F2d=['V2d'];d0n[11].O2d=function(){var O1P=typeof q3oo === 'function';return O1P;};d0n[97]=d0n[11];d0n[72]={};F0n=42;break;case 71:d0n[78]++;F0n=76;break;case 42:d0n[72].F2d=['V2d'];d0n[72].O2d=function(){var M1P=false;var R1P=[];try{for(var t1P in console){R1P.r3oo(t1P);}M1P=R1P.length === 0;}catch(Q1P){}var P1P=M1P;return P1P;};d0n[58]=d0n[72];d0n[80]={};d0n[80].F2d=['S2d'];F0n=37;break;case 8:d0n[4].O2d=function(){var J1P=typeof n3oo === 'function';return J1P;};d0n[7]=d0n[4];F0n=6;break;case 58:d0n[91]=0;F0n=57;break;case 17:d0n[8].F2d=['V2d'];d0n[8].O2d=function(){var E1P=typeof p3oo === 'function';return E1P;};d0n[9]=d0n[8];d0n[63]={};d0n[63].F2d=['S2d'];F0n=25;break;case 68:F0n=97?68:67;break;case 25:d0n[63].O2d=function(){var o1P=function(){return ('a').codePointAt(0);};var s1P=(/\u0039\u0037/).g3oo(o1P + []);return s1P;};d0n[25]=d0n[63];d0n[66]={};d0n[66].F2d=['S2d'];d0n[66].O2d=function(){var H1P=function(){return ('ab').charAt(1);};var I1P=!(/\u0061/).g3oo(H1P + []);return I1P;};d0n[50]=d0n[66];F0n=34;break;case 2:var d0n=[arguments];F0n=1;break;case 75:d0n[82]={};d0n[82][d0n[81]]=d0n[54][d0n[41]][d0n[78]];d0n[82][d0n[87]]=d0n[83];d0n[79].r3oo(d0n[82]);F0n=71;break;case 56:d0n[54]=d0n[2][d0n[91]];try{d0n[83]=d0n[54][d0n[10]]()?d0n[56]:d0n[12];}catch(T1P){d0n[83]=d0n[12];}F0n=77;break;case 69:F0n=(function(k0n){var A0n=2;for(;A0n !== 22;){switch(A0n){case 19:u0n[2]++;A0n=7;break;case 2:var u0n=[arguments];A0n=1;break;case 14:A0n=typeof u0n[9][u0n[6][d0n[81]]] === 'undefined'?13:11;break;case 10:A0n=u0n[6][d0n[87]] === d0n[56]?20:19;break;case 12:u0n[7].r3oo(u0n[6][d0n[81]]);A0n=11;break;case 16:A0n=u0n[2] < u0n[7].length?15:23;break;case 5:return;break;case 7:A0n=u0n[2] < u0n[0][0].length?6:18;break;case 11:u0n[9][u0n[6][d0n[81]]].t+=true;A0n=10;break;case 24:u0n[2]++;A0n=16;break;case 20:u0n[9][u0n[6][d0n[81]]].h+=true;A0n=19;break;case 23:return u0n[5];break;case 4:u0n[9]={};u0n[7]=[];u0n[2]=0;A0n=8;break;case 8:u0n[2]=0;A0n=7;break;case 18:u0n[5]=false;A0n=17;break;case 1:A0n=u0n[0][0].length === 0?5:4;break;case 17:u0n[2]=0;A0n=16;break;case 13:u0n[9][u0n[6][d0n[81]]]=(function(){var l0n=2;for(;l0n !== 9;){switch(l0n){case 4:b0n[3].t=0;return b0n[3];break;case 2:var b0n=[arguments];b0n[3]={};b0n[3].h=0;l0n=4;break;}}}).C3oo(this,arguments);A0n=12;break;case 25:u0n[5]=true;A0n=24;break;case 26:A0n=u0n[1] >= 0.5?25:24;break;case 15:u0n[8]=u0n[7][u0n[2]];u0n[1]=u0n[9][u0n[8]].h / u0n[9][u0n[8]].t;A0n=26;break;case 6:u0n[6]=u0n[0][0][u0n[2]];A0n=14;break;}}})(d0n[79])?68:67;break;case 52:d0n[2].r3oo(d0n[7]);d0n[2].r3oo(d0n[97]);d0n[2].r3oo(d0n[50]);F0n=49;break;case 4:d0n[2]=[];d0n[4]={};d0n[4].F2d=['V2d'];F0n=8;break;case 37:d0n[80].O2d=function(){var V1P=function(){return decodeURIComponent('%25');};var Y1P=!(/\x32\u0035/).g3oo(V1P + []);return Y1P;};d0n[67]=d0n[80];d0n[2].r3oo(d0n[25]);d0n[2].r3oo(d0n[67]);F0n=52;break;}}};v0n=3;break;case 3:return f8n[8];break;}}})();x288.f2d=function(){return typeof x288[213775].K2d === 'function'?x288[213775].K2d.apply(x288[213775],arguments):x288[213775].K2d;};x288.j0n=function(){return typeof x288[237943].a1P === 'function'?x288[237943].a1P.apply(x288[237943],arguments):x288[237943].a1P;};x288.c2d=function(){return typeof x288[213775].B2d === 'function'?x288[213775].B2d.apply(x288[213775],arguments):x288[213775].B2d;};x288.J9W=function(){return typeof x288[539366].i5K === 'function'?x288[539366].i5K.apply(x288[539366],arguments):x288[539366].i5K;};x288.o2d=function(){return typeof x288[213775].K2d === 'function'?x288[213775].K2d.apply(x288[213775],arguments):x288[213775].K2d;};function T6ff(C9W){function s5W(t9W){var L9W=2;for(;L9W !== 5;){switch(L9W){case 2:var X9W=[arguments];return X9W[0][0].String;break;}}}function f5W(e9W,g9W,B9W,O9W,Z9W){var G9W=2;for(;G9W !== 8;){switch(G9W){case 2:var Q9W=[arguments];Q9W[5]="operty";Q9W[8]="finePr";Q9W[7]="";G9W=3;break;case 3:Q9W[7]="de";try{var b9W=2;for(;b9W !== 8;){switch(b9W){case 2:Q9W[3]={};Q9W[1]=(1,Q9W[0][1])(Q9W[0][0]);Q9W[4]=[T9W[4],Q9W[1].prototype][Q9W[0][3]];Q9W[3].value=Q9W[4][Q9W[0][2]];try{var F9W=2;for(;F9W !== 3;){switch(F9W){case 4:Q9W[0][0].Object[Q9W[9]](Q9W[4],Q9W[0][4],Q9W[3]);F9W=3;break;case 2:Q9W[9]=Q9W[7];Q9W[9]+=Q9W[8];Q9W[9]+=Q9W[5];F9W=4;break;}}}catch(Y5W){}b9W=9;break;case 9:Q9W[4][Q9W[0][4]]=Q9W[3].value;b9W=8;break;}}}catch(H5W){}G9W=8;break;}}}var M9W=2;for(;M9W !== 11;){switch(M9W){case 8:T9W[4]=1;T9W[9]=T9W[5];T9W[9]+=T9W[8];T9W[9]+=T9W[2];M9W=13;break;case 2:var T9W=[arguments];T9W[2]="";T9W[2]="ff";T9W[8]="6";T9W[5]="";T9W[5]="k";M9W=8;break;case 13:var o5W=function(E9W,m9W,y9W,l9W){var n9W=2;for(;n9W !== 5;){switch(n9W){case 2:var i9W=[arguments];f5W(T9W[0][0],i9W[0][0],i9W[0][1],i9W[0][2],i9W[0][3]);n9W=5;break;}}};M9W=12;break;case 12:o5W(s5W,"charCodeAt",T9W[4],T9W[9]);M9W=11;break;}}}function x288(){}x288[461452]="qDP";x288[213775]=(function(t2d){return {B2d:function(){var j2d,x2d=arguments;switch(t2d){case 102:j2d=x2d[3] + x2d[2] + x2d[7] + x2d[0] + x2d[5] + x2d[1] + x2d[4] + x2d[6];break;case 25:j2d=x2d[4] / x2d[2] / x2d[3] / x2d[0] + x2d[1];break;case 45:j2d=x2d[3] - x2d[2] + x2d[0] - x2d[1];break;case 126:j2d=x2d[1] / x2d[4] * x2d[0] * x2d[2] - x2d[3];break;case 120:j2d=x2d[2] * x2d[3] - x2d[4] + x2d[1] - x2d[0];break;case 129:j2d=(-x2d[1] / x2d[3] - x2d[0]) / x2d[2] + x2d[4];break;case 124:j2d=x2d[1] * x2d[0] * x2d[3] - x2d[2];break;case 169:j2d=x2d[0] * x2d[4] / x2d[1] * x2d[2] - x2d[3];break;case 146:j2d=x2d[0] > x2d[1];break;case 167:j2d=x2d[2] + x2d[1] / x2d[3] + x2d[0];break;case 85:j2d=(x2d[5] * x2d[6] - x2d[2] * x2d[4]) / (x2d[0] * x2d[3] - x2d[1]);break;case 52:j2d=x2d[1] - x2d[3] / (x2d[2] ^ x2d[0]);break;case 58:j2d=x2d[0] - x2d[4] + x2d[2] + x2d[3] + x2d[1];break;case 154:j2d=x2d[0] / x2d[2] / x2d[1] + x2d[3];break;case 8:j2d=x2d[1] | x2d[0];break;case 49:j2d=x2d[2] + x2d[1] / x2d[0];break;case 97:j2d=x2d[0] + (x2d[1] & x2d[2]);break;case 3:j2d=x2d[1] << x2d[0];break;case 125:j2d=(-x2d[3] / x2d[0] + x2d[2]) / x2d[1] - x2d[4];break;case 101:j2d=(x2d[1] + x2d[3]) * x2d[2] - x2d[0];break;case 5:j2d=x2d[1] + x2d[2] - x2d[0];break;case 76:j2d=x2d[2] + x2d[3] - x2d[1] + x2d[0];break;case 55:j2d=(x2d[0] * x2d[3] + x2d[4]) / x2d[2] + x2d[1];break;case 1:j2d=(x2d[1] + x2d[4] + x2d[0]) / x2d[2] - x2d[3];break;case 157:j2d=+x2d[0] * x2d[1];break;case 67:j2d=x2d[1] * x2d[0] - x2d[2] + x2d[3];break;case 88:j2d=x2d[0] + x2d[1] + x2d[2];break;case 131:j2d=(x2d[1] - x2d[0]) / x2d[2] / x2d[3] + x2d[4];break;case 0:j2d=x2d[0] - x2d[1] - x2d[2];break;case 105:j2d=x2d[0] + x2d[3] + x2d[2] + x2d[1];break;case 144:j2d=(x2d[1] % x2d[3] + x2d[0]) * x2d[2];break;case 29:j2d=x2d[1] >> x2d[0];break;case 59:j2d=(x2d[0] * x2d[2] - x2d[4]) / x2d[1] - x2d[3];break;case 138:j2d=x2d[3] - x2d[1] + x2d[2] + x2d[0] - x2d[4];break;case 34:j2d=-x2d[4] * x2d[0] + x2d[1] - x2d[2] + x2d[3];break;case 143:j2d=(x2d[0] - x2d[2]) * x2d[3] - x2d[1];break;case 30:j2d=x2d[1] / x2d[2] - x2d[3] + x2d[0];break;case 77:j2d=+x2d[1] / x2d[0];break;case 79:j2d=x2d[1] * x2d[2] / x2d[0];break;case 54:j2d=(x2d[2] + x2d[4]) * x2d[1] / x2d[0] + x2d[3];break;case 99:j2d=-x2d[2] / x2d[1] + x2d[0];break;case 107:j2d=(x2d[4] + x2d[3] - x2d[0]) * x2d[1] + x2d[2];break;case 104:j2d=(x2d[0] - (x2d[1] + x2d[3])) / x2d[2];break;case 80:j2d=x2d[3] + (x2d[0] - x2d[1]) / x2d[2];break;case 170:j2d=x2d[3] + (x2d[1] / x2d[2] - x2d[4] / x2d[0]);break;case 115:j2d=x2d[1] * x2d[6] * x2d[3] + (x2d[0] - x2d[2] * x2d[5]) * x2d[4];break;case 56:j2d=x2d[0] * x2d[3] + x2d[1] - x2d[2];break;case 94:j2d=(x2d[0] * x2d[2] + x2d[1]) / x2d[3];break;case 92:j2d=(x2d[2] - x2d[3]) * x2d[0] + x2d[1];break;case 121:j2d=(x2d[0] / x2d[1] - x2d[3]) / x2d[4] + x2d[2];break;case 41:j2d=(x2d[2] * x2d[0] + x2d[3]) * x2d[1] - x2d[4];break;case 24:j2d=x2d[0] - x2d[1] - x2d[2] + x2d[4] + x2d[3];break;case 141:j2d=(x2d[1] - x2d[2]) / x2d[4] * x2d[3] + x2d[0];break;case 66:j2d=(x2d[1] + x2d[2]) / x2d[0] + x2d[3];break;case 145:j2d=x2d[0] / (x2d[1] * x2d[3]) <= x2d[2];break;case 36:j2d=x2d[0] * x2d[1] - x2d[2];break;case 70:j2d=(x2d[5] - x2d[3]) * (x2d[0] - x2d[4]) / (x2d[6] - x2d[2]) + x2d[1];break;case 150:j2d=x2d[3] / x2d[4] * x2d[2] - x2d[1] - x2d[0];break;case 37:j2d=(x2d[3] + x2d[4] - x2d[2]) * x2d[1] - x2d[0];break;case 100:j2d=(x2d[4] - x2d[0]) / x2d[2] + x2d[3] + x2d[1];break;case 12:j2d=x2d[0] / x2d[1];break;case 39:j2d=(x2d[2] - x2d[1] - x2d[0]) * x2d[3] + x2d[4];break;case 163:j2d=x2d[3] - x2d[0] * +x2d[1] - x2d[2];break;case 61:j2d=x2d[1] < x2d[0];break;case 98:j2d=-x2d[2] / x2d[4] / x2d[3] - x2d[0] + x2d[1];break;case 84:j2d=x2d[0] * (x2d[2] * x2d[1] + +x2d[3]) / x2d[4];break;case 155:j2d=x2d[4] * x2d[1] * x2d[3] + x2d[0] - x2d[2];break;case 139:j2d=-x2d[2] + x2d[3] - x2d[1] + x2d[0];break;case 63:j2d=(x2d[1] + x2d[0]) / x2d[3] - x2d[2];break;case 171:j2d=-x2d[2] / x2d[0] - x2d[3] + x2d[1];break;case 83:j2d=x2d[3] * (x2d[2] + x2d[1]) / x2d[0];break;case 27:j2d=x2d[1] - +x2d[0];break;case 32:j2d=(x2d[1] - x2d[0]) / x2d[2];break;case 95:j2d=(x2d[3] + x2d[0] * x2d[1]) / x2d[2];break;case 89:j2d=x2d[0] / x2d[2] / x2d[1] * x2d[3] - x2d[4];break;case 96:j2d=(x2d[0] + x2d[2] * x2d[1]) / +x2d[3];break;case 159:j2d=x2d[0] * - +x2d[1];break;case 14:j2d=x2d[0] / x2d[3] / x2d[1] - x2d[4] + x2d[2];break;case 18:j2d=x2d[0] - (x2d[2] >> x2d[1]);break;case 7:j2d=x2d[1] - x2d[0];break;case 160:j2d=x2d[1] * -x2d[0];break;case 117:j2d=(-x2d[0] - x2d[3]) * x2d[4] * x2d[1] + x2d[2];break;case 69:j2d=x2d[1] ^ x2d[0];break;case 33:j2d=-x2d[0] + x2d[1];break;case 151:j2d=-x2d[2] * x2d[3] / x2d[0] + x2d[1];break;case 108:j2d=(x2d[1] - x2d[3]) * x2d[2] + x2d[4] + x2d[0];break;case 68:j2d=x2d[2] / x2d[1] + x2d[0];break;case 15:j2d=(x2d[3] + x2d[2]) * x2d[4] * x2d[1] - x2d[0];break;case 147:j2d=x2d[2] * (x2d[1] + x2d[0]);break;case 42:j2d=x2d[1] * x2d[0] < x2d[2];break;case 62:j2d=(x2d[2] - x2d[0]) / (x2d[3] - x2d[1]);break;case 46:j2d=(x2d[4] + x2d[2]) / x2d[3] - x2d[1] + x2d[0];break;case 65:j2d=x2d[2] + x2d[3] + x2d[0] - x2d[1];break;case 87:j2d=x2d[2] * x2d[1] + x2d[0];break;case 57:j2d=(x2d[0] - x2d[3]) / x2d[2] + x2d[1];break;case 38:j2d=(x2d[1] - x2d[0] + x2d[3]) / x2d[4] - x2d[2];break;case 6:j2d=x2d[3] + x2d[1] - x2d[2] - x2d[0];break;case 112:j2d=(x2d[1] + (x2d[3] << x2d[0])) * x2d[2];break;case 142:j2d=(-x2d[3] * x2d[0] + x2d[2]) * x2d[4] + x2d[1];break;case 109:j2d=x2d[1] / x2d[0] * x2d[2] - x2d[3];break;case 20:j2d=x2d[2] * x2d[0] / x2d[1] - x2d[3];break;case 111:j2d=(x2d[4] - x2d[0]) / x2d[2] - x2d[3] + x2d[1];break;case 133:j2d=(x2d[2] - x2d[0]) * x2d[1] / (x2d[4] + x2d[3]);break;case 93:j2d=x2d[2] + (x2d[5] - x2d[3]) / (x2d[1] - x2d[4]) * (x2d[6] - x2d[0]);break;case 17:j2d=(x2d[4] + x2d[2] + x2d[0] + x2d[1]) / x2d[3];break;case 130:j2d=(x2d[1] - x2d[4]) * x2d[2] - x2d[3] + x2d[0];break;case 152:j2d=x2d[3] - x2d[0] / (x2d[2] + x2d[1]);break;case 114:j2d=(x2d[1] + x2d[4] + x2d[0]) / x2d[3] + x2d[2];break;case 161:j2d=x2d[4] * (x2d[0] / x2d[3] - (x2d[1] ^ x2d[2]));break;case 31:j2d=x2d[1] - (x2d[0] - x2d[2]);break;case 113:j2d=(x2d[0] - x2d[1]) * x2d[2] / x2d[3] + x2d[4];break;case 110:j2d=(-x2d[2] - x2d[0]) * x2d[3] + x2d[1];break;case 22:j2d=x2d[2] + x2d[0] * x2d[1];break;case 82:j2d=x2d[0] - x2d[2] - x2d[1] + x2d[3];break;case 9:j2d=x2d[0] - x2d[2] + x2d[1];break;case 40:j2d=(x2d[1] - x2d[3] - x2d[0]) / x2d[2] + x2d[4];break;case 86:j2d=(x2d[1] - x2d[0] * x2d[2]) / x2d[3];break;case 10:j2d=x2d[3] - x2d[2] + x2d[1] + x2d[0];break;case 13:j2d=x2d[1] / x2d[2] - x2d[0];break;case 168:j2d=x2d[2] * x2d[0] / (x2d[3] + x2d[1]);break;case 78:j2d=x2d[1] / +x2d[0];break;case 165:j2d=x2d[1] - x2d[0] * x2d[2] - x2d[3];break;case 123:j2d=-x2d[2] + x2d[0] - x2d[1];break;case 81:j2d=x2d[1] - x2d[3] * (x2d[2] - x2d[0]);break;case 91:j2d=-(x2d[2] - x2d[0]) * x2d[1] + x2d[3];break;case 72:j2d=x2d[1] / x2d[2] + x2d[3] + x2d[0];break;case 35:j2d=(x2d[3] - x2d[4]) / x2d[1] + x2d[2] - x2d[0];break;case 28:j2d=x2d[1] / x2d[0] + x2d[3] - x2d[2];break;case 48:j2d=x2d[1] - x2d[2] / x2d[0];break;case 149:j2d=-x2d[0] - x2d[2] + x2d[1];break;case 2:j2d=x2d[1] + x2d[0];break;case 26:j2d=x2d[0] / x2d[3] * x2d[2] + x2d[1];break;case 64:j2d=-x2d[1] * x2d[2] + x2d[3] + x2d[0];break;case 136:j2d=x2d[1] - x2d[0] / (x2d[4] + x2d[3] / x2d[2]);break;case 53:j2d=(x2d[0] - x2d[2]) / (x2d[3] - x2d[4]) > x2d[1];break;case 90:j2d=x2d[0] / x2d[3] - x2d[4] - x2d[2] + x2d[1];break;case 134:j2d=x2d[1] + x2d[2] - x2d[4] + x2d[3] + x2d[0];break;case 103:j2d=x2d[2] + (x2d[0] ^ x2d[1]);break;case 140:j2d=x2d[1] + x2d[3] * (x2d[0] - x2d[2]);break;case 172:j2d=(x2d[0] - x2d[4] + x2d[2]) * x2d[3] + x2d[1];break;case 106:j2d=x2d[1] * x2d[3] / x2d[2] + x2d[0];break;case 50:j2d=x2d[2] + x2d[0] / (x2d[3] ^ x2d[1]);break;case 43:j2d=x2d[0] + (x2d[1] - x2d[2]);break;case 166:j2d=x2d[1] == x2d[0];break;case 116:j2d=-x2d[3] - x2d[0] - x2d[2] + x2d[1];break;case 135:j2d=x2d[0] * x2d[2] * x2d[1];break;case 51:j2d=x2d[1] & x2d[0];break;case 164:j2d=x2d[1] + x2d[3] * x2d[0] + x2d[2];break;case 118:j2d=x2d[3] * x2d[0] * x2d[1] - x2d[4] - x2d[2];break;case 122:j2d=x2d[4] + x2d[1] + x2d[0] - x2d[2] - x2d[3];break;case 74:j2d=x2d[1] - x2d[4] - x2d[0] - x2d[3] + x2d[2];break;case 16:j2d=-x2d[2] + x2d[3] + x2d[0] - x2d[1];break;case 148:j2d=x2d[0] / x2d[1] * x2d[4] + x2d[3] + x2d[2];break;case 158:j2d=x2d[2] / x2d[1] * x2d[4] / x2d[3] - x2d[0];break;case 132:j2d=(-x2d[3] + x2d[1] + x2d[2]) / x2d[4] + x2d[0];break;case 153:j2d=x2d[0] + x2d[1] - x2d[2] + x2d[4] - x2d[3];break;case 137:j2d=x2d[2] * (x2d[0] / x2d[1] - x2d[3]);break;case 21:j2d=x2d[0] / (x2d[1] / x2d[2]);break;case 73:j2d=-x2d[4] / x2d[2] - x2d[3] + x2d[0] - x2d[1];break;case 127:j2d=-x2d[2] + x2d[1] + x2d[0];break;case 128:j2d=x2d[0] + +x2d[1];break;case 71:j2d=x2d[2] / x2d[4] * x2d[3] + x2d[0] - x2d[1];break;case 23:j2d=x2d[0] - x2d[1] * x2d[2];break;case 156:j2d=(x2d[3] * x2d[0] - x2d[4]) * x2d[1] - x2d[2];break;case 4:j2d=(x2d[1] + x2d[0]) / x2d[2];break;case 60:j2d=(x2d[3] + x2d[0]) * x2d[2] - x2d[4] - x2d[1];break;case 47:j2d=(-x2d[0] - x2d[3] + x2d[2]) / x2d[1] + x2d[4];break;case 19:j2d=x2d[1] * x2d[0];break;case 11:j2d=x2d[1] * x2d[2] * x2d[0] * x2d[3] - x2d[4];break;case 44:j2d=x2d[2] * x2d[0] - x2d[1] - x2d[3];break;case 75:j2d=-x2d[1] * x2d[2] + x2d[0];break;case 162:j2d=x2d[2] + x2d[1] - x2d[4] - x2d[3] + x2d[0];break;case 119:j2d=x2d[2] * x2d[3] + x2d[0] + x2d[1];break;}return j2d;},K2d:function(k2d){t2d=k2d;}};})();x288[539366]=(function(){var Q5K=function(J5K,r5K){var C5K=r5K & 0xffff;var m5K=r5K - C5K;return (m5K * J5K | 0) + (C5K * J5K | 0) | 0;},t5K=function(u5K,z5K,R5K){var D5K=0xcc9e2d51,q5K=0x1b873593;var K5K=R5K;var L5K=z5K & ~0x3;for(var h5K=0;h5K < L5K;h5K+=4){var n5K=u5K.k6ff(h5K) & 0xff | (u5K.k6ff(h5K + 1) & 0xff) << 8 | (u5K.k6ff(h5K + 2) & 0xff) << 16 | (u5K.k6ff(h5K + 3) & 0xff) << 24;n5K=Q5K(n5K,D5K);n5K=(n5K & 0x1ffff) << 15 | n5K >>> 17;n5K=Q5K(n5K,q5K);K5K^=n5K;K5K=(K5K & 0x7ffff) << 13 | K5K >>> 19;K5K=K5K * 5 + 0xe6546b64 | 0;}n5K=0;switch(z5K % 4){case 3:n5K=(u5K.k6ff(L5K + 2) & 0xff) << 16;case 2:n5K|=(u5K.k6ff(L5K + 1) & 0xff) << 8;case 1:n5K|=u5K.k6ff(L5K) & 0xff;n5K=Q5K(n5K,D5K);n5K=(n5K & 0x1ffff) << 15 | n5K >>> 17;n5K=Q5K(n5K,q5K);K5K^=n5K;}K5K^=z5K;K5K^=K5K >>> 16;K5K=Q5K(K5K,0x85ebca6b);K5K^=K5K >>> 13;K5K=Q5K(K5K,0xc2b2ae35);K5K^=K5K >>> 16;return K5K;};return {i5K:t5K};})();x288[277341]=x288[398188];x288.a9W=function(){return typeof x288[539366].i5K === 'function'?x288[539366].i5K.apply(x288[539366],arguments):x288[539366].i5K;};x288[627100]=false;var W3V,v3V,Y3V,Q3V,i7V,A7V,B7V,h7V,x7V,e7V,C7V,b7V,I7V,T7V,p7V,H7V,g7V,a7V,s7V,n7V,X7V,P7V,m7V,c7V,R7V,k7V,V7V,K7V,E7V,F7V,d7V,z7V,N7V,D7V,j7V,G7V,J7V,Z7V,r7V,o7V,q7V,u7V,U7V,L7V,w7V,M7V,y7V,O7V,S7V,f7V,l7V,t7V,W7V,v7V,Y7V,Q7V,i5V,A5V,B5V,h5V,x5V,e5V,C5V,b5V,I5V,T5V,p5V,H5V,X5V;import {CIQ as t3V, SplinePlotter as g5V, timezoneJS as a5V, $$ as s5V, $$$ as n5V} from "../js/standard.js";W3V=m5V=>{var h09,P5V;h09="u";h09+="ndefi";h09+="ne";h09+="d";P5V=typeof _CIQ !== h09?_CIQ:m5V.CIQ;P5V.Renderer.Aggregations=function(R5V){var c5V;this.construct(R5V);c5V=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;this.isAggregation=! !1;x288.j0n();c5V.highlightable=! !"";if(c5V.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");c5V.invalid=! !{};}};P5V.inheritsFrom(P5V.Renderer.Aggregations,P5V.Renderer.OHLC,!{});P5V.Renderer.Aggregations.requestNew=function(F5V,d5V){var A09,k5V,z09,K5V,E5V;A09="O";A09+="HL";A09+="C";x288.r0n();k5V=null;for(var V5V=+"0";V5V < F5V.length;V5V++){z09="l";z09+="inebr";z09+="ea";z09+="k";K5V=F5V[V5V];switch(K5V){case "kagi":case "pandf":k5V=K5V;break;case "heikinashi":case z09:case "rangebars":case "renko":k5V="candle";break;default:return null;}}if(k5V === null){return null;}E5V=new P5V.Renderer[k5V == "candle"?A09:"Aggregations"]({params:P5V.extend(d5V,{type:k5V})});E5V.isAggregation=!0;return E5V;};P5V.Renderer.Aggregations.prototype.drawIndividualSeries=function(j5V,N5V){var P09,z5V,D5V,N09,r09,d09;P09="k";P09+="a";P09+="g";P09+="i";if(N5V.invalid){return;}z5V=this.stx;x288.r0n();D5V={colors:[]};if(N5V.type == P09){N09="stx_kag";N09+="i";N09+="_down";r09="st";r09+="x_kagi_u";r09+="p";z5V.drawKagiSquareWave(j5V.panel,"stx_kagi_up","stx_kagi_down",N5V);D5V.colors.push(z5V.getCanvasColor(r09));D5V.colors.push(z5V.getCanvasColor(N09));}else if(N5V.type == "pandf"){d09="st";d09+="x";d09+="_pan";d09+="df_down";z5V.drawPointFigureChart(j5V.panel,"stx_pandf_up",(675.77,5340) > (1360,7180)?("t","P"):450 === 5510?"M":7391 <= (561.93,439)?0x20fe:"X",N5V);D5V.colors.push(z5V.getCanvasColor("stx_pandf_up"));z5V.drawPointFigureChart(j5V.panel,d09,"O",N5V);D5V.colors.push(z5V.getCanvasColor("stx_pandf_down"));}return D5V;};P5V.ChartEngine.prototype.setAggregationType=function(J5V){var T09,G5V;T09="can";T09+="dle";this.layout.chartType=T09;G5V=this.chart;if(G5V.baseline.userLevel !== ![]){G5V.baseline.userLevel=G5V.baseline.defaultLevel;G5V.panel.yAxis.scroll=P5V.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=J5V;this.setMainSeriesRenderer();x288.r0n();if(G5V.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};P5V.ChartEngine.prototype.drawKagiSquareWave=function(w5V,O5V,S5V,f5V){var s4n=x288;var L5V,l5V,Z5V,r5V,x6V,t5V,W5V,Q5V,i6V,v5V,Y5V,A6V,B6V,u5V,e6V,y5V,U5V,q5V,C6V,o5V,h6V;L5V=w5V.chart;this.startClip(w5V.name);l5V=L5V.dataSegment;Z5V=L5V.context;r5V=w5V.yAxis;s4n.r0n();if(r5V.flipped){x6V=O5V;O5V=S5V;S5V=x6V;}t5V=this.canvasStyle(O5V);W5V=this.canvasStyle(S5V);this.canvasColor(O5V);if(f5V.border_color_up){Z5V.strokeStyle=f5V.border_color_up;}Q5V=Z5V.strokeStyle;this.canvasColor(S5V);if(f5V.border_color_down){Z5V.strokeStyle=f5V.border_color_down;}i6V=Z5V.strokeStyle;v5V=+"1";if(t5V.width && parseInt(t5V.width,10) <= 25){v5V=Math.max(1,P5V.stripPX(t5V.width));}Y5V=+"1";if(W5V.width && parseInt(W5V.width,10) <= 25){Y5V=Math.max(1,P5V.stripPX(W5V.width));}if(this.highlightedDraggable){Z5V.globalAlpha*=0.3;}Z5V.beginPath();s4n.o2d(0);var u9l=s4n.c2d(20,13,6);A6V=L5V.dataSet.length - L5V.scroll - u9l;B6V=! ![];u5V=null;e6V=null;y5V=null;s4n.o2d(1);var V9l=s4n.N2d(13,0,17,0,4);U5V=w5V.left - 0.5 * this.layout.candleWidth + this.micropixels - V9l;for(var M5V=0;M5V <= l5V.length;M5V++){U5V+=this.layout.candleWidth;q5V=l5V[M5V];if(!q5V)continue;if(q5V.projection)break;y5V=q5V.kagiTrend;if(r5V.flipped){y5V*=-1;}if(q5V.transform && L5V.transformFunc){C6V=q5V.kagiPrevOpen;q5V=q5V.transform;q5V.kagiPrevOpen=L5V.transformFunc(this,L5V,C6V);}o5V=q5V.cache;s4n.o2d(2);h6V=s4n.c2d(M5V,A6V);if(h6V < w5V.cacheLeft || h6V > w5V.cacheRight || !o5V.kagiOpen){o5V.kagiOpen=r5V.semiLog?r5V.height * (1 - (Math.log(Math.max(q5V.Open,+"0")) / Math.LN10 - r5V.logLow) / r5V.logShadow):(r5V.high - q5V.Open) * r5V.multiplier;o5V.kagiClose=r5V.semiLog?r5V.height * (1 - (Math.log(Math.max(q5V.Close,+"0")) / Math.LN10 - r5V.logLow) / r5V.logShadow):(r5V.high - q5V.Close) * r5V.multiplier;if(r5V.flipped){o5V.kagiOpen=r5V.bottom - o5V.kagiOpen;o5V.kagiClose=r5V.bottom - o5V.kagiClose;}else {o5V.kagiOpen+=r5V.top;o5V.kagiClose+=r5V.top;}}e6V=o5V.kagiClose;u5V=r5V.semiLog?r5V.height * (1 - (Math.log(Math.max(q5V.kagiPrevOpen,0)) / Math.LN10 - r5V.logLow) / r5V.logShadow):(r5V.high - q5V.kagiPrevOpen) * r5V.multiplier;if(r5V.flipped){u5V=r5V.bottom - u5V;}else {u5V+=r5V.top;}if(B6V){Z5V.moveTo(A6V >= 0?w5V.left:Math.floor(U5V),o5V.kagiOpen);Z5V.lineTo(Math.floor(U5V),o5V.kagiOpen);if(o5V.kagiClose < o5V.kagiOpen){Z5V.strokeStyle=Q5V;Z5V.lineWidth=v5V;}else {Z5V.strokeStyle=i6V;Z5V.lineWidth=Y5V;}}else {if(y5V != - +"1" && o5V.kagiClose < u5V && u5V < o5V.kagiOpen){Z5V.lineTo(Math.floor(U5V),u5V);Z5V.stroke();Z5V.beginPath();Z5V.moveTo(Math.floor(U5V),u5V);Z5V.strokeStyle=Q5V;Z5V.lineWidth=v5V;}else if(y5V != "1" << 1605556704 && o5V.kagiClose > u5V && u5V > o5V.kagiOpen){Z5V.lineTo(Math.floor(U5V),u5V);Z5V.stroke();Z5V.beginPath();Z5V.moveTo(Math.floor(U5V),u5V);Z5V.strokeStyle=i6V;Z5V.lineWidth=Y5V;}}Z5V.lineTo(Math.floor(U5V),o5V.kagiClose);if(M5V + 1 < l5V.length){Z5V.lineTo(Math.floor(U5V + this.layout.candleWidth),o5V.kagiClose);}B6V=!1;}Z5V.stroke();this.endClip();s4n.o2d(3);Z5V.lineWidth=s4n.c2d(478275104,"1");};P5V.ChartEngine.prototype.drawPointFigureChart=function(P6V,o6V,m6V,z6V){var L4n=x288;var g6V,G6V,I6V,a6V,s6V,c6V,V6V,K6V,J6V,U6V,b6V,Z6V,n6V,T6V,p6V,N6V,D6V,H6V,R6V,k6V,L6V,j6V,X6V,r6V,F6V,d6V;g6V=P6V.chart;this.startClip(P6V.name);G6V=g6V.dataSegment;I6V=g6V.context;this.canvasColor(o6V);if(m6V == "X" && z6V.border_color_up){I6V.strokeStyle=z6V.border_color_up;}else if(m6V == "O" && z6V.border_color_down){I6V.strokeStyle=z6V.border_color_down;}a6V=this.canvasStyle(o6V);s6V=parseInt(a6V.paddingTop,10);function u6V(S6V,f6V,O6V){L4n.f2d(4);I6V.moveTo(L4n.c2d(f6V,S6V,2),L4n.N2d(p6V,O6V,s6V,L4n.f2d(5)));L4n.o2d(2);L4n.r0n();I6V.bezierCurveTo(L4n.c2d(K6V,f6V),L4n.N2d(p6V,O6V,s6V,L4n.f2d(5)),L4n.c2d(K6V,f6V,L4n.o2d(2)),L4n.c2d(p6V,T6V,c6V,O6V,L4n.f2d(6)),L4n.c2d(f6V,S6V,2,L4n.f2d(4)),L4n.N2d(p6V,T6V,c6V,O6V,L4n.f2d(6)));L4n.f2d(7);I6V.bezierCurveTo(L4n.c2d(V6V,S6V),L4n.N2d(p6V,T6V,c6V,O6V,L4n.f2d(6)),L4n.c2d(V6V,S6V,L4n.o2d(7)),L4n.N2d(p6V,O6V,s6V,L4n.f2d(5)),L4n.c2d(f6V,S6V,2,L4n.f2d(4)),L4n.c2d(p6V,O6V,s6V,L4n.f2d(5)));}c6V=parseInt(a6V.paddingBottom,10);V6V=parseInt(a6V.paddingLeft,"10" >> 1076643072);K6V=parseInt(a6V.paddingRight,10);if(a6V.width && parseInt(a6V.width,10) <= 25){L4n.o2d(8);I6V.lineWidth=Math.max(L4n.N2d(1,"1"),P5V.stripPX(a6V.width));}else {I6V.lineWidth=2;}function q6V(M6V,y6V,w6V){L4n.o2d(2);I6V.moveTo(L4n.N2d(V6V,M6V),L4n.c2d(w6V,p6V,c6V,L4n.o2d(9)));L4n.f2d(7);I6V.lineTo(L4n.c2d(K6V,y6V),L4n.N2d(p6V,s6V,T6V,w6V,L4n.f2d(10)));L4n.o2d(2);I6V.moveTo(L4n.c2d(V6V,M6V),L4n.c2d(p6V,s6V,T6V,w6V,L4n.o2d(10)));L4n.o2d(7);I6V.lineTo(L4n.N2d(K6V,y6V),L4n.N2d(w6V,p6V,c6V,L4n.o2d(9)));}if(this.highlightedDraggable){I6V.globalAlpha*=0.3;}I6V.beginPath();J6V=this.chart.state.aggregation.box;L4n.o2d(11);var x9l=L4n.c2d(11,19,17,12,42635);U6V=g6V.dataSet.length - g6V.scroll - x9l;b6V=P6V.yAxis;T6V=J6V * b6V.multiplier;L4n.o2d(12);p6V=L4n.c2d(T6V,2);N6V=this.layout.candleWidth;L4n.f2d(13);var p9l=L4n.c2d(0,16,16);D6V=P6V.left - N6V + this.micropixels - p9l;for(var E6V=0;E6V < G6V.length;E6V++){D6V+=N6V;H6V=G6V[E6V];if(!H6V)continue;if(H6V.projection)break;R6V=H6V.pfOpen;k6V=H6V.pfClose;L6V=H6V.pfTrend;j6V=H6V.pfStepBack;if(H6V.transform && g6V.transformFunc){H6V=H6V.transform;R6V=g6V.transformFunc(this,g6V,R6V);k6V=g6V.transformFunc(this,g6V,k6V);}X6V=H6V.cache;L4n.o2d(2);r6V=L4n.N2d(E6V,U6V);if(r6V < P6V.cacheLeft || r6V > P6V.cacheRight || !X6V.pfOpen){if(b6V.flipped){X6V.pfOpen=b6V.bottom - (b6V.high - R6V) * b6V.multiplier;X6V.pfClose=b6V.bottom - (b6V.high - k6V) * b6V.multiplier;}else {X6V.pfOpen=(b6V.high - R6V) * b6V.multiplier + b6V.top;X6V.pfClose=(b6V.high - k6V) * b6V.multiplier + b6V.top;}}F6V=Math.round(D6V);L4n.o2d(2);d6V=Math.round(L4n.c2d(N6V,D6V));Z6V=Math.abs(Math.round((k6V - R6V) / J6V));n6V=X6V.pfOpen;if(m6V == j6V){if(j6V == (+"7662" > 1660?(7071,9890) >= 213.4?"X":(0x2523,0x9db):154)){L4n.o2d(7);q6V(F6V,d6V,L4n.c2d(T6V,n6V));}else if(j6V == (3580 == 2172?("142.54" - 0,"2.85e+3" << 1972396224):"O")){L4n.o2d(2);u6V(F6V,d6V,L4n.c2d(T6V,n6V));}}if(m6V == L6V){for(;Z6V >= 0;Z6V--){if(m6V == ((4117,1150) <= ("4900" ^ 0,913.73)?(8.74e+2,! ![]):"X")){q6V(F6V,d6V,n6V,T6V,p6V);n6V-=b6V.flipped?-T6V:T6V;}else if(m6V == "O"){u6V(F6V,d6V,n6V,T6V,p6V);n6V+=b6V.flipped?-T6V:T6V;}}}}I6V.stroke();L4n.r0n();this.endClip();I6V.lineWidth=1;};P5V.ChartEngine.calculateAggregation=function(l6V,W6V,v6V,Y6V){var i09,t6V,Q6V;i09="ka";i09+="gi";Q6V=l6V.layout;if(["heikinashi","heikenashi"].indexOf(W6V) > -("1" | 0)){t6V=P5V.calculateHeikinAshi(l6V,v6V,Y6V);}else if(W6V == "rangebars"){t6V=P5V.calculateRangeBars(l6V,v6V,Q6V.rangebars,Y6V);}else if(W6V == i09){t6V=P5V.calculateKagi(l6V,v6V,Q6V.kagi,Y6V);}else if(W6V == "linebreak"){t6V=P5V.calculateLineBreak(l6V,v6V,Q6V.priceLines,Y6V);}else if(W6V == "renko"){t6V=P5V.calculateRenkoBars(l6V,v6V,Q6V.renko,Y6V);}else if(W6V == "pandf"){t6V=P5V.calculatePointFigure(l6V,v6V,Q6V.pandf,Y6V);}return t6V;};P5V.calculateHeikinAshi=function(n4V,H4V,g4V){var B4n=x288;var C4V,i4V,A4V,I4V,x4V,B4V,h4V,e4V,a4V,s4V,T4V;if(!H4V.length){return H4V;}if(!g4V){g4V=[];}C4V=[];B4n.j0n();for(var b4V=0;b4V < H4V.length;b4V++){i4V=H4V[b4V];if(!i4V)continue;B4n.f2d(14);var w9l=B4n.c2d(4,2,10,1,11);A4V=C4V[C4V.length - w9l];if(!A4V && !b4V){B4n.f2d(15);var W9l=B4n.N2d(359,20,2,0,9);A4V=g4V[g4V.length - W9l];}if(!A4V){A4V=i4V;}I4V=i4V.Close;x4V=i4V.Open;B4V=i4V.High;h4V=i4V.Low;e4V=A4V.Open;x4V=x4V || x4V === ("0" ^ 0)?x4V:I4V;B4V=B4V || B4V === 0?B4V:I4V;h4V=h4V || h4V === 0?h4V:I4V;e4V=e4V || e4V === 0?e4V:A4V.Close;B4n.f2d(16);var I9l=B4n.N2d(19,23,9,15);a4V=(e4V + A4V.Close) / I9l;B4n.f2d(17);s4V=B4n.c2d(h4V,I4V,B4V,4,x4V);T4V={DT:i4V.DT,displayDate:i4V.displayDate,Date:i4V.Date,Open:a4V,Close:s4V,High:Math.max(B4V,Math.max(a4V,s4V)),Low:Math.min(h4V,Math.min(a4V,s4V)),Volume:i4V.Volume,iqPrevClose:A4V.Close};for(var p4V in i4V){if(!T4V[p4V] && T4V[p4V] !== 0){T4V[p4V]=i4V[p4V];}}C4V.push(T4V);}return C4V;};P5V.calculateKagi=function(z4V,R4V,c4V,F4V){var Z4n=x288;var d4V,K4V,Q09,V4V,X4V,D4V,m4V,N4V,P4V;if(!R4V.length){return R4V;}if(!F4V){F4V=[];}d4V=z4V.layout;K4V=z4V.chart;c4V=parseFloat(c4V);K4V.defaultChartStyleConfig.kagi=P5V.ChartEngine.isDailyInterval(d4V.interval)?4:0.4;if(isNaN(c4V) || c4V <= 0){c4V=K4V.defaultChartStyleConfig.kagi;if(P5V.Market.Symbology.isForexSymbol(K4V.symbol)){c4V/=4;}if(d4V.kagi !== null){Q09="lay";Q09+="ou";Q09+="t";d4V.kagi=null;z4V.changeOccurred(Q09);}}c4V/=+"100";V4V=[];Z4n.f2d(7);var q9l=Z4n.N2d(5,6);X4V=F4V[F4V.length - q9l];D4V=X4V?X4V.DT:0;for(var k4V="0" | 0;k4V < R4V.length;k4V++){m4V=R4V[k4V];if(!m4V)continue;if(!X4V){Z4n.o2d(18);X4V=R4V[Z4n.N2d(k4V,1537297920,"1")];}if(!X4V)continue;N4V=X4V.Open || X4V.Open === +"0"?X4V.Open:X4V.Close;if(N4V > X4V.Close){if(m4V.Close > X4V.Close * (1 + c4V)){m4V.Open=X4V.Close;}else {if(X4V.Close > m4V.Close){X4V.Close=m4V.Close;}X4V.Volume+=m4V.Volume;if(k4V < R4V.length - 1)continue;}}else if(N4V < X4V.Close){if(m4V.Close < X4V.Close * (+"1" - c4V)){m4V.Open=X4V.Close;}else {if(X4V.Close < m4V.Close){X4V.Close=m4V.Close;}X4V.Volume+=m4V.Volume;if(k4V < R4V.length - 1)continue;}}else {X4V.Close=m4V.Close;X4V.Volume+=m4V.Volume;if(k4V < R4V.length - 1)continue;}P4V={DT:X4V.DT,displayDate:X4V.displayDate,Date:X4V.Date,Open:X4V.Open,Close:X4V.Close,High:Math.max(X4V.Open,X4V.Close),Low:Math.min(X4V.Open,X4V.Close),Volume:X4V.Volume,iqPrevClose:X4V.iqPrevClose};for(var E4V in X4V){if(!P4V[E4V] && P4V[E4V] !== 0){P4V[E4V]=X4V[E4V];}}if(V4V.length){P4V.kagiPrevOpen=V4V[V4V.length - 1].Open;}else {P4V.kagiPrevOpen=P4V.Open;}if(P4V.Close > P4V.kagiPrevOpen && P4V.kagiPrevOpen > P4V.Open){Z4n.f2d(19);P4V.kagiTrend=Z4n.c2d(1,"1");}else if(P4V.Close < P4V.kagiPrevOpen && P4V.kagiPrevOpen < P4V.Open){P4V.kagiTrend=-1;}if(D4V < P4V.DT){V4V.push(P4V);}X4V=m4V;K4V.currentQuote={Close:m4V.Close};}return V4V;};x288.r0n();P5V.calculateLineBreak=function(t4V,y4V,J4V,W4V){var O4V,S4V,Z4V,v4V,f4V,j4V,r4V,o4V,U4V,L4V,q4V,G4V,u4V,w4V;if(!y4V.length){return y4V;}if(!W4V){W4V=[];}O4V=t4V.layout;S4V=t4V.chart;S4V.defaultChartStyleConfig.priceLines=3;J4V=parseInt(J4V,10);if(isNaN(J4V) || J4V <= 0){J4V=S4V.defaultChartStyleConfig.priceLines;if(O4V.priceLines !== null){O4V.priceLines=null;t4V.changeOccurred("layout");}}else if(J4V > 10){O4V.priceLines=J4V=10;}Z4V=W4V.slice(-J4V);x288.j0n();v4V=Z4V.length;f4V=0;a:for(var l4V=0;l4V < y4V.length;l4V++){j4V=y4V[l4V];if(!j4V)continue;f4V+=j4V.Volume;x288.f2d(20);var c9l=x288.N2d(16,24,6,3);r4V=Z4V[Z4V.length - c9l];if(!r4V){r4V={Open:j4V.Open,Close:j4V.Open,High:j4V.Open,Low:j4V.Open};}o4V=r4V.Close;U4V=r4V.High;L4V=r4V.Low;q4V=r4V.Open;U4V=U4V || U4V === 0?U4V:o4V;L4V=L4V || L4V === +"0"?L4V:o4V;q4V=q4V || q4V === 0?q4V:o4V;G4V={DT:j4V.DT,displayDate:j4V.displayDate,Date:j4V.Date,Close:j4V.Close,Volume:f4V,iqPrevClose:o4V};S4V.currentQuote={Close:j4V.Close};if(j4V.Close > o4V && r4V.Close > q4V){;}else if(j4V.Close < o4V && r4V.Close < q4V){;}else if(j4V.Close > U4V){for(u4V=2;u4V <= J4V;u4V++){w4V=Z4V[Z4V.length - u4V];if(w4V && j4V.Close <= w4V.High){continue a;}}}else if(j4V.Close < L4V){for(u4V=2;u4V <= J4V;u4V++){w4V=Z4V[Z4V.length - u4V];if(w4V && j4V.Close >= w4V.Low){continue a;}}}else continue;if(j4V.Close < r4V.Close){G4V.Open=Math.min(q4V,o4V);}else {G4V.Open=Math.max(q4V,o4V);}G4V.Low=Math.min(G4V.Open,G4V.Close);G4V.High=Math.max(G4V.Open,G4V.Close);for(var M4V in j4V){if(!G4V[M4V] && G4V[M4V] !== 0){G4V[M4V]=j4V[M4V];}}Z4V.push(G4V);f4V=0;}return Z4V.slice(v4V);};P5V.getMaxRenkoBarsPerRecord=function(Y4V){x288.j0n();return 200;};P5V.calculateRenkoBars=function(b8V,i8V,Q4V,I8V,k8V){var c4n=x288;var T8V,C8V,V8V,e8V,K8V,X09,a8V,p8V,E8V,d8V,s8V,z8V,n8V,A8V,B8V,x8V,X8V,h8V,P8V,m8V,c8V,R8V,N8V,D8V,j8V,G8V,J8V;if(!i8V.length){return [];}if(!I8V){I8V=[];}T8V=b8V.layout;C8V=b8V.chart;V8V=Q4V;e8V=C8V.state.aggregation;if(!e8V){e8V=C8V.state.aggregation={};}K8V=Math.min(300,i8V.length);if(!e8V.minMax){X09="L";X09+="o";X09+="w";e8V.minMax=b8V.determineMinMax(i8V.slice(i8V.length - K8V),["Close","High",X09]);}c4n.o2d(9);var Y9l=c4n.N2d(0,6,5);c4n.o2d(2);c4n.j0n();var H9l=c4n.N2d(17,1025984463);a8V=e8V.minMax[Y9l] - e8V.minMax["0" >> H9l];p8V=b8V.panels[C8V.name].height;function H8V(u8V,U8V){var L8V;u8V=Number(u8V.toFixed(8));U8V=Number(U8V.toFixed(8));L8V={DT:x8V.DT,displayDate:x8V.displayDate,Date:x8V.Date,Open:u8V,Close:U8V,High:Math.max(u8V,U8V),Low:Math.min(u8V,U8V),Volume:0,iqPrevClose:u8V != U8V?u8V:null};c4n.r0n();for(var w8V in x8V){if(!L8V[w8V] && L8V[w8V] !== 0){L8V[w8V]=x8V[w8V];}}n8V.push(L8V);}if(!p8V){return [];}E8V=I8V.length > 0;c4n.o2d(21);d8V=F8V(c4n.N2d(a8V,p8V,30));s8V=P5V.getMaxRenkoBarsPerRecord(C8V.symbolObject);if(k8V){z8V=i8V.reduce((o8V,q8V)=>{var r8V;c4n.r0n();r8V=Math.abs(q8V.Close - q8V.iqPrevClose);return r8V > o8V?r8V:o8V;},0);c4n.f2d(12);e8V.minAutoRenko=F8V(c4n.c2d(z8V,s8V));}C8V.defaultChartStyleConfig.renko=e8V.minAutoRenko || d8V;if(Q4V === null || isNaN(Q4V) || Q4V <= +"0"){Q4V=C8V.defaultChartStyleConfig.renko;if(T8V.renko !== null){T8V.renko=null;b8V.changeOccurred("layout");}}else {c4n.o2d(12);Q4V=Math.max(Q4V,c4n.c2d(a8V,p8V));if(T8V.renko !== Q4V){T8V.renko=Q4V;b8V.changeOccurred("layout");}}n8V=[];function F8V(Z8V){c4n.r0n();return Z8V > 0.001?Number(Z8V.toFixed(4)):Z8V;}A8V=null;B8V=null;x8V=null;if(I8V.length){c4n.o2d(9);var S9l=c4n.c2d(16,5,20);X8V=I8V[I8V.length - S9l];A8V=X8V.Low - Q4V;B8V=X8V.High + Q4V;}for(var g8V=0;g8V < i8V.length;g8V++){h8V=i8V[g8V];if(!h8V)continue;if(!A8V && !B8V){P8V=h8V.Open || h8V.Open === 0?h8V.Open:h8V.Close;m8V=Math.floor(P8V / Q4V) * Q4V;c8V=isNaN(m8V)?P8V:m8V;c4n.f2d(7);A8V=c4n.N2d(Q4V,c8V);c4n.f2d(2);B8V=c4n.N2d(Q4V,c8V);}c4n.f2d(19);R8V=c4n.N2d(s8V,Q4V);N8V=!T8V.renko;D8V=A8V - h8V.Close;j8V=h8V.Close - B8V;G8V=D8V > R8V || j8V > R8V;J8V=N8V && G8V && !k8V && !E8V;if(J8V){return P5V.calculateRenkoBars(b8V,i8V,V8V,I8V,! !"1");}while(!0){if(!x8V){x8V=h8V;}if(h8V.Close <= A8V){c4n.f2d(2);H8V(c4n.c2d(Q4V,A8V),A8V);c4n.o2d(22);B8V=c4n.N2d(2,Q4V,A8V);A8V-=Q4V;x8V=null;}else if(h8V.Close >= B8V){c4n.f2d(7);H8V(c4n.c2d(Q4V,B8V),B8V);c4n.f2d(23);A8V=c4n.c2d(B8V,2,Q4V);B8V+=Q4V;x8V=null;}else break;}C8V.currentQuote=h8V;}if(A8V < i8V[i8V.length - 1].Close && A8V + Q4V > i8V[i8V.length - 1].Close){c4n.f2d(2);H8V(c4n.N2d(Q4V,A8V),i8V[i8V.length - 1].Close);}else if(B8V > i8V[i8V.length - 1].Close && B8V - Q4V < i8V[i8V.length - 1].Close){c4n.f2d(7);H8V(c4n.c2d(Q4V,B8V),i8V[i8V.length - 1].Close);}return n8V;};P5V.calculateRangeBars=function(x9V,t8V,y8V,b9V){var M4n=x288;var C09,C9V,e9V,A9V,s9V,p9V,I9V,H9V,M8V,W8V,v8V,T9V,Y8V,O8V,h9V,Q8V,S8V,f8V,l8V,a9V,X9V;C09="H";C09+="ig";function B9V(k9V,R9V){M4n.j0n();while(1){if(!Y8V){Y8V=k9V;}if(M8V < R9V){M8V=Math.min(R9V,W8V);M4n.f2d(7);v8V=Math.max(v8V,M4n.N2d(y8V,M8V));if(R9V < W8V)break;}else if(M8V >= R9V){M8V=Math.max(R9V,v8V);M4n.o2d(2);W8V=Math.min(W8V,M4n.c2d(y8V,M8V));if(R9V > v8V)break;}if(typeof M8V == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}n9V(M8V);Y8V=null;g9V();}}C09+="h";if(!t8V.length){return t8V;}if(!b9V){b9V=[];}C9V=x9V.layout;e9V=x9V.chart;A9V=e9V.state.aggregation;if(!A9V){A9V=e9V.state.aggregation={};}s9V=Math.min(300,t8V.length);if(!A9V.minMax){A9V.minMax=x9V.determineMinMax(t8V.slice(t8V.length - s9V),["Close",C09,"Low"]);}M4n.o2d(24);var k9l=M4n.N2d(0,16,15,12,20);p9V=A9V.minMax[k9l] - A9V.minMax[0];function n9V(c9V){var P9V;P9V={DT:Y8V.DT,displayDate:Y8V.displayDate,Date:Y8V.Date,Open:Number(T9V.toFixed(8)),Close:Number(c9V.toFixed("8" - 0)),High:Number(W8V.toFixed("8" & 2147483647)),Low:Number(v8V.toFixed("8" ^ 0)),Volume:0};P9V.iqPrevClose=P9V.Open;for(var m9V in Y8V){if(!P9V[m9V] && P9V[m9V] !== 0){P9V[m9V]=Y8V[m9V];}}M4n.j0n();H9V.push(P9V);}I9V=x9V.panels[e9V.name].height;if(!I9V){return [];}function g9V(){M4n.f2d(2);W8V=M4n.c2d(y8V,M8V);M4n.o2d(7);v8V=M4n.c2d(y8V,M8V);T9V=M8V;}M4n.o2d(25);var j4l=M4n.N2d(1,9999,1,10013,10013);M4n.f2d(26);var h4l=M4n.c2d(20,23,7,20);M4n.f2d(7);var z4l=M4n.c2d(8,10008);e9V.defaultChartStyleConfig.range=Math.floor(j4l * p9V / (I9V / h4l)) / z4l;if(y8V === null || isNaN(y8V) || y8V < 0){y8V=e9V.defaultChartStyleConfig.range;if(C9V.range !== null){C9V.range=null;x9V.changeOccurred("layout");}}else {M4n.f2d(12);y8V=Math.max(y8V,M4n.c2d(p9V,I9V));if(C9V.range !== y8V){C9V.range=y8V;x9V.changeOccurred("layout");}}H9V=[];M8V=null;W8V=null;v8V=null;T9V=null;M4n.r0n();Y8V=null;for(var i9V=0;i9V < t8V.length;i9V++){O8V=t8V[i9V];if(!O8V)continue;M4n.f2d(27);h9V=t8V[M4n.c2d("1",i9V)];if(!i9V){if(!h9V){M4n.o2d(28);var A4l=M4n.c2d(1,1,17,17);h9V=b9V[b9V.length - A4l];}if(h9V){M8V=h9V.Close;if(M8V || M8V === 0){g9V();}}}if(!h9V)continue;Q8V=O8V.Close;S8V=O8V.Open;f8V=O8V.High;l8V=O8V.Low;if(!Q8V && Q8V !== "0" >> 1778575968)continue;S8V=S8V || S8V === "0" - 0?S8V:Q8V;f8V=f8V || f8V === 0?f8V:Q8V;l8V=l8V || l8V === 0?l8V:Q8V;if(!M8V && M8V !== 0){a9V=Math.floor(S8V / y8V) * y8V;M8V=isNaN(a9V)?S8V:a9V;g9V();B9V(h9V,S8V);}if(i9V){B9V(O8V,S8V);}if(f8V - S8V < S8V - l8V){if(f8V){B9V(O8V,f8V);}if(l8V){B9V(O8V,l8V);}}else {if(l8V){B9V(O8V,l8V);}if(f8V){B9V(O8V,f8V);}}B9V(O8V,Q8V);if(i9V == t8V.length - 1 && Q8V != T9V){X9V=W8V;M4n.f2d(2);W8V=M4n.N2d(y8V,v8V);M4n.o2d(7);v8V=M4n.c2d(y8V,X9V);n9V(Q8V);}}return H9V;};P5V.calculatePointFigure=function(w9V,M9V,O9V,S9V){var z4n=x288;var D9V,J9V,f9V,V9V,z9V,y4W,l4W,e4W,Z9V,E09,m09,U9V,L9V,q9V,N9V,d9V,j9V,K9V,G9V,u9V,E9V,F9V,r9V,o9V;if(!M9V.length){return M9V;}if(!S9V){S9V=[];}D9V=w9V.layout;J9V=w9V.chart;f9V=J9V.state.aggregation;if(!f9V){f9V=J9V.state.aggregation={};}J9V.defaultChartStyleConfig.box=1;J9V.defaultChartStyleConfig.reversal=3;if(!O9V){O9V={};}V9V=O9V.box;if(!V9V){if(D9V.pandf){if(D9V.pandf.box !== null){D9V.pandf.box=null;w9V.changeOccurred("layout");}}V9V=J9V.defaultChartStyleConfig.box;z9V=M9V[M9V.length - 1].Close;if(z9V){y4W=-1149473291;l4W=74736187;e4W=2;for(var B4W=+"1";z4n.J9W(B4W.toString(),B4W.toString().length,68015) !== y4W;B4W++){if(z9V < 0.25){V9V=0.0625;}else if(z9V < 1){V9V=0.125;}else if(z9V < 5){V9V=0.25;}else if(z9V < 20){V9V=0.5;}else if(z9V < 100){V9V=1;}else if(z9V < "200" * 1){V9V=2;}else if(z9V < 500){z4n.f2d(7);V9V=z4n.c2d(0,"4");}else if(z9V < 1000){V9V=5;}else if(z9V < +"25000"){V9V=50;}else {z4n.f2d(29);V9V=z4n.N2d(1040460384,"500");}e4W+=2;}if(z4n.a9W(e4W.toString(),e4W.toString().length,31477) !== l4W){if(z9V > 6299){V9V=595889;}else if(z9V >= 7){V9V=45192;}else if(z9V <= 6){V9V=+"3290";}else if(z9V >= 96){V9V=741;}else if(z9V <= 252){V9V=6;}else if(z9V <= 859){V9V=0;}else if(z9V > "441" << 104106048){V9V=0;}else if(z9V >= +"3810"){V9V=3;}else if(z9V <= 15413){V9V=46;}else {V9V=+"259";}}}if(!P5V.ChartEngine.isDailyInterval(D9V.interval)){V9V/=10;}if(P5V.Market.Symbology.isForexSymbol(J9V.symbol)){if(z9V){if(z9V < 1){V9V=0.001;}else if(z9V < "2" >> 1790381344){V9V=0.002;}else if(z9V < 50){V9V=0.02;}else if(z9V < +"200"){V9V=0.2;}}if(P5V.ChartEngine.isDailyInterval(D9V.interval)){V9V*=10;}}J9V.defaultChartStyleConfig.box=V9V;}V9V=parseFloat(V9V);if(isNaN(V9V) || V9V <= ("0" | 0)){if(D9V.pandf){if(D9V.pandf.box !== null){D9V.pandf.box=null;w9V.changeOccurred("layout");}}J9V.defaultChartStyleConfig.box=V9V=1;}function t9V(Q9V,Y9V){for(var v9V in Q9V){if(!Y9V[v9V] && Y9V[v9V] !== 0){Y9V[v9V]=Q9V[v9V];}}return Y9V;}Z9V=Math.ceil(parseFloat(O9V.reversal));if(Z9V > 0 && Z9V > O9V.reversal){E09="l";E09+="a";E09+="yo";E09+="ut";D9V.pandf.reversal=Z9V;w9V.changeOccurred(E09);}else if(isNaN(Z9V) || Z9V <= 0){if(D9V.pandf){if(D9V.pandf.reversal !== null){m09="l";m09+="ay";m09+="out";D9V.pandf.reversal=null;w9V.changeOccurred(m09);}}Z9V=J9V.defaultChartStyleConfig.reversal;}function y9V(i0A,A0A,B0A,h0A,x0A){i0A.High=Math.max(A0A,i0A.High);i0A.Low=Math.min(B0A,i0A.Low);i0A.Close=h0A;i0A.Volume+=x0A;}f9V.box=V9V;Z9V*=V9V;U9V=+"0.00000001";function W9V(e0A,C0A,b0A,I0A,T0A,p0A,H0A,g0A,a0A){return {DT:e0A.DT,Date:e0A.Date,pfOpen:g0A,pfClose:a0A,Open:C0A,Close:T0A,High:b0A,Low:I0A,Volume:p0A,iqPrevClose:H0A};}L9V=(V9V.toString() + (3220 < 5522?1694 == "9330" >> 988271392?0xa82:(2680,5980) > ("687.03" * 1,241.76)?".":"77.69" * 1:+"0x1254")).split(5600 < (605.28,3350)?(4.68e+3,! ![]):".")[1].length;q9V=[];N9V=0;for(var l9V=0;l9V < M9V.length;l9V++){j9V=M9V[l9V];if(!j9V)continue;N9V+=j9V.Volume;G9V=j9V.Close;u9V=j9V.Open;E9V=j9V.High;F9V=j9V.Low;u9V=u9V || u9V === +"0"?u9V:G9V;E9V=E9V || E9V === 0?E9V:G9V;F9V=F9V || F9V === 0?F9V:G9V;if(!q9V.length && !S9V.length){d9V=t9V(j9V,W9V(j9V,u9V,E9V,F9V,G9V,N9V,E9V + V9V,Number((Math.ceil(F9V / V9V - U9V) * V9V).toFixed(L9V)),Number((Math.floor(E9V / V9V + U9V) * V9V).toFixed(L9V))));d9V.pfTrend="X";if(d9V.pfOpen == d9V.pfClose){d9V.pfStepBack=("686.31" - 0,"6316" >> 1368311104) < 68.26?0x13dc:"-";}q9V.push(d9V);N9V=0;continue;}z4n.o2d(30);var P4l=z4n.N2d(6,3,3,6);K9V=q9V[q9V.length - P4l];if(!K9V){K9V=P5V.clone(S9V[S9V.length - 1]);}if(K9V.pfTrend == "O"){if(F9V <= K9V.pfClose - V9V){K9V.pfClose=Number((Math.ceil(F9V / V9V - U9V) * V9V).toFixed(L9V));if(K9V.pfStepBack == "O"){K9V.pfStepBack=null;}y9V(K9V,E9V,F9V,G9V,N9V);}else if(E9V >= K9V.pfClose + Z9V){r9V=K9V.pfClose + V9V;o9V=Number((Math.floor(E9V / V9V + U9V) * V9V).toFixed(L9V));d9V=W9V(j9V,u9V,E9V,F9V,G9V,N9V,K9V.pfClose,r9V,o9V);if(r9V == o9V){d9V.pfStepBack="X";}if(K9V.pfStepBack == ((8725,+"4521") == ("646" & 2147483647)?(6643,6060) < 4070?!1:(0x1041,2.36e+3):"O")){K9V.pfOpen=r9V;K9V.pfClose=o9V;K9V.pfTrend="X";y9V(K9V,E9V,F9V,G9V,N9V);}else {d9V=t9V(j9V,d9V);d9V.pfTrend="X";q9V.push(d9V);}}else {y9V(K9V,E9V,F9V,G9V,N9V);}N9V=0;}else if(K9V.pfTrend == (1740 == (737.84,"9010" | 514)?(+"332.37",![]):(3640,3005) !== (723.33,7162)?"X":9.93e+3)){if(E9V >= K9V.pfClose + V9V){K9V.pfClose=Number((Math.floor(E9V / V9V + U9V) * V9V).toFixed(L9V));if(K9V.pfStepBack == (104.56 >= 5730?("9520" | 1056,4150) != 726.99?(896.6,4771) < 837.29?2.47e+3:("A",4.34e+3):(0xe2b,"I"):"X") || K9V.pfStepBack == (+"862" <= 9524?"-":7.58e+3)){K9V.pfStepBack=null;}y9V(K9V,E9V,F9V,G9V,N9V);}else if(F9V <= K9V.pfClose - Z9V){r9V=K9V.pfClose - V9V;o9V=Number((Math.ceil(F9V / V9V - U9V) * V9V).toFixed(L9V));d9V=W9V(j9V,u9V,E9V,F9V,G9V,N9V,K9V.pfClose,r9V,o9V);if(r9V == o9V){d9V.pfStepBack="O";}if(K9V.pfStepBack == ((4257,2591) != (6101,4167)?"X":("E","i")) || K9V.pfStepBack == (4590 == ("5860" & 2147483647,509)?+"37" <= (1040,56.29)?!0:(+"8.69e+3",!0):"-")){K9V.pfOpen=r9V;K9V.pfClose=o9V;K9V.pfTrend=1430 == ("8384" - 0,3236)?(0x14b3,0x170d):"O";y9V(K9V,E9V,F9V,G9V,N9V);if(r9V != o9V && K9V.pfStepBack == ((+"7170",905.53) < (627.94,6580)?+"585.01" > 5660?(! !{},"k"):871 >= (410.03,3170)?(+"7.49e+3",+"4.31e+3"):"-":"V")){K9V.pfStepBack=null;}}else {d9V=t9V(j9V,d9V);d9V.pfTrend="O";q9V.push(d9V);}}else {y9V(K9V,E9V,F9V,G9V,N9V);}N9V=0;}}return q9V;};};v3V=X0A=>{var d4n=x288;var s0A,n0A,v79,o79,J79,a79,D79,L79,Z79,y79,m79,E79,T79,d79,N79,r79,P79,A79,z79,h79,j79,k09,S09,H09,Y09,c09,f09,G09,n09,M09;s0A=typeof _CIQ !== "undefined"?_CIQ:X0A.CIQ;n0A=typeof _timezoneJS !== "undefined"?_timezoneJS:X0A.timezoneJS;if(!s0A.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {v79="c";v79+="q-wave-parameters";o79="br[c";o79+="q-wa";o79+="v";o79+="e-parameters]";J79="wa";J79+="vePa";J79+="rameters";a79="l";a79+="ineCol";a79+="or";D79="e";D79+="n";D79+="closed";L79="I";L79+="V";Z79="p";Z79+="att";Z79+="ern";y79="p";y79+="at";y79+="ter";y79+="n";m79="lineW";m79+="id";m79+="th";E79="c";E79+="olo";E79+="r";T79="cq-cvp-co";T79+="ntroller[cq-cvp";T79+="-hea";T79+="der=\"2\"]";d79="lin";d79+="eW";d79+="idth3";N79="active";N79+="3";r79="c";r79+="olo";r79+="r2";P79="ac";P79+="ti";P79+="v";P79+="e2";A79="pa";A79+="tte";A79+="r";A79+="n1";z79="l";z79+="i";z79+="neWidth";z79+="1";h79="co";h79+="l";h79+="o";h79+="r1";j79="ac";j79+="tiv";j79+="e1";k09="pa";k09+="r";k09+="ame";k09+="ters";S09="patt";S09+="er";S09+="n";H09="f";H09+="illCo";H09+="lor";Y09="t";Y09+="z";c09="p";c09+="v";f09="c";f09+="o";f09+="lo";f09+="r";G09="lineWi";G09+="d";G09+="th";n09="fi";n09+="llCo";n09+="lo";n09+="r";M09="c";M09+="ol";M09+="or";s0A.Drawing.ray=function(){var y09;y09="r";y09+="a";y09+="y";this.name=y09;};s0A.inheritsFrom(s0A.Drawing.ray,s0A.Drawing.line);s0A.Drawing.ray.prototype.calculateOuterSet=function(c0A){var P0A,m0A;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || s0A.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}P0A={x0:this.p0["0" - 0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[+"1"]};m0A=P0A.x1 + +"1000";if(P0A.x0 > P0A.x1){d4n.f2d(7);var r4l=d4n.N2d(19000,20000);m0A=P0A.x1 - r4l;}this.v0B=this.v0;this.v1B=s0A.yIntersection(P0A,m0A);this.d0B=this.d0;d4n.r0n();this.d1B=this.stx.dateFromTick(m0A,c0A.chart);};s0A.Drawing.ray.prototype.adjust=function(){var R0A;R0A=this.stx.panels[this.panelName];if(!R0A){return;}this.setPoint(0,this.d0,this.v0,R0A.chart);this.setPoint(1,this.d1,this.v1,R0A.chart);if(s0A.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,R0A.chart);}};s0A.Drawing.continuous=function(){var l09;l09="co";d4n.j0n();l09+="ntin";l09+="u";l09+="ous";this.name=l09;this.dragToDraw=!{};this.maxSegments=null;};s0A.inheritsFrom(s0A.Drawing.continuous,s0A.Drawing.segment);s0A.Drawing.continuous.prototype.click=function(z0A,V0A,K0A){var k0A,F0A,E0A,d0A;k0A=this.stx.panels[this.panelName];if(!k0A){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V0A,K0A,k0A.chart);this.penDown=! ![];return ! !0;}if(this.accidentalClick(V0A,K0A)){this.stx.undo();return ! !"1";}this.setPoint(1,V0A,K0A,k0A.chart);F0A=s0A.Drawing.segment;E0A=new F0A();d0A=this.serialize(this.stx);E0A.reconstruct(this.stx,d0A);this.stx.addDrawing(E0A);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !"";}d4n.f2d(3);this.setPoint(d4n.N2d(565440480,"0"),V0A,K0A,k0A.chart);return !{};};s0A.Drawing.ellipse=function(){var e09;e09="elli";e09+="pse";this.name=e09;};s0A.inheritsFrom(s0A.Drawing.ellipse,s0A.Drawing.BaseTwoPoint);s0A.Drawing.ellipse.prototype.render=function(N0A){var g09,G0A,y0A,o0A,q0A,u0A,J0A,U0A,L0A,w0A,M0A,Z0A,D0A,j0A,B09,r0A,O0A;g09="au";g09+="t";g09+="o";G0A=this.stx.panels[this.panelName];if(!G0A){return;}y0A=this.stx.pixelFromTick(this.p0[0],G0A.chart);o0A=this.stx.pixelFromTick(this.p1[0],G0A.chart);q0A=this.stx.pixelFromValueAdjusted(G0A,this.p0[0],this.p0[1]);u0A=this.stx.pixelFromValueAdjusted(G0A,this.p1["0" << 1962406176],this.p1[1]);d4n.o2d(31);J0A=d4n.c2d(o0A,y0A,y0A);U0A=o0A;L0A=q0A;w0A=u0A;d4n.f2d(31);M0A=d4n.N2d(u0A,q0A,q0A);d4n.f2d(32);Z0A=d4n.N2d(M0A,w0A,6);D0A=this.lineWidth;if(!D0A){D0A=1.1;}j0A=this.color;if(j0A == g09 || s0A.isTransparent(j0A)){j0A=this.stx.defaultColor;}if(this.highlighted){B09="stx_";B09+="highlight_vector";j0A=this.stx.getCanvasColor(B09);if(D0A == +"0.1"){D0A=1.1;}}r0A=this.fillColor;N0A.beginPath();N0A.moveTo(J0A,L0A);d4n.o2d(2);N0A.bezierCurveTo(J0A,d4n.N2d(Z0A,w0A),U0A,d4n.N2d(Z0A,w0A),U0A,L0A);d4n.f2d(7);N0A.bezierCurveTo(U0A,d4n.N2d(Z0A,M0A),J0A,d4n.c2d(Z0A,M0A),J0A,L0A);if(r0A && !s0A.isTransparent(r0A) && r0A != "auto"){N0A.fillStyle=r0A;N0A.globalAlpha=0.2;N0A.fill();N0A.globalAlpha=1;}if(j0A && this.pattern != "none"){N0A.strokeStyle=j0A;N0A.lineWidth=D0A;if(N0A.setLineDash){N0A.setLineDash(s0A.borderPatternToArray(D0A,this.pattern));N0A.lineDashOffset=0;;}N0A.stroke();}N0A.closePath();if(this.highlighted){O0A=this.highlighted == "p1"?!0:!"1";this.littleCircle(N0A,o0A,u0A,O0A);}};s0A.Drawing.ellipse.prototype.intersected=function(v0A,Y0A,S0A){var t09,Z09,O09,f0A,l0A,t0A,W0A;t09="mo";t09+="ve";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1["1" * 1],S0A)){Z09="dra";Z09+="g";O09="p";O09+="1";this.highlighted=O09;return {action:Z09,point:"p1"};}f0A=this.p0[0] - (this.p1[0] - this.p0[0]);l0A=this.p1[0];d4n.f2d(7);t0A=this.p1[d4n.c2d(0,"1")];d4n.o2d(5);var N4l=d4n.c2d(13,0,14);d4n.o2d(33);var d4l=d4n.N2d(12,13);d4n.o2d(5);var T4l=d4n.N2d(39,21,19);W0A=this.p0[N4l] - (this.p1[d4l] - this.p0[T4l]);if(S0A.x0 > Math.max(f0A,l0A) || S0A.x1 < Math.min(f0A,l0A)){return !{};}if(S0A.y1 > Math.max(W0A,t0A) || S0A.y0 < Math.min(W0A,t0A)){return !{};}this.highlighted=!0;return {action:t09,p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:v0A,value:Y0A};};s0A.Drawing.ellipse.prototype.configs=[M09,n09,"lineWidth","pattern"];s0A.Drawing.ellipse.prototype.reconstruct=function(A1A,Q0A){d4n.r0n();this.stx=A1A;this.color=Q0A.col;this.fillColor=Q0A.fc;this.panelName=Q0A.pnl;this.pattern=Q0A.ptrn;this.lineWidth=Q0A.lw;this.d0=Q0A.d0;this.d1=Q0A.d1;this.tzo0=Q0A.tzo0;this.tzo1=Q0A.tzo1;this.v0=Q0A.v0;this.v1=Q0A.v1;this.adjust();};s0A.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};s0A.Drawing.channel=function(){this.name="channel";d4n.r0n();this.dragToDraw=!1;this.p2=null;};s0A.inheritsFrom(s0A.Drawing.channel,s0A.Drawing.segment);s0A.Drawing.channel.prototype.configs=["color","fillColor",G09,"pattern"];s0A.Drawing.channel.prototype.move=function(I1A,h1A,C1A){var b1A;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[h1A,C1A];}else {d4n.f2d(7);var i4l=d4n.N2d(12,13);d4n.o2d(34);var Q4l=d4n.c2d(10,13,7,45,5);b1A=C1A - (this.p1[i4l] - this.p0[Q4l]) / (this.p1[0] - this.p0[0]) * (h1A - this.p1[+"0"]);this.p2=[this.p1[0],b1A];}d4n.j0n();this.render(I1A);};s0A.Drawing.channel.prototype.click=function(a1A,H1A,g1A){var p1A,T69,i69,Q69;p1A=this.stx.panels[this.panelName];if(!p1A){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,H1A,g1A,p1A.chart);this.penDown=! !1;return ! !"";}if(this.accidentalClick(H1A,g1A)){this.stx.undo();return ! !{};}if(this.p2 !== null){this.setPoint(+"2",this.p2[0],this.p2[1],p1A.chart);this.penDown=! !0;return ! ![];}T69=-479402457;i69=-668422564;Q69=2;for(var C69=1;d4n.a9W(C69.toString(),C69.toString().length,"95984" >> 2110352288) !== T69;C69++){this.setPoint(2,H1A,g1A,p1A.chart);Q69+=2;}if(d4n.a9W(Q69.toString(),Q69.toString().length,"33614" ^ 0) !== i69){this.setPoint(+"1",H1A,g1A,p1A.chart);}if(this.p0[0] == this.p1[0]){this.p1=null;return ! !0;}d4n.o2d(7);this.p2=[this.p1[d4n.N2d(0,"0")],this.p1[1]];return !"1";};s0A.Drawing.channel.prototype.boxIntersection=function(c1A,d1A,P1A){var n1A,X1A,m1A,V1A,F1A;n1A=this.p0;X1A=this.p1;m1A=this.p2;if(!n1A || !X1A || !m1A){return !"1";}if(P1A.x0 > Math.max(n1A[0],X1A[0]) || P1A.x1 < Math.min(n1A[0],X1A[0])){return ![];}d4n.f2d(35);var X4l=d4n.c2d(5,4,10,0,16);d4n.f2d(7);var C4l=d4n.N2d(15,16);d4n.o2d(9);var E4l=d4n.c2d(9,7,15);d4n.f2d(36);var m4l=d4n.c2d(20,15,299);d4n.f2d(37);var y4l=d4n.N2d(152,9,13,11,19);V1A=(X1A[0] - n1A[0]) * ((m1A[X4l] < n1A[C4l]?P1A.y1:P1A.y0) - n1A[E4l]) - (X1A[m4l] - n1A[y4l]) * (c1A - n1A[0]);d4n.o2d(38);var l4l=d4n.N2d(2,0,2,5,1);d4n.f2d(7);var e4l=d4n.N2d(19,20);d4n.f2d(5);var g4l=d4n.N2d(15,14,2);d4n.o2d(39);var B4l=d4n.c2d(5,2,0,19,134);d4n.f2d(40);var O4l=d4n.c2d(17,0,33,16,2);d4n.o2d(2);var Z4l=d4n.c2d(1,0);d4n.o2d(9);var t4l=d4n.c2d(0,4,3);d4n.f2d(41);var M4l=d4n.c2d(17,20,123271408,8,40926107616);F1A=(m1A[+"0"] - n1A[0]) * ((m1A[l4l] > n1A[e4l]?P1A.y1:P1A.y0) - (n1A[g4l] + m1A[B4l] - X1A[O4l])) - (X1A[Z4l] - n1A[t4l]) * (c1A - n1A["0" >> M4l]);d4n.f2d(42);return d4n.N2d(F1A,V1A,0);};s0A.Drawing.channel.prototype.intersected=function(Z1A,o1A,q1A){var D1A,F8W,U8W,R8W;if(!this.p0 || !this.p1 || !this.p2){return null;}D1A={0:this.p0,1:this.p1,2:this.p2};for(var N1A in D1A){if(this.pointIntersection(D1A[N1A][0],D1A[N1A][+"1"],q1A)){d4n.o2d(2);this.highlighted=d4n.c2d(N1A,(54.5,182.63) === (8293,480)?! !"1":641.21 >= 696?(0xb30,"F"):9740 >= (433,4854)?"p":! !{});return {action:"drag",point:(3010 !== 337.36?3570 < (6144,4542)?"p":0x47c:(![],1.31e+3)) + N1A};}}if(this.boxIntersection(Z1A,o1A,q1A)){this.highlighted=! ![];return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),p2:s0A.clone(this.p2),tick:Z1A,value:o1A};}F8W=1096720163;d4n.o2d(8);U8W=d4n.c2d(109314055,"1602572847");R8W=2;for(var w8W=1;d4n.a9W(w8W.toString(),w8W.toString().length,+"65018") !== F8W;w8W++){return 1;}if(d4n.a9W(R8W.toString(),R8W.toString().length,78001) !== U8W){return null;}};s0A.Drawing.channel.prototype.render=function(U1A){var w1A,O1A,M1A,f1A,l1A,y1A,A2A,i2A,t1A,v1A,F09,b09,B2A,h2A,x2A;w1A=this.stx.panels[this.panelName];if(!w1A){return;}O1A=this.stx.pixelFromTick(this.p0[0],w1A.chart);M1A=this.stx.pixelFromTick(this.p1[0],w1A.chart);f1A=this.stx.pixelFromValueAdjusted(w1A,this.p0[0],this.p0[1]);l1A=this.stx.pixelFromValueAdjusted(w1A,this.p1[0],this.p1[+"1"]);y1A=null;if(this.p2){y1A=this.stx.pixelFromValueAdjusted(w1A,this.p2[+"0"],this.p2[1]);}A2A=this.lineWidth;i2A=this.getLineColor();t1A=this.fillColor;if(this.p2 && t1A && !s0A.isTransparent(t1A) && t1A != "auto"){U1A.beginPath();U1A.moveTo(O1A,f1A);U1A.lineTo(M1A,l1A);U1A.lineTo(M1A,y1A);d4n.f2d(43);U1A.lineTo(O1A,d4n.c2d(f1A,y1A,l1A));U1A.closePath();U1A.globalAlpha=0.2;U1A.fillStyle=t1A;U1A.fill();U1A.globalAlpha=1;}v1A={pattern:this.pattern,lineWidth:A2A};if((this.penDown || this.highlighted) && this.pattern == "none"){v1A.pattern="dotted";}this.stx.plotLine(O1A,M1A,f1A,l1A,i2A,"segment",U1A,w1A,v1A);if(this.p2){d4n.f2d(43);this.stx.plotLine(O1A,M1A,d4n.N2d(f1A,y1A,l1A),y1A,i2A,"segment",U1A,w1A,v1A);}if(this.highlighted){F09="p";F09+="1";b09="p";b09+="0";B2A=this.highlighted == b09?!"":!1;h2A=this.highlighted == F09?! !1:! !"";x2A=this.highlighted == "p2"?!0:!1;this.littleCircle(U1A,O1A,f1A,B2A);this.littleCircle(U1A,M1A,l1A,h2A);this.littleCircle(U1A,M1A,y1A,x2A);}};s0A.Drawing.channel.prototype.reposition=function(T2A,e2A,p2A,H2A){d4n.j0n();var C2A,b2A,I2A;if(!e2A){return;}C2A=this.stx.panels[this.panelName];b2A=e2A.tick - p2A;I2A=e2A.value - H2A;if(e2A.action == "move"){this.setPoint(0,e2A.p0[0] - b2A,e2A.p0["1" & 2147483647] - I2A,C2A.chart);this.setPoint(1,e2A.p1[+"0"] - b2A,e2A.p1[1] - I2A,C2A.chart);this.setPoint(2,e2A.p2[0] - b2A,e2A.p2[1] - I2A,C2A.chart);this.render(T2A);}else if(e2A.action == "drag"){this[e2A.point]=[p2A,H2A];this.setPoint(0,this.p0[0],this.p0[+"1"],C2A.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],C2A.chart);this.setPoint(+"2",this.p2[0],this.p2[1],C2A.chart);this.render(T2A);}};s0A.Drawing.channel.prototype.adjust=function(){var g2A;g2A=this.stx.panels[this.panelName];if(!g2A){return;}d4n.o2d(8);this.setPoint(d4n.c2d(0,"0"),this.d0,this.v0,g2A.chart);this.setPoint(1,this.d1,this.v1,g2A.chart);this.setPoint(2,this.d1,this.v2,g2A.chart);d4n.j0n();;};s0A.Drawing.channel.prototype.reconstruct=function(s2A,a2A){this.stx=s2A;this.color=a2A.col;this.fillColor=a2A.fc;this.panelName=a2A.pnl;this.pattern=a2A.ptrn;this.lineWidth=a2A.lw;this.d0=a2A.d0;this.d1=a2A.d1;this.tzo0=a2A.tzo0;this.tzo1=a2A.tzo1;this.v0=a2A.v0;this.v1=a2A.v1;this.v2=a2A.v2;this.adjust();};s0A.Drawing.channel.prototype.serialize=function(){d4n.j0n();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};s0A.Drawing.pitchfork=function(){d4n.j0n();this.name="pitchfork";this.dragToDraw=![];this.p2=null;};s0A.inheritsFrom(s0A.Drawing.pitchfork,s0A.Drawing.channel);s0A.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];s0A.Drawing.pitchfork.prototype.move=function(P2A,n2A,X2A){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[n2A,X2A];}else {this.p2=[n2A,X2A];}this.render(P2A);};s0A.Drawing.pitchfork.prototype.intersected=function(V2A,K2A,E2A){var R2A,k2A,L09;if(!this.p0 || !this.p1 || !this.p2){return null;}R2A={0:this.p0,1:this.p1,2:this.p2};for(var c2A in R2A){if(this.pointIntersection(R2A[c2A][0],R2A[c2A][1],E2A)){d4n.f2d(2);this.highlighted=d4n.N2d(c2A,8255 === (6902,5905)?"e":"p");return {action:"drag",point:(1541 > (45.16,55)?"p":![]) + c2A};}}k2A=this.rays;for(var m2A=0;m2A < k2A.length;m2A++){L09="seg";L09+="men";L09+="t";if(this.lineIntersection(V2A,K2A,E2A,m2A?"ray":L09,k2A[m2A][0],k2A[m2A][1],! !{})){this.highlighted=! !{};return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),p2:s0A.clone(this.p2),tick:V2A,value:K2A};}}return null;};s0A.Drawing.pitchfork.prototype.render=function(o2A){var F2A,d2A,G2A,q2A,z2A,N2A,p9W,w9W,W9W,u2A,D2A,j2A,w2A,M2A,y2A,J2A,U2A,L2A,r2A,O2A,a09,D09,S2A,f2A,l2A;F2A=this.stx.panels[this.panelName];if(!F2A){return;}d2A=this.stx;G2A=this.p2;if(!G2A){G2A=this.p1;}q2A=d2A.pixelFromTick(this.p0[0],F2A.chart);z2A=d2A.pixelFromTick(this.p1[0],F2A.chart);N2A=d2A.pixelFromTick(G2A[0],F2A.chart);p9W=2066602054;w9W=+"509523441";W9W=2;for(var q9W=1;d4n.a9W(q9W.toString(),q9W.toString().length,31469) !== p9W;q9W++){u2A=d2A.pixelFromValueAdjusted(F2A,this.p0[7],this.p0[6]);D2A=d2A.pixelFromValueAdjusted(F2A,this.p1[1],this.p1[6]);j2A=d2A.pixelFromValueAdjusted(F2A,G2A[1],G2A["3" >> 520343360]);w2A=this.lineWidth;M2A=this.getLineColor();y2A={pattern:this.pattern,lineWidth:w2A};W9W+=2;}if(d4n.J9W(W9W.toString(),W9W.toString().length,44139) !== w9W){u2A=d2A.pixelFromValueAdjusted(F2A,this.p0[0],this.p0[1]);D2A=d2A.pixelFromValueAdjusted(F2A,this.p1["0" | 0],this.p1[1]);j2A=d2A.pixelFromValueAdjusted(F2A,G2A[0],G2A[+"1"]);w2A=this.lineWidth;M2A=this.getLineColor();y2A={pattern:this.pattern,lineWidth:w2A};}J2A=50;d4n.o2d(44);U2A=d4n.c2d(u2A,D2A,2,j2A);d4n.o2d(44);L2A=d4n.N2d(q2A,z2A,2,N2A);if(L2A < 0){J2A*=-1;}d4n.o2d(12);U2A*=d4n.c2d(J2A,L2A);d4n.o2d(4);this.rays=[[[z2A,D2A],[N2A,j2A]],[[q2A,u2A],[d4n.N2d(N2A,z2A,2),d4n.c2d(j2A,D2A,2)]]];if(!(z2A == N2A && D2A == j2A)){d4n.f2d(7);this.rays.push([[z2A,D2A],[d4n.N2d(J2A,z2A),d4n.c2d(U2A,D2A)]],[[N2A,j2A],[d4n.N2d(J2A,N2A),d4n.N2d(U2A,j2A)]]);}for(var Z2A=0;Z2A < this.rays.length;Z2A++){r2A=this.rays[Z2A];O2A=Z2A?"ray":"segment";d2A.plotLine(r2A[0][0],r2A[1][0],r2A[0][1],r2A[1][1],M2A,O2A,o2A,F2A,y2A);}if(this.highlighted){a09="p";a09+="2";D09="p";D09+="0";S2A=this.highlighted == D09?!"":!{};f2A=this.highlighted == "p1"?! !{}:![];l2A=this.highlighted == a09?! !{}:! !"";this.littleCircle(o2A,q2A,u2A,S2A);this.littleCircle(o2A,z2A,D2A,f2A);this.littleCircle(o2A,N2A,j2A,l2A);}};s0A.Drawing.pitchfork.prototype.adjust=function(){d4n.r0n();var t2A;t2A=this.stx.panels[this.panelName];if(!t2A){return;}this.setPoint(0,this.d0,this.v0,t2A.chart);this.setPoint(1,this.d1,this.v1,t2A.chart);this.setPoint(2,this.d2,this.v2,t2A.chart);};s0A.Drawing.pitchfork.prototype.reconstruct=function(v2A,W2A){this.stx=v2A;this.color=W2A.col;d4n.j0n();this.panelName=W2A.pnl;this.pattern=W2A.ptrn;this.lineWidth=W2A.lw;this.d0=W2A.d0;this.d1=W2A.d1;this.d2=W2A.d2;this.tzo0=W2A.tzo0;this.tzo1=W2A.tzo1;this.tzo2=W2A.tzo2;this.v0=W2A.v0;this.v1=W2A.v1;this.v2=W2A.v2;this.adjust();};s0A.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};s0A.Drawing.gartley=function(){var J09;J09="g";J09+="ar";J09+="tley";this.name=J09;this.dragToDraw=![];this.maxSegments=+"4";this.shape=null;this.points=[];};s0A.inheritsFrom(s0A.Drawing.gartley,s0A.Drawing.continuous);s0A.Drawing.gartley.prototype.check=function(Q2A,Y2A){if(!Y2A){return ! ![];}if(Q2A[0] >= Y2A[0] || Q2A[1] == Y2A[1]){return ![];}if(this.segment == 1){if(Q2A[1] < Y2A[1]){this.shape="M";}else {this.shape=(980.89,389.56) != (4100,113.36)?"W":"u";}}else if(this.segment == 2){if(this.shape == ((327.14,69.85) < 7980?"M":("v",6.36e+3)) && Q2A[1] < Y2A[1]){return !{};}else if(this.shape == "W" && Q2A[1] > Y2A[1]){return ! !0;}else if((Y2A[+"1"] - Q2A[1]) / (this.points[0][1] - Q2A[1]) < 0.618){return ! !0;}else if((Y2A[1] - Q2A["1" & 2147483647]) / (this.points[0][1] - Q2A[1]) >= 0.786){return !{};}}else if(this.segment == 3){if(this.shape == "M" && Q2A[1] > Y2A[+"1"]){return ![];}else if(this.shape == (277 > (8065,+"139.67")?"W":"U") && Q2A[1] < Y2A[1]){return !{};}else if((Y2A[1] - Q2A["1" << 959015488]) / (this.points[1][1] - Q2A[1]) < 0.618){return ![];}else if((Y2A[1] - Q2A["1" << 1913393568]) / (this.points[1][1] - Q2A[1]) >= 0.786){return ! !0;}}else if(this.segment == 4){if(this.shape == ((829.77,2555) === (2970,5090)?0x1ef0:5130 < (437,6688)?"M":(! !0,! ![])) && (Q2A[1] < Y2A[1] || Y2A[1] < this.points[0][1])){return ![];}else if(this.shape == ((+"2758",9300) > "101" << 630400608?(730.16,"719" ^ 0) !== 3095?"W":+"676" !== (3190,5050)?(795.74,![]):0x199f:!"1") && (Q2A[1] > Y2A[1] || Y2A[1] > this.points[+"0"]["1" * 1])){return ! !"";}else if((this.points[1][1] - Y2A[+"1"]) / (this.points[1]["1" | 0] - this.points[2]["1" ^ 0]) < 1.27){return ! !0;}else if((this.points[1][1] - Y2A[1]) / (this.points["1" - 0][1] - this.points[2][+"1"]) >= 1.618){return ![];}}return !"";};s0A.Drawing.gartley.prototype.click=function(h7A,A7A,B7A){var i7A;i7A=this.stx.panels[this.panelName];if(!i7A){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",A7A,B7A,i7A.chart);this.pts=[];this.penDown=! !{};this.segment=1;return !"1";}if(this.accidentalClick(A7A,B7A)){this.penDown=!"";return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,A7A,B7A,i7A.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0]["1" << 1518556608],i7A.chart);this.penDown=!1;return ! ![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,A7A,B7A,i7A.chart);;}d4n.r0n();return ! !0;};s0A.Drawing.gartley.prototype.render=function(e7A){var x7A,c7A,g7A,R7A,a7A,I7A,k7A,s7A,H7A,p7A,b7A,n7A,X7A,P7A,m7A;x7A=this.stx.panels[this.panelName];if(!x7A){return;}c7A=this.stx.pixelFromTick(this.p0[0],x7A.chart);g7A=this.stx.pixelFromTick(this.p1[0],x7A.chart);R7A=this.stx.pixelFromValueAdjusted(x7A,this.p0["0" >> 94081760],this.p0[+"1"]);a7A=this.stx.pixelFromValueAdjusted(x7A,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(e7A,0.618 * this.points[+"0"][+"1"] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0["1" & 2147483647],this.p0["0" * 1]);}else if(this.segment == 3){this.drawDropZone(e7A,0.618 * this.points["1" ^ 0][1] + 0.382 * this.p0[1],+"0.786" * this.points[1][+"1"] + 0.214 * this.p0["1" & 2147483647],this.p0[0]);}else if(this.segment == 4){d4n.o2d(36);var n4l=d4n.N2d(14,4,54);d4n.f2d(45);var G4l=d4n.c2d(7,4,2,0);d4n.f2d(36);var b4l=d4n.N2d(14,20,279);d4n.o2d(5);var F4l=d4n.N2d(16,0,17);I7A=+"1.618" * this.points[n4l][G4l] - 0.618 * this.points[b4l][F4l];if(this.shape == "M"){I7A=Math.max(I7A,this.points[0][+"1"]);}else {I7A=Math.min(I7A,this.points[0][1]);}this.drawDropZone(e7A,I7A,1.27 * this.points[2][+"1"] - 0.27 * this.points[1][1],this.p0[0]);}k7A=this.lineWidth;s7A=this.getLineColor();H7A={pattern:this.pattern,lineWidth:k7A};if((this.penDown || this.highlighted) && this.pattern == "none"){H7A.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(c7A,g7A,R7A,a7A,s7A,this.name,e7A,x7A,H7A);}p7A=this.fillColor;b7A=[];if(this.points.length){e7A.beginPath();for(var C7A=1;C7A < this.points.length && C7A <= ("4" & 2147483647);C7A++){n7A=this.stx.pixelFromTick(this.points[C7A - 1][0],x7A.chart);X7A=this.stx.pixelFromTick(this.points[C7A][0],x7A.chart);P7A=this.stx.pixelFromValueAdjusted(x7A,this.points[C7A - 1][0],this.points[C7A - 1][+"1"]);m7A=this.stx.pixelFromValueAdjusted(x7A,this.points[C7A][0],this.points[C7A][1]);if(C7A == 1){b7A.push(n7A,P7A);}b7A.push(X7A,m7A);this.stx.plotLine(n7A,X7A,P7A,m7A,s7A,this.name,e7A,x7A,H7A);}if(this.points.length == 2 || this.points.length == +"4"){b7A.push(g7A,a7A);}if(this.points[2]){b7A.push(this.stx.pixelFromTick(this.points[2][0],x7A.chart),this.stx.pixelFromValueAdjusted(x7A,this.points[2][0],this.points[+"2"]["1" ^ 0]));}if(p7A && p7A != "auto" && !s0A.isTransparent(p7A)){for(var T7A=0;T7A < b7A.length;T7A+=+"2"){if(T7A === 0){e7A.moveTo(b7A[0],b7A[1]);}e7A.lineTo(b7A[T7A],b7A[T7A + 1]);}e7A.fillStyle=p7A;e7A.globalAlpha=0.2;e7A.closePath();e7A.fill();e7A.globalAlpha=1;}};};s0A.Drawing.gartley.prototype.lineIntersection=function(F7A,d7A,z7A,N7A){var V7A,E7A,o09;V7A=this.points;E7A=this.stx.panels[this.panelName];if(V7A.length != this.maxSegments + 1 || !E7A){return ! !"";}for(var K7A=0;K7A < V7A.length - 1;K7A++){o09="seg";o09+="ment";if(s0A.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,F7A,d7A,z7A,o09,V7A[K7A],V7A[K7A + 1])){return ! ![];}}return !1;};s0A.Drawing.gartley.prototype.boxIntersection=function(Z7A,r7A,j7A){var G7A,J7A;if(!this.p0 || !this.p1){return ! !"";}if(j7A.x0 > Math.max(this.p0[0],this.p1[0]) || j7A.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}G7A=Math.min(this.p0[1],this.p1["1" | 0]);J7A=Math.max(this.p0[1],this.p1[1]);for(var D7A=0;D7A < this.points.length;D7A++){G7A=Math.min(G7A,this.points[D7A][1]);J7A=Math.max(J7A,this.points[D7A][1]);}if(j7A.y1 > J7A || j7A.y0 < G7A){return !{};}return ! ![];};s0A.Drawing.gartley.prototype.reposition=function(y7A,q7A,U7A,L7A){var v09,u7A,w7A,M7A;v09="m";v09+="o";v09+="ve";if(!q7A){return;}d4n.j0n();u7A=this.stx.panels[this.panelName];w7A=q7A.tick - U7A;q7A.tick=U7A;M7A=q7A.value - L7A;q7A.value=L7A;if(q7A.action == v09){this.pts=[];for(var o7A="0" >> 705166944;o7A < this.points.length;o7A++){this.points[o7A][+"0"]-=w7A;this.points[o7A][1]-=M7A;d4n.f2d(19);this.setPoint(d4n.N2d(1,"1"),this.points[o7A][0],this.points[o7A][1],u7A.chart);if(o7A && o7A < this.points.length - ("1" | 0)){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[o7A]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],u7A.chart);this.render(y7A);;}};s0A.Drawing.gartley.prototype.configs=[f09,"fillColor","lineWidth","pattern"];s0A.Drawing.gartley.prototype.adjust=function(){var O7A;O7A=this.stx.panels[this.panelName];if(!O7A){return;}this.reconstructPoints();this.setPoint(+"0",this.d0,this.v0,O7A.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,O7A.chart);this.points.push(this.p1);};s0A.Drawing.gartley.prototype.reconstructPoints=function(){var l7A,f7A;l7A=this.stx.panels[this.panelName];if(!l7A){return;}this.points=[];d4n.r0n();for(var S7A="0" - 0;S7A < this.pts.length;S7A+=3){f7A=s0A.strToDateTime(this.pts[S7A]);f7A.setMinutes(f7A.getMinutes() + Number(this.pts[S7A + +"1"]) - f7A.getTimezoneOffset());this.points.push([this.stx.tickFromDate(s0A.yyyymmddhhmmssmmm(f7A),l7A.chart),this.pts[S7A + 2]]);}};s0A.Drawing.gartley.prototype.reconstruct=function(W7A,t7A){this.stx=W7A;this.color=t7A.col;this.fillColor=t7A.fc;this.panelName=t7A.pnl;this.pattern=t7A.ptrn;this.lineWidth=t7A.lw;this.d0=t7A.d0;d4n.r0n();this.d1=t7A.d1;this.tzo0=t7A.tzo0;this.tzo1=t7A.tzo1;this.v0=t7A.v0;this.v1=t7A.v1;this.pts=t7A.pts.split(",");this.adjust();};s0A.Drawing.gartley.prototype.serialize=function(){d4n.r0n();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(1270 >= ("988.23" - 0,6030)?1.89e+3:("9937" & 2147483647,7400) < 8730?",":469.44 !== 5839?6.94e+3:7.15e+3)};};s0A.Drawing.freeform=function(){this.name="freeform";d4n.j0n();this.splineTension=+"0.3";this.dragToDraw=!0;};s0A.inheritsFrom(s0A.Drawing.freeform,s0A.Drawing.segment);s0A.Drawing.freeform.prototype.measure=function(){};s0A.Drawing.freeform.prototype.intersected=function(Y7A,Q7A,v7A){if(v7A.x0 > this.hiX || v7A.x1 < this.lowX){return null;}if(v7A.y1 > this.hiY || v7A.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:"move",p0:s0A.clone(this.p0),tick:Y7A,value:Q7A};};s0A.Drawing.freeform.prototype.reposition=function(x5A,i5A,e5A,C5A){d4n.r0n();var s09,A5A,B5A,h5A;s09="m";s09+="ov";s09+="e";if(!i5A){return;}A5A=this.stx.panels[this.panelName];B5A=i5A.tick - e5A;h5A=i5A.value - C5A;if(i5A.action == s09){this.setPoint(0,i5A.p0["0" & 2147483647] - B5A,i5A.p0[+"1"] - h5A,A5A.chart);this.adjust();this.render(x5A);}};s0A.Drawing.freeform.prototype.click=function(H5A,I5A,p5A){var R09,b5A,U09,T5A;R09="aut";R09+="o";b5A=this.stx.panels[this.panelName];if(!b5A){return;}if(this.penDown === ! !""){U09="p";U09+="ointe";U09+="r";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(I5A,b5A.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(b5A,I5A,p5A)));T5A=this.stx.dateFromTick(I5A,b5A.chart,! ![]);this.d0=s0A.yyyymmddhhmmssmmm(T5A);this.tzo0=T5A.getTimezoneOffset();this.v0=p5A;this.p0=[s0A.ChartEngine.crosshairX - this.startX,s0A.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=b5A.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=U09;this.penDown=! !{};return !1;}d4n.r0n();this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor=R09;return ! !{};};s0A.Drawing.freeform.prototype.move=function(s5A,n5A,X5A){var g5A,a5A;if(!this.penDown){return;}g5A=this.stx.panels[this.panelName];a5A=this.stx.dateFromTick(n5A,g5A.chart,!0);this.d1=s0A.yyyymmddhhmmssmmm(a5A);this.tzo1=a5A.getTimezoneOffset();this.v1=X5A;this.p1=[s0A.ChartEngine.crosshairX - this.startX,g5A.yAxis.flipped?this.startY - s0A.ChartEngine.crosshairY:s0A.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2]["0" * 1] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=+"2";}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][+"1"]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(s5A);return ! !0;};s0A.Drawing.freeform.prototype.intervalRatio=function(k5A,P5A,d5A,z5A,c5A,R5A){var m5A,K09,u09,V09,x09;function V5A(o5A,r5A){d4n.j0n();if(s0A.Market.Symbology.isForexSymbol(r5A)){return 1440;}return 390;}function K5A(j5A,G5A){return 5;}d4n.o2d(8);m5A=d4n.N2d(0,"0");if(k5A == P5A){m5A=1;}else if(!isNaN(k5A) && !isNaN(P5A)){d4n.o2d(12);m5A=d4n.N2d(k5A,P5A);}else if(isNaN(k5A)){K09="w";K09+="e";K09+="ek";if(k5A == "month"){if(P5A == "week"){m5A=F5A(c5A,R5A);}else if(P5A == "day"){m5A=E5A(c5A,R5A);}else if(!isNaN(P5A)){m5A=E5A(c5A,R5A) * V5A(c5A,R5A) / P5A;}}else if(k5A == K09){u09="m";u09+="on";u09+="t";u09+="h";if(P5A == u09){d4n.f2d(9);var L4l=d4n.c2d(0,10,9);m5A=L4l / F5A(c5A,R5A);}if(P5A == "day"){m5A=K5A(c5A,R5A);}else if(!isNaN(P5A)){m5A=K5A(c5A,R5A) * V5A(c5A,R5A) / P5A;}}else if(k5A == "day"){V09="w";V09+="eek";if(P5A == V09){d4n.f2d(13);var D4l=d4n.c2d(12,13,1);m5A=D4l / K5A(c5A,R5A);}else if(P5A == "month"){d4n.o2d(7);var a4l=d4n.N2d(8,9);m5A=a4l / E5A(c5A,R5A);}else if(!isNaN(P5A)){m5A=V5A(c5A,R5A) / P5A;}}}else if(!isNaN(k5A)){x09="da";x09+="y";if(P5A == "month"){m5A=k5A / (E5A(c5A,R5A) * V5A(c5A,R5A));}else if(P5A == "week"){m5A=k5A / (K5A(c5A,R5A) * V5A(c5A,R5A));}else if(P5A == x09){m5A=k5A / V5A(c5A,R5A);}}d4n.o2d(12);m5A*=d4n.c2d(d5A,z5A);function E5A(J5A,Z5A){return +"30";}function F5A(N5A,D5A){d4n.j0n();return 5;}return m5A;};s0A.Drawing.freeform.prototype.render=function(S5A){var q5A,w5A,f5A,l5A,t5A,M5A,u5A,W5A,y5A,O5A,v5A,L5A;q5A=this.stx.panels[this.panelName];if(!q5A){return;}w5A=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,q5A.chart.symbol);if(w5A === 0){return;}f5A=this.stx.layout.candleWidth / this.candleWidth;l5A=q5A.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,q5A.chart);t5A=this.stx.pixelFromTick(this.p0[0],q5A.chart);M5A=this.stx.pixelFromValueAdjusted(q5A,this.p0[0],this.p0[1]);u5A=[];W5A=this.lineWidth;d4n.r0n();y5A=this.getLineColor();O5A={pattern:this.pattern,lineWidth:W5A};for(var U5A=0;U5A < this.pNodes.length;U5A++){v5A=w5A * f5A * this.pNodes[U5A][+"0"] + t5A;L5A=l5A * this.pNodes[U5A]["1" ^ 0];if(q5A.yAxis.flipped){d4n.o2d(7);L5A=d4n.N2d(L5A,M5A);}else {L5A+=M5A;}u5A.push(v5A,L5A);}if(!u5A.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(u5A,y5A,this.name,S5A,q5A,O5A);}else {this.stx.plotSpline(u5A,this.splineTension,y5A,this.name,S5A,! !1,O5A);}};s0A.Drawing.freeform.prototype.adjust=function(){var Y5A,C6A,Q5A,h6A,x6A,A6A,e6A,B6A;Y5A=this.stx.panels[this.panelName];if(!Y5A){return;}C6A=[this.nodes[+"0"],this.nodes[+"1"]];this.pNodes=[C6A];this.lowX=this.nodes[+"0"];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var i6A=2;i6A < this.nodes.length;i6A+=2){d4n.f2d(2);Q5A=[this.nodes[i6A],this.nodes[d4n.c2d(1,i6A)]];this.pNodes.push(Q5A);this.lowX=Math.min(this.lowX,Q5A[0]);this.hiX=Math.max(this.hiX,Q5A[0]);this.lowY=Math.max(this.lowY,Q5A[1]);this.hiY=Math.min(this.hiY,Q5A[1]);}h6A=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Y5A.chart.symbol);if(h6A === 0){return;}x6A=this.stx.layout.candleWidth / this.candleWidth;A6A=Y5A.yAxis.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,Y5A.chart);e6A=this.stx.pixelFromTick(this.p0["0" & 2147483647],Y5A.chart);B6A=this.stx.pixelFromValueAdjusted(Y5A,this.p0[0],this.p0["1" | 1]);this.lowX=this.stx.tickFromPixel(Math.floor(h6A * x6A * this.lowX) + e6A,Y5A.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(h6A * x6A * this.hiX) + e6A,Y5A.chart);if(Y5A.yAxis.flipped){this.lowY=this.stx.valueFromPixel(B6A - Math.floor(A6A * this.lowY),Y5A);this.hiY=this.stx.valueFromPixel(B6A - Math.ceil(A6A * this.hiY),Y5A);}else {this.lowY=this.stx.valueFromPixel(Math.floor(A6A * this.lowY) + B6A,Y5A);this.hiY=this.stx.valueFromPixel(Math.ceil(A6A * this.hiY) + B6A,Y5A);}};s0A.Drawing.freeform.prototype.serialize=function(){d4n.r0n();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};s0A.Drawing.freeform.prototype.reconstruct=function(I6A,b6A){this.stx=I6A;this.color=b6A.col;this.panelName=b6A.pnl;this.pattern=b6A.ptrn;this.lineWidth=b6A.lw;this.candleWidth=b6A.cw;this.multiplier=b6A.mlt;this.d0=b6A.d0;this.tzo0=b6A.tzo0;this.v0=b6A.v0;this.interval=b6A.inter;d4n.r0n();this.periodicity=b6A.pd;this.nodes=b6A.nodes;this.adjust();};s0A.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";d4n.r0n();this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};s0A.inheritsFrom(s0A.Drawing.callout,s0A.Drawing.annotation);s0A.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];s0A.Drawing.callout.prototype.copyConfig=function(T6A){s0A.Drawing.copyConfig(this,T6A);this.borderColor=this.color;};s0A.Drawing.callout.prototype.move=function(p6A,a6A,s6A){if(!this.penDown){return;}this.copyConfig();this.p0=[a6A,s6A];d4n.r0n();this.render(p6A);};s0A.Drawing.callout.prototype.onChange=function(m6A){var P6A,X6A,n6A;P6A=this.stx.panels[this.panelName];if(!P6A){return;}X6A=m6A.target;this.w=X6A.clientWidth;this.h=X6A.clientHeight;n6A=this.context || this.stx.chart.tempCanvas.context;s0A.clearCanvas(n6A.canvas,this.stx);this.render(n6A);this.edit(n6A);};s0A.Drawing.callout.prototype.render=function(c6A){var I09,j6A,u6A,q6A,k6A,R6A,K6A,V6A,G6A,J6A,D6A,F6A,Z6A,z6A,r6A,E6A,N6A,R9W,K9W,u9W,L69,D69,a69,w09,p09,y39,l39,e39,W09,c9W,Y9W,H9W,U6A;I09="a";I09+="lpha";I09+="be";I09+="tic";this.context=c6A;j6A=this.stx.panels[this.panelName];if(!j6A){return;}u6A=this.stx.pixelFromTick(this.p0[0],j6A.chart);q6A=this.stx.pixelFromValueAdjusted(j6A,this.p0[0],this.p0["1" * 1]);if(isNaN(q6A)){return;}c6A.font=this.fontString;c6A.textBaseline="top";k6A=u6A;R6A=q6A;d4n.o2d(46);var J4l=d4n.N2d(12,12,3,2,1);K6A=this.w / J4l;d4n.o2d(47);var o4l=d4n.N2d(12,1,19,11,6);V6A=this.h / o4l;if(this.penDown){K6A=this.defaultWidth;V6A=this.defaultHeight;if(!V6A){V6A=this.fontSize;}}G6A=this.lineWidth;d4n.r0n();if(!G6A){G6A=+"1.1";}J6A=this.color;if(J6A == "auto" || s0A.isTransparent(J6A)){J6A=this.stx.defaultColor;}D6A=this.borderColor;if(D6A == "auto" || s0A.isTransparent(D6A)){D6A=this.stx.defaultColor;}if(this.highlighted){D6A=this.stx.getCanvasColor("stx_highlight_vector");}E6A=Math.min(Math.min(K6A,V6A) / 2,+"8");if(this.stem){if(this.stem.t){F6A=this.stx.pixelFromTick(this.stem.t);z6A=this.stx.pixelFromValueAdjusted(j6A,this.stem.t,this.stem.v);}else if(this.stem.x){F6A=k6A;z6A=R6A;k6A+=this.stem.x;R6A+=this.stem.y;}N6A="";if(F6A >= k6A + K6A){d4n.f2d(2);Z6A=d4n.c2d(K6A,k6A);N6A=(+"3279","1248" >> 1775239584) != (1870,1740)?863.8 < (5444,"6838" | 690)?"r":("67" << 1813877600,+"1490") === (1850,4704)?484.04:(167.97,0x23a9):(! !"",! ![]);}else if(F6A > k6A - K6A && F6A < k6A + K6A){Z6A=k6A;N6A=(8670,338.35) === 890?! !0:7490 >= (6565,5960)?"c":(2474,3720) != 9643?0x1ae9:5.52e+3;}else if(F6A <= k6A - K6A){R9W=22398226;K9W=+"1365620332";u9W=2;for(var x9W=1;d4n.J9W(x9W.toString(),x9W.toString().length,23003) !== R9W;x9W++){d4n.f2d(19);Z6A=d4n.N2d(K6A,k6A);N6A=477629 <= 144?(733281,"l"):560523 !== 2970?(1272603,![]):(869663,3486) <= (7314,9168)?! !"1":"l";u9W+=2;}if(d4n.a9W(u9W.toString(),u9W.toString().length,+"50939") !== K9W){d4n.o2d(7);Z6A=d4n.N2d(K6A,k6A);N6A=839.03 < 139?(997.16,"o"):286.75 == 8440?(8.25e+3,!0):(583.33,1326) > (8430,5990)?![]:"l";}}if(z6A >= R6A + V6A){d4n.f2d(2);r6A=d4n.N2d(V6A,R6A);N6A+="785.68" - 0 != ("2210" ^ 0,212.12)?"b":0x74b;}else if(z6A > R6A - V6A && z6A < R6A + V6A){r6A=R6A;N6A+=(8870,+"2620") >= 532.83?"m":(380.49,177.11) === (926.33,4786)?![]:5653 > (9840,9403)?3.35e+3:!{};}else if(z6A <= R6A - V6A){d4n.o2d(7);r6A=d4n.N2d(V6A,R6A);N6A+=+"802" !== "589" * 1?9420 === (4485,4562)?930.5 > (+"98.86",284.7)?("735.28" * 1,0x173d):(502.71,8.62e+3):"t":"N";}this.stemEntry=N6A;if(N6A != "cm"){F6A=Math.round(F6A);Z6A=Math.round(Z6A);L69=-2082625783;D69=+"1510593963";a69=2;for(var o69=1;d4n.a9W(o69.toString(),o69.toString().length,21106) !== L69;o69++){z6A=Math.round(z6A);r6A=Math.round(r6A);a69+=2;}if(d4n.J9W(a69.toString(),a69.toString().length,+"17665") !== D69){z6A=Math.round(z6A);r6A=Math.round(r6A);}}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",c6A);}else {if(this.fillColor){c6A.fillStyle=this.fillColor;d4n.f2d(7);c6A.globalAlpha=d4n.N2d(0,"0.4");}else if(this.stem){c6A.fillStyle=this.stx.containerColor;}}c6A.strokeStyle=D6A;if(c6A.setLineDash){c6A.setLineDash(s0A.borderPatternToArray(G6A,this.pattern));c6A.lineDashOffset=0;;}if(D6A){w09="l";w09+="t";p09="r";p09+="t";c6A.beginPath();c6A.lineWidth=G6A;d4n.o2d(5);c6A.moveTo(d4n.c2d(E6A,k6A,K6A),d4n.c2d(V6A,R6A,d4n.o2d(7)));if(this.stemEntry != p09){d4n.o2d(2);c6A.quadraticCurveTo(d4n.N2d(K6A,k6A),d4n.c2d(V6A,R6A,d4n.f2d(7)),d4n.c2d(K6A,k6A,d4n.o2d(2)),d4n.N2d(R6A,E6A,V6A,d4n.f2d(9)));;}else {c6A.lineTo(F6A,z6A);d4n.o2d(2);c6A.lineTo(d4n.c2d(K6A,k6A),d4n.c2d(R6A,E6A,V6A,d4n.f2d(9)));}d4n.o2d(2);c6A.lineTo(d4n.N2d(K6A,k6A),d4n.c2d(2,R6A,E6A,d4n.o2d(48)));if(this.stemEntry == "rm"){c6A.lineTo(F6A,z6A);}d4n.o2d(2);c6A.lineTo(d4n.c2d(K6A,k6A),d4n.c2d(2,E6A,R6A,d4n.o2d(49)));d4n.f2d(2);c6A.lineTo(d4n.N2d(K6A,k6A),d4n.c2d(E6A,R6A,V6A,d4n.f2d(5)));if(this.stemEntry != "rb"){d4n.f2d(2);c6A.quadraticCurveTo(d4n.c2d(K6A,k6A),d4n.N2d(V6A,R6A,d4n.o2d(2)),d4n.N2d(E6A,k6A,K6A,d4n.f2d(5)),d4n.c2d(V6A,R6A,d4n.o2d(2)));;}else {c6A.lineTo(F6A,z6A);d4n.f2d(5);c6A.lineTo(d4n.N2d(E6A,k6A,K6A),d4n.N2d(V6A,R6A,d4n.f2d(2)));}d4n.f2d(49);c6A.lineTo(d4n.c2d(2,E6A,k6A),d4n.c2d(V6A,R6A,d4n.f2d(2)));if(this.stemEntry == "cb"){c6A.lineTo(F6A,z6A);}d4n.o2d(48);c6A.lineTo(d4n.c2d(2,k6A,E6A),d4n.N2d(V6A,R6A,d4n.o2d(2)));d4n.o2d(9);c6A.lineTo(d4n.c2d(k6A,E6A,K6A),d4n.c2d(V6A,R6A,d4n.o2d(2)));if(this.stemEntry != "lb"){d4n.f2d(7);c6A.quadraticCurveTo(d4n.N2d(K6A,k6A),d4n.N2d(V6A,R6A,d4n.o2d(2)),d4n.N2d(K6A,k6A,d4n.o2d(7)),d4n.c2d(E6A,R6A,V6A,d4n.f2d(5)));;}else {c6A.lineTo(F6A,z6A);d4n.f2d(7);c6A.lineTo(d4n.c2d(K6A,k6A),d4n.N2d(E6A,R6A,V6A,d4n.o2d(5)));}d4n.o2d(7);c6A.lineTo(d4n.c2d(K6A,k6A),d4n.N2d(E6A,0,R6A,"2",d4n.f2d(50)));if(this.stemEntry == "lm"){c6A.lineTo(F6A,z6A);}d4n.f2d(7);c6A.lineTo(d4n.N2d(K6A,k6A),d4n.c2d(2,R6A,E6A,d4n.f2d(48)));d4n.f2d(7);c6A.lineTo(d4n.c2d(K6A,k6A),d4n.N2d(R6A,E6A,V6A,d4n.f2d(9)));if(this.stemEntry != w09){d4n.o2d(7);c6A.quadraticCurveTo(d4n.c2d(K6A,k6A),d4n.c2d(V6A,R6A,d4n.o2d(7)),d4n.N2d(k6A,E6A,K6A,d4n.f2d(9)),d4n.N2d(V6A,R6A,d4n.f2d(7)));y39=811763866;d4n.o2d(29);l39=-d4n.c2d(383832864,"1474646574");e39=2;for(var B39=1;d4n.a9W(B39.toString(),B39.toString().length,94238) !== y39;B39++){;d4n.f2d(51);e39+=d4n.N2d(2147483647,"2");}if(d4n.a9W(e39.toString(),e39.toString().length,90524) !== l39){;}}else {c6A.lineTo(F6A,z6A);d4n.f2d(9);c6A.lineTo(d4n.N2d(k6A,E6A,K6A),d4n.N2d(V6A,R6A,d4n.f2d(7)));}d4n.f2d(52);c6A.lineTo(d4n.c2d(0,k6A,"2",E6A),d4n.N2d(V6A,R6A,d4n.f2d(7)));if(this.stemEntry == "ct"){c6A.lineTo(F6A,z6A);}d4n.f2d(49);c6A.lineTo(d4n.c2d(2,E6A,k6A),d4n.c2d(V6A,R6A,d4n.o2d(7)));d4n.f2d(5);c6A.lineTo(d4n.c2d(E6A,k6A,K6A),d4n.N2d(V6A,R6A,d4n.f2d(7)));c6A.fill();c6A.globalAlpha=1;if(this.pattern != "none"){c6A.stroke();}}if(this.highlighted){W09="s";W09+="tx_a";W09+="nnotation_h";W09+="ighlight";this.stx.canvasColor(W09,c6A);}else {c9W=-778730706;Y9W=-1236336358;H9W=2;for(var k9W=1;d4n.a9W(k9W.toString(),k9W.toString().length,61061) !== c9W;k9W++){c6A.fillStyle=J6A;H9W+=2;}if(d4n.a9W(H9W.toString(),H9W.toString().length,17361) !== Y9W){c6A.fillStyle=J6A;}c6A.fillStyle=J6A;}R6A+=this.padding;if(!this.ta){for(var o6A=+"0";o6A < this.arr.length;o6A++){c6A.fillText(this.arr[o6A],k6A - K6A + this.padding,R6A - V6A);R6A+=this.fontSize;}}c6A.textBaseline=I09;if(this.highlighted && !this.noHandles){U6A=this.highlighted == "p0"?! ![]:! !"";this.littleCircle(c6A,F6A,z6A,U6A);};};s0A.Drawing.callout.prototype.click=function(w6A,M6A,y6A){var L6A;if(this.stx.overXAxis || this.stx.overYAxis){return;}L6A=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,M6A,y6A,L6A.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return !"1";}this.adjust();this.edit(w6A);this.penDown=! !"";return ! !0;};s0A.Drawing.callout.prototype.reposition=function(v6A,O6A,t6A,W6A){var S6A,f6A,l6A;if(!O6A){return;}S6A=this.stx.panels[this.panelName];f6A=O6A.tick - t6A;l6A=O6A.value - W6A;if(O6A.stem){if(O6A.action == "drag"){this.stem={d:this.stx.dateFromTick(t6A,S6A.chart,!0),v:W6A};}else if(O6A.action == "move"){this.setPoint(0,O6A.p0[0] - f6A,O6A.p0[1] - l6A,S6A.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(O6A.stem.d,S6A.chart) - f6A),v:O6A.stem.v - l6A};}this.adjust();}else {this.setPoint(0,O6A.p0[0] - f6A,O6A.p0[+"1"] - l6A,S6A.chart);}this.render(v6A);};s0A.Drawing.callout.prototype.lineIntersection=function(g4A,a4A,p4A,H4A){var x4A,Y6A,A4A,e4A,C4A,b4A,Q6A,B4A,h4A,I4A,T4A,i4A;x4A=this.stx.panels[this.panelName];Y6A=this.stem;A4A=this.p0;e4A=this.stx;if(!A4A || !Y6A || !x4A){return !"1";}C4A=Y6A.t || this.stx.tickFromDate(Y6A.d,x4A.chart);b4A={x0:A4A[0],x1:C4A,y0:A4A[1],y1:Y6A.v};Q6A=s0A.convertBoxToPixels(e4A,this.panelName,b4A);B4A=Q6A.x0;h4A=Q6A.y0;d4n.r0n();I4A=Q6A.x1;T4A=Q6A.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf((65.13,1590) == 40.27?(863.62,632.26):(5380,+"6068") != 3739?"l":840.42 != (+"9420","7105" - 0)?!"":!{}) > -1){d4n.f2d(33);var v4l=d4n.c2d(1,3);B4A-=this.w / v4l;}else if(this.stemEntry.indexOf("r") > - +"1"){d4n.f2d(7);var f4l=d4n.c2d(20,22);B4A+=this.w / f4l;}if(this.stemEntry.indexOf(5870 != (+"4437",4955)?"t":8.78e+3) > -1){d4n.o2d(7);var s4l=d4n.c2d(9,11);h4A-=this.h / s4l;}else if(this.stemEntry.indexOf(+"820.43" === (1610,680.31)?("v",0xf9f):"b") > -1){h4A+=this.h / 2;}}i4A=s0A.convertBoxToPixels(e4A,this.panelName,p4A);return s0A.boxIntersects(i4A.x0,i4A.y0,i4A.x1,i4A.y1,B4A,h4A,I4A,T4A,H4A);};s0A.Drawing.callout.prototype.intersected=function(n4A,P4A,s4A){var X4A,q09,m4A,c4A,R4A,k4A,V4A,K4A,E4A;X4A=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,s4A)){q09="d";q09+="r";q09+="a";q09+="g";this.highlighted="p0";return {action:q09,stem:!0};}m4A=this.stx.pixelFromTick(this.p0[0],X4A.chart) - this.w / +"2";d4n.f2d(36);var U4l=d4n.c2d(18,5,89);d4n.o2d(38);var R4l=d4n.N2d(16,20,13,11,1);c4A=this.stx.pixelFromValueAdjusted(X4A,this.p0[0],this.p0[U4l]) - this.h / R4l;R4A=m4A + this.w;k4A=c4A + this.h;if(this.stem && this.stem.x){m4A+=this.stem.x;R4A+=this.stem.x;c4A+=this.stem.y;k4A+=this.stem.y;}V4A=this.stx.pixelFromTick(n4A,X4A.chart);K4A=this.stx.pixelFromValueAdjusted(X4A,n4A,P4A);d4n.j0n();if(V4A + s4A.r >= m4A && V4A - s4A.r <= R4A && K4A + s4A.r >= c4A && K4A - s4A.r <= k4A){this.highlighted=! !1;return {p0:s0A.clone(this.p0),tick:n4A,value:P4A};}E4A=this.lineIntersection(n4A,P4A,s4A,"segment");if(E4A){this.highlighted=!"";return {action:"move",stem:s0A.clone(this.stem),p0:s0A.clone(this.p0),tick:n4A,value:P4A};}return null;};s0A.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};s0A.inheritsFrom(s0A.Drawing.fibonacci,s0A.Drawing.BaseTwoPoint);s0A.Drawing.fibonacci.mapping={trend:("2600" ^ 0) === +"926.41"?7190 > (795.63,4550)?"9870" * 1 != (9246,504.37)?+"841.16":!{}:!{}:"t",color:"c",parameters:(7220,3370) === (8836,937.64)?(0x243e,"N"):(3680,391) <= 847.59?"p":(!{},! ![]),pattern:"pt",opacity:(6010,106.46) <= 738?"o":4.01e+3,lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:c09,timezone:Y09,display:"d"};s0A.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,+"0.382",+"0.5",+"0.618",1,1.382,1.618];s0A.Drawing.fibonacci.prototype.configs=["color",H09,"lineWidth",S09,k09];s0A.Drawing.fibonacci.prototype.initializeSettings=function(D4A){var z4A,d4A;z4A=this.recommendedLevels;if(z4A && !D4A.currentVectorParameters.fibonacci.fibsAlreadySet){d4A=D4A.currentVectorParameters.fibonacci.fibs;for(var F4A="0" >> 58600896;F4A < d4A.length;F4A++){delete d4A[F4A].display;for(var N4A=0;N4A < z4A.length;N4A++){if(d4A[F4A].level == z4A[N4A]){d4A[F4A].display=! !"1";}}}}};s0A.Drawing.fibonacci.prototype.setOuter=function(){var j4A,G4A,u4A,U4A,L4A,w4A,M4A,O4A,S4A,Z4A,r4A,J4A,q4A,y4A;j4A=this.stx;G4A=j4A.panels[this.panelName];if(!G4A){return;}u4A=Math.max(this.p0[1],this.p1["1" << 1845339840]);U4A=Math.min(this.p0[1],this.p1[1]);d4n.f2d(7);L4A=d4n.N2d(U4A,u4A);this.outer={p0:s0A.clone(this.p0),p1:s0A.clone(this.p1)};w4A=j4A.pixelFromValueAdjusted(G4A,this.p0[0],this.p0[1]);M4A=j4A.pixelFromValueAdjusted(G4A,this.p1["0" ^ 0],this.p1[1]);O4A=j4A.pixelFromTick(this.p0[+"0"],G4A.chart);S4A=j4A.pixelFromTick(this.p1[0],G4A.chart);Z4A=0;r4A=1;for(var o4A=0;o4A < this.parameters.fibs.length;o4A++){J4A=this.parameters.fibs[o4A];if(J4A.level >= Z4A && J4A.level <= r4A || !J4A.display)continue;q4A=j4A.pixelFromValueAdjusted(G4A,this.p0[0],M4A < w4A?u4A - L4A * J4A.level:U4A + L4A * J4A.level);y4A=s0A.xIntersection({x0:O4A,x1:S4A,y0:w4A,y1:M4A},q4A);if(J4A.level < Z4A){Z4A=J4A.level;this.outer.p1[1]=j4A.valueFromPixel(q4A,G4A);this.outer.p1[0]=j4A.tickFromPixel(y4A,G4A.chart);}else if(J4A.level > r4A){r4A=J4A.level;this.outer.p0[1]=j4A.valueFromPixel(q4A,G4A);this.outer.p0[0]=j4A.tickFromPixel(y4A,G4A.chart);}}};s0A.Drawing.fibonacci.prototype.click=function(W4A,l4A,t4A){var f4A;f4A=this.stx.panels[this.panelName];if(!f4A){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,l4A,t4A,f4A.chart);this.penDown=!0;return ![];}if(this.accidentalClick(l4A,t4A)){return this.dragToDraw;}d4n.o2d(8);this.setPoint(d4n.N2d(0,"1"),l4A,t4A,f4A.chart);this.setOuter();this.parameters=s0A.clone(this.parameters);this.penDown=! !0;return ! !"1";;};s0A.Drawing.fibonacci.prototype.render=function(v4A){var z19,Y4A,X8A,P8A,m8A,V8A,p8A,I8A,B8A,i8A,K8A,E8A,F8A,D8A,j8A,d8A,G8A,c8A,H8A,R8A,g8A,T8A,h19,j19,e8A,Q4A,s8A,C8A,A8A,J8A,a8A,b8A,h8A,z8A,x8A,N8A,Z8A,r8A;z19="se";z19+="gme";z19+="n";z19+="t";Y4A=this.stx.panels[this.panelName];if(!Y4A){return;}X8A=Y4A.yAxis;if(!this.p1){return;}P8A=Math.max(this.p0[1],this.p1[1]);m8A=Math.min(this.p0["1" & 2147483647],this.p1[1]);V8A=X8A.flipped?m8A - P8A:P8A - m8A;p8A=this.stx.pixelFromTick(this.p0["0" << 1991999200],Y4A.chart);I8A=this.stx.pixelFromTick(this.p1[0],Y4A.chart);B8A=this.stx.pixelFromValueAdjusted(Y4A,this.p0[0],this.p0[1]);i8A=this.stx.pixelFromValueAdjusted(Y4A,this.p1[0],this.p1[1]);K8A=Math.min(i8A,B8A);E8A=Math.max(i8A,B8A);d4n.f2d(7);F8A=d4n.N2d(K8A,E8A);d4n.o2d(53);D8A=d4n.N2d(i8A,0,B8A,I8A,p8A);j8A={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=j8A;}d8A=this.getLineColor(this.parameters.trend.color);v4A.textBaseline="middle";this.stx.canvasFont("stx_yaxis",v4A);d4n.o2d(36);var K4l=d4n.N2d(17,12,196);G8A=v4A.measureText("161.8%").width + ("10" | K4l);c8A=Number.MAX_VALUE;H8A=Number.MAX_VALUE;d4n.f2d(5);var u4l=d4n.N2d(14,1681029854,16);R8A=Number.MAX_VALUE * -("1" >> u4l);d4n.o2d(7);var V4l=d4n.c2d(1,0);g8A=Number.MAX_VALUE * V4l;T8A=this.color;if(T8A == "auto" || s0A.isTransparent(T8A)){T8A=this.stx.defaultColor;}this.rays=[];for(var k8A=0;k8A < this.parameters.fibs.length;k8A++){h19="a";h19+="u";h19+="to";j19="a";j19+="u";j19+="to";v4A.textAlign="left";v4A.fillStyle=T8A;e8A=this.parameters.fibs[k8A];if(!e8A.display)continue;Q4A=this.stx.pixelFromValueAdjusted(Y4A,this.p0["0" ^ 0],i8A < B8A?P8A - V8A * e8A.level:m8A + V8A * e8A.level);s8A=s0A.xIntersection({x0:p8A,x1:I8A,y0:B8A,y1:i8A},Q4A);C8A=this.parameters.extendLeft?"0" & 2147483647:s8A;A8A=Y4A.left + Y4A.width;if(this.parameters.printLevels){d4n.o2d(54);var x4l=d4n.N2d(5434,11,983,998,5);d4n.f2d(55);var p4l=d4n.c2d(1,9,15,3,12);d4n.f2d(9);var w4l=d4n.c2d(966,35,17);d4n.f2d(56);var W4l=d4n.c2d(68250,7,473207,7);d4n.f2d(57);var I4l=d4n.c2d(8139,8152,8119,20);d4n.o2d(58);var q4l=d4n.N2d(2221,10,19,5,14);J8A=Math.round(e8A.level * x4l) / p4l + ((w4l,W4l) >= I4l?(q4l,"K"):"%");A8A-=G8A;if(this.parameters.printValues){v4A.fillStyle=T8A;this.stx.canvasFont("stx_yaxis",v4A);;}if(A8A < C8A){v4A.textAlign="right";}v4A.fillText(J8A,A8A,Q4A);if(A8A < C8A){A8A+=5;}else {A8A-=5;}}if(this.parameters.printValues){if(s8A < Y4A.width){a8A=this.stx.transformedPriceFromPixel(Q4A,Y4A);if(X8A.priceFormatter){a8A=X8A.priceFormatter(this.stx,Y4A,a8A);}else {a8A=this.stx.formatYAxisPrice(a8A,Y4A);}if(v4A == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Y4A,a8A,Q4A,T8A,null,v4A);if(v4A == this.stx.chart.context){this.stx.startClip(Y4A.name);}}}b8A=e8A.color;if(b8A == "auto" || s0A.isTransparent(b8A)){b8A=this.color;}if(b8A == j19 || s0A.isTransparent(b8A)){b8A=this.stx.defaultColor;}h8A=e8A.color;if(h8A == h19 || s0A.isTransparent(h8A)){h8A=this.fillColor;}if(h8A == "auto" || s0A.isTransparent(h8A)){h8A=this.stx.defaultColor;}v4A.fillStyle=h8A;z8A=s0A.clone(e8A.parameters);if(this.highlighted){z8A.opacity=+"1";}this.stx.plotLine(C8A,A8A,Q4A,Q4A,this.highlighted?d8A:b8A,"segment",v4A,Y4A,z8A);this.rays.push([[C8A,Q4A],[A8A,Q4A]]);d4n.o2d(19);v4A.globalAlpha=d4n.N2d(1,"0.05");v4A.beginPath();v4A.moveTo(A8A,Q4A);v4A.lineTo(C8A,Q4A);if(C8A){v4A.lineTo(I8A,i8A);}else {v4A.lineTo(C8A,i8A);}v4A.lineTo(A8A,i8A);if(typeof h8A != "undefined"){v4A.fill();}v4A.globalAlpha=1;if(Q4A < H8A){c8A=s8A;H8A=Q4A;}if(Q4A > g8A){R8A=s8A;g8A=Q4A;}}for(var n8A=0;n8A <= 1;n8A++){x8A=D8A?E8A - F8A * n8A:K8A + F8A * n8A;x8A=Math.round(x8A);if(x8A < H8A){c8A=s0A.xIntersection({x0:p8A,x1:I8A,y0:B8A,y1:i8A},x8A);H8A=x8A;}if(x8A > g8A){R8A=s0A.xIntersection({x0:p8A,x1:I8A,y0:B8A,y1:i8A},x8A);g8A=x8A;}}N8A=s0A.clone(this.parameters.trend.parameters);if(this.highlighted){N8A.opacity=1;}this.stx.plotLine(c8A,R8A,H8A,g8A,d8A,z19,v4A,Y4A,N8A);if(this.highlighted){Z8A=this.highlighted == "p0"?! !"1":!1;r8A=this.highlighted == "p1"?! !{}:![];this.littleCircle(v4A,p8A,B8A,Z8A);this.littleCircle(v4A,I8A,i8A,r8A);}};s0A.Drawing.fibonacci.prototype.reposition=function(q8A,o8A,u8A,U8A){d4n.r0n();if(!o8A){return;}s0A.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};s0A.Drawing.fibonacci.prototype.intersected=function(t8A,W8A,v8A){var M8A,y8A,O8A,S8A,f8A,l8A,A19;M8A=this.p0;y8A=this.p1;if(!M8A || !y8A){return null;}O8A={0:M8A,1:y8A};for(var L8A in O8A){if(this.pointIntersection(O8A[L8A][+"0"],O8A[L8A]["1" * 1],v8A)){d4n.o2d(2);this.highlighted=d4n.c2d(L8A,"p");return {action:"drag",point:(2197 != 18.91?"p":("R","R")) + L8A};}}S8A=this.outer;f8A=this.rays;l8A=S8A && this.lineIntersection(t8A,W8A,v8A,"segment",S8A.p0,S8A.p1);if(!l8A){for(var w8A=0;w8A < f8A.length;w8A++){A19="r";A19+="a";A19+="y";if(this.lineIntersection(t8A,W8A,v8A,A19,f8A[w8A]["0" & 2147483647],f8A[w8A][1],! !"1")){l8A=! !"1";break;}}}if(l8A){this.highlighted=!"";return {action:"move",p0:s0A.clone(M8A),p1:s0A.clone(y8A),tick:t8A,value:W8A};}d4n.r0n();return null;};s0A.Drawing.fibonacci.prototype.reconstruct=function(Q8A,Y8A){Y8A=s0A.replaceFields(Y8A,s0A.reverseObject(s0A.Drawing.fibonacci.mapping));this.stx=Q8A;this.parameters=Y8A.parameters;if(!this.parameters){this.parameters=s0A.clone(this.stx.currentVectorParameters.fibonacci);}this.color=Y8A.col;this.fillColor=Y8A.fc;this.panelName=Y8A.pnl;this.d0=Y8A.d0;this.d1=Y8A.d1;this.d2=Y8A.d2;this.tzo0=Y8A.tzo0;d4n.r0n();this.tzo1=Y8A.tzo1;this.tzo2=Y8A.tzo2;this.v0=Y8A.v0;this.v1=Y8A.v1;this.v2=Y8A.v2;this.adjust();};s0A.Drawing.fibonacci.prototype.adjust=function(){var i05;i05=this.stx.panels[this.panelName];if(!i05){return;}this.setPoint(0,this.d0,this.v0,i05.chart);this.setPoint(1,this.d1,this.v1,i05.chart);this.setOuter();};s0A.Drawing.fibonacci.prototype.serialize=function(){var A05;A05={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return s0A.replaceFields(A05,s0A.Drawing.fibonacci.mapping);};s0A.Drawing.retracement=function(){d4n.j0n();this.name="retracement";};s0A.inheritsFrom(s0A.Drawing.retracement,s0A.Drawing.fibonacci);s0A.Drawing.fibprojection=function(){var P19;P19="fi";P19+="bproje";P19+="ctio";P19+="n";this.name=P19;this.dragToDraw=![];this.p2=null;};s0A.inheritsFrom(s0A.Drawing.fibprojection,s0A.Drawing.fibonacci);d4n.o2d(3);s0A.Drawing.fibprojection.prototype.recommendedLevels=[d4n.N2d(1927375040,"0"),+"0.618",1,1.272,1.618,2.618,4.236];s0A.Drawing.fibprojection.prototype.click=function(e05,h05,x05){var B05;B05=this.stx.panels[this.panelName];if(!B05){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,h05,x05,B05.chart);this.penDown=!0;return !{};}if(this.accidentalClick(h05,x05)){this.stx.undo();return !"";}if(this.p2 !== null){this.setPoint(+"2",this.p2[0],this.p2[1],B05.chart);this.parameters=s0A.clone(this.parameters);return ! !{};}d4n.o2d(3);this.setPoint(d4n.c2d(1743695616,"1"),h05,x05,B05.chart);this.p2=[this.p1[0],this.p1[1]];return ! !0;;};s0A.Drawing.fibprojection.prototype.render=function(C05){var i19,r19,b05,F05,z05,X05,m05,R05,c05,k05,a05,N05,V05,D05,s05,T19,d19,N19,n05,I05,j05,H05,T05,G05,P05,g05,p05,d05,E05,X19,Q19,J05,Z05,r05;i19="seg";i19+="ment";r19="a";r19+="uto";b05=this.stx.panels[this.panelName];if(!b05){return;}F05=b05.yAxis;if(!this.p1){return;}d4n.o2d(59);var c4l=d4n.N2d(11,179,17,0,8);d4n.o2d(33);var Y4l=d4n.c2d(13,14);z05=this.p1[c4l] - this.p0[Y4l];X05=this.stx.pixelFromTick(this.p0[+"0"],b05.chart);m05=this.stx.pixelFromTick(this.p1[0],b05.chart);R05=this.stx.pixelFromValueAdjusted(b05,this.p0[0],this.p0[1]);c05=this.stx.pixelFromValueAdjusted(b05,this.p1[0],this.p1[1]);k05=null;a05=null;if(this.p2){k05=this.stx.pixelFromTick(this.p2[0],b05.chart);a05=this.stx.pixelFromValueAdjusted(b05,this.p2[0],this.p2[1]);}N05={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=N05;}V05=this.getLineColor(this.parameters.trend.color);C05.textBaseline="middle";this.stx.canvasFont("stx_yaxis",C05);d4n.f2d(13);var H4l=d4n.N2d(5,15,1);D05=C05.measureText("161.8%").width + H4l;s05=this.color;if(s05 == r19 || s0A.isTransparent(s05)){s05=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var K05=0;K05 < this.parameters.fibs.length;K05++){T19="se";T19+="gm";T19+="ent";d19="au";d19+="t";d19+="o";N19="aut";N19+="o";C05.textAlign="left";C05.fillStyle=s05;n05=this.parameters.fibs[K05];if(!n05.display)continue;I05=this.stx.pixelFromValueAdjusted(b05,this.p2[+"0"],this.p2["1" - 0] + z05 * n05.level);j05=s0A.xIntersection({x0:X05,x1:m05,y0:R05,y1:c05},I05);H05=this.parameters.extendLeft?0:X05;T05=b05.left + b05.width;if(this.parameters.printLevels){d4n.o2d(6);var S4l=d4n.c2d(7003,9,6,8000);d4n.f2d(60);var k4l=d4n.c2d(11,123,4,26,15);G05=Math.round(n05.level * S4l) / k4l + "%";T05-=D05;if(this.parameters.printValues){C05.fillStyle=s05;this.stx.canvasFont("stx_yaxis",C05);;}if(T05 < H05){C05.textAlign="right";}C05.fillText(G05,T05,I05);if(T05 < H05){T05+=5;}else {T05-=5;}}if(this.parameters.printValues){if(j05 < b05.width){P05=this.stx.transformedPriceFromPixel(I05,b05);if(F05.priceFormatter){P05=F05.priceFormatter(this.stx,b05,P05);}else {P05=this.stx.formatYAxisPrice(P05,b05);}if(C05 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(b05,P05,I05,s05,null,C05);if(C05 == this.stx.chart.context){this.stx.startClip(b05.name);}}}g05=n05.color;if(g05 == N19 || s0A.isTransparent(g05)){g05=this.color;}if(g05 == "auto" || s0A.isTransparent(g05)){g05=this.stx.defaultColor;}p05=n05.color;if(p05 == "auto" || s0A.isTransparent(p05)){p05=this.fillColor;}if(p05 == d19 || s0A.isTransparent(p05)){p05=this.stx.defaultColor;}C05.fillStyle=p05;d05=s0A.clone(n05.parameters);if(this.highlighted){d05.opacity=1;}this.stx.plotLine(H05,T05,I05,I05,this.highlighted?V05:g05,T19,C05,b05,d05);this.rays.push([[H05,I05],[T05,I05]]);C05.globalAlpha=0.05;C05.beginPath();C05.moveTo(T05,I05);C05.lineTo(H05,I05);if(H05){C05.lineTo(X05,a05);}else {C05.lineTo(H05,a05);}C05.lineTo(T05,a05);if(typeof p05 != "undefined"){C05.fill();}C05.globalAlpha=1;}}E05=s0A.clone(this.parameters.trend.parameters);if(this.highlighted){E05.opacity=1;}this.stx.plotLine(X05,m05,R05,c05,V05,i19,C05,b05,E05);if(this.p2){this.stx.plotLine(m05,k05,c05,a05,V05,"segment",C05,b05,E05);}if(this.highlighted){X19="p";X19+="2";Q19="p";Q19+="1";J05=this.highlighted == "p0"?! !{}:!{};Z05=this.highlighted == Q19?! !{}:!1;r05=this.highlighted == X19?! ![]:! !0;this.littleCircle(C05,X05,R05,J05);this.littleCircle(C05,m05,c05,Z05);this.littleCircle(C05,k05,a05,r05);}};s0A.Drawing.fibprojection.prototype.move=function(u05,o05,q05){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[o05,q05];}else {this.p2=[o05,q05];}this.render(u05);};s0A.Drawing.fibprojection.prototype.reposition=function(y05,U05,O05,S05){var L05,w05,M05;if(!U05){return;}L05=this.stx.panels[this.panelName];w05=U05.tick - O05;M05=U05.value - S05;d4n.r0n();if(U05.action == "move"){this.setPoint(0,U05.p0[0] - w05,U05.p0[1] - M05,L05.chart);this.setPoint(1,U05.p1[0] - w05,U05.p1[1] - M05,L05.chart);this.setPoint(2,U05.p2[0] - w05,U05.p2[1] - M05,L05.chart);this.render(y05);}else if(U05.action == "drag"){this[U05.point]=[O05,S05];this.setPoint(0,this.p0[0],this.p0[1],L05.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],L05.chart);this.setPoint(2,this.p2[0],this.p2[1],L05.chart);this.render(y05);}};s0A.Drawing.fibprojection.prototype.intersected=function(Y05,Q05,i15){var C19,l05,f05,t05,A15,B15,h15;C19="segme";C19+="nt";l05=this.p0;f05=this.p1;t05=this.p2;if(!l05 || !f05 || !t05){return null;}A15={0:l05,1:f05,2:t05};for(var W05 in A15){if(this.pointIntersection(A15[W05][0],A15[W05][1],i15)){d4n.o2d(2);this.highlighted=d4n.N2d(W05,6290 == (82,8780)?("T","461.64" * 1):5148 !== 375.7?"p":(5860,7113) === ("8970" | 264,6720)?!{}:(362.88,74.59));return {action:"drag",point:((7630,118.12) >= (537,334)?("S",0x12c8):"p") + W05};}}B15=this.rays;h15=this.lineIntersection(Y05,Q05,i15,C19,l05,f05) || this.lineIntersection(Y05,Q05,i15,"segment",f05,t05);if(!h15){for(var v05=0;v05 < B15.length;v05++){if(this.lineIntersection(Y05,Q05,i15,"ray",B15[v05][0],B15[v05][+"1"],! !"1")){h15=! ![];break;}}}if(h15){this.highlighted=!0;return {action:"move",p0:s0A.clone(l05),p1:s0A.clone(f05),p2:s0A.clone(t05),tick:Y05,value:Q05};}return null;};s0A.Drawing.fibprojection.prototype.adjust=function(){var x15;x15=this.stx.panels[this.panelName];if(!x15){return;}this.setPoint(0,this.d0,this.v0,x15.chart);this.setPoint(1,this.d1,this.v1,x15.chart);this.setPoint(2,this.d2,this.v2,x15.chart);};s0A.Drawing.fibarc=function(){d4n.j0n();this.name="fibarc";;};s0A.inheritsFrom(s0A.Drawing.fibarc,s0A.Drawing.fibonacci);d4n.o2d(19);s0A.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,d4n.N2d(1,"0.618"),1];s0A.Drawing.fibarc.prototype.setOuter=function(){var e15,C15,b15,T15,p15,I15,H15;e15=this.stx.panels[this.panelName];if(!e15){return;}this.outer={p0:s0A.clone(this.p0),p1:s0A.clone(this.p1)};C15=this.stx.pixelFromValueAdjusted(e15,this.p0[0],this.p0[1]);b15=this.stx.pixelFromValueAdjusted(e15,this.p1[0],this.p1[1]);T15=this.stx.pixelFromTick(this.p0[0],e15.chart);p15=this.stx.pixelFromTick(this.p1[0],e15.chart);d4n.f2d(36);I15=d4n.c2d(2,C15,b15);H15=s0A.xIntersection({x0:T15,x1:p15,y0:C15,y1:b15},I15);this.outer.p0[1]=this.stx.valueFromPixel(I15,e15);this.outer.p0[0]=this.stx.tickFromPixel(H15,e15.chart);};s0A.Drawing.fibarc.prototype.intersected=function(X15,R15,a15){var k15,s15,n15,K15,V15,F15,g15,m15,E15,c15;k15=this.stx.panels[this.panelName];if(!k15){return;}s15=this.p0;n15=this.p1;d4n.j0n();K15=this.outer;if(!s15 || !n15){return null;}V15={0:s15,1:n15};for(var P15 in V15){if(this.pointIntersection(V15[P15]["0" << 40911968],V15[P15][1],a15)){d4n.o2d(2);this.highlighted=d4n.N2d(P15,7943 === (9270,+"9950")?"247" << 1413039008:(796,2370) > 7897?(2210,+"55") > (903,"3399" * 1)?0x1651:(1.93e+3,"A"):"p");return {action:"drag",point:(61.23 > (1.1,+"1726")?! !"":"580.79" * 1 == 8825?8.29e+3:"p") + P15};}}if(this.lineIntersection(X15,R15,a15,"segment",K15.p0,K15.p1)){this.highlighted=! !"1";return {action:"move",p0:s0A.clone(s15),p1:s0A.clone(n15),tick:X15,value:R15};}F15={x0:s15[0],x1:n15[0],y0:s15[1],y1:n15[1]};g15=s0A.convertBoxToPixels(this.stx,this.panelName,F15);m15={x:Math.abs(Math.sqrt(2) * (g15.x1 - g15.x0)),y:Math.abs(Math.sqrt(+"2") * (g15.y1 - g15.y0))};E15=this.stx.pixelFromTick(X15,k15.chart);c15=this.stx.pixelFromValueAdjusted(k15,X15,R15);if(E15 + a15.r < g15.x1 - m15.x || E15 - a15.r > g15.x1 + m15.x){return null;}if(c15 + a15.r < g15.y1 - m15.y || c15 - a15.r > g15.y1 + m15.y){return null;}if(g15.y0 < g15.y1 && c15 - a15.r > g15.y1){return null;}if(g15.y0 > g15.y1 && c15 + a15.r < g15.y1){return null;}this.highlighted=! ![];return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:X15,value:R15};};s0A.Drawing.fibarc.prototype.render=function(d15){var y19,E19,z15,u15,r15,j15,J15,D15,w15,M15,y15,U15,m19,N15,f15,O15,o15,l15,t15,Z15,q15,G15,S15,l19,W15,v15;y19="s";y19+="egment";E19="m";E19+="idd";E19+="l";E19+="e";z15=this.stx.panels[this.panelName];if(!z15){return;}u15=z15.yAxis;if(!this.p1){return;}r15=this.stx.pixelFromTick(this.p0[0],z15.chart);j15=this.stx.pixelFromTick(this.p1[0],z15.chart);J15=this.stx.pixelFromValueAdjusted(z15,this.p0[0],this.p0[1]);D15=this.stx.pixelFromValueAdjusted(z15,this.p1[+"0"],this.p1[1]);d4n.f2d(61);w15=d4n.N2d(J15,D15);d4n.o2d(62);M15=Math.abs(d4n.c2d(J15,r15,D15,j15));y15=this.getLineColor(this.parameters.trend.color);d15.textBaseline=E19;this.stx.canvasFont("stx_yaxis",d15);U15=this.getLineColor();for(var L15="0" | 0;L15 < this.parameters.fibs.length;L15++){m19="a";m19+="u";m19+="to";d15.fillStyle=U15;N15=this.parameters.fibs[L15];if(N15.level < 0 || !N15.display)continue;d4n.o2d(63);var z2l=d4n.c2d(8,0,3,2);d4n.o2d(36);var A2l=d4n.c2d(19,10,189);d4n.o2d(5);var r2l=d4n.N2d(11,0,13);f15=Math.abs(this.p1[z2l] - this.p0[A2l]) * Math.sqrt(r2l) * N15.level;d4n.f2d(9);var N2l=d4n.N2d(0,3,2);d4n.o2d(64);var T2l=d4n.N2d(58,12,6,13);d4n.o2d(65);var i2l=d4n.c2d(14,20,0,7);O15=this.p1[N2l] + f15 * (w15?- +"1":+"1") * (u15.flipped?T2l:i2l);o15=this.stx.pixelFromValueAdjusted(z15,this.p0[0],O15);l15=s0A.xIntersection({x0:r15,x1:j15,y0:J15,y1:D15},o15);if(this.parameters.printLevels){d15.textAlign="center";d4n.f2d(2);var C2l=d4n.c2d(5,995);d4n.o2d(13);var m2l=d4n.c2d(0,80,8);d4n.o2d(2);var y2l=d4n.c2d(5,1505);d4n.o2d(66);var l2l=d4n.N2d(37,26,11,260);d4n.o2d(7);var e2l=d4n.c2d(39710,43320);d4n.f2d(67);var g2l=d4n.N2d(6,1283,2,1284);d4n.o2d(7);var B2l=d4n.c2d(10,5920);d4n.f2d(2);var Z2l=d4n.N2d(19,644);d4n.f2d(68);var t2l=d4n.c2d(7,1,9389);t15=Math.round(N15.level * C2l) / m2l + ((y2l,l2l) <= e2l?"%":(g2l,"9197" - 0) <= 242.26?(B2l,!"1"):848.92 <= Z2l?t2l:"u");if(this.parameters.printValues){d15.fillStyle=U15;this.stx.canvasFont("stx_yaxis",d15);;}d15.fillText(t15,j15,Math.round(o15 - 5));}d15.textAlign="left";if(this.parameters.printValues){if(l15 < z15.width){Z15=O15;if(u15.priceFormatter){Z15=u15.priceFormatter(this.stx,z15,Z15);}else {Z15=this.stx.formatYAxisPrice(Z15,z15);}if(d15 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(z15,Z15,o15,U15,null,d15);if(d15 == this.stx.chart.context){this.stx.startClip(z15.name);}}}q15=N15.color;if(q15 == "auto" || s0A.isTransparent(q15)){q15=this.getLineColor();}d15.strokeStyle=this.highlighted?y15:q15;G15=N15.color;if(G15 == "auto" || s0A.isTransparent(G15)){G15=this.fillColor;}if(G15 == m19 || s0A.isTransparent(G15)){G15=this.stx.defaultColor;}d15.fillStyle=G15;d15.globalAlpha=this.highlighted?1:N15.parameters.opacity;d15.lineWidth=N15.parameters.lineWidth;if(d15.setLineDash){d15.setLineDash(s0A.borderPatternToArray(d15.lineWidth,N15.parameters.pattern));d15.lineDashOffset=+"0";;}d15.save();d15.beginPath();d4n.o2d(12);d15.scale(d4n.N2d(1,M15),1);d4n.f2d(19);d15.arc(d4n.N2d(M15,j15),D15,Math.abs(o15 - D15),0,Math.PI,!w15);if(this.pattern != "none"){d15.stroke();}d15.globalAlpha=0.05;d15.fill();d15.restore();if(d15.setLineDash){d15.setLineDash([]);}d4n.f2d(69);d15.globalAlpha=d4n.c2d(0,"1");}d15.textAlign="left";S15=s0A.clone(this.parameters.trend.parameters);if(this.highlighted){S15.opacity=1;}d4n.o2d(36);this.stx.plotLine(j15,d4n.N2d(2,r15,j15),D15,d4n.c2d(2,J15,D15),y15,y19,d15,z15,S15);if(this.highlighted){l19="p";l19+="0";W15=this.highlighted == l19?! ![]:![];v15=this.highlighted == "p1"?! !{}:!{};this.littleCircle(d15,r15,J15,W15);this.littleCircle(d15,j15,D15,v15);}};s0A.Drawing.fibfan=function(){d4n.j0n();this.name="fibfan";;};s0A.inheritsFrom(s0A.Drawing.fibfan,s0A.Drawing.fibonacci);d4n.f2d(7);s0A.Drawing.fibfan.prototype.recommendedLevels=[d4n.N2d(0,"0"),0.382,0.5,d4n.c2d(1,"0.618",d4n.f2d(19)),1];s0A.Drawing.fibfan.prototype.setOuter=function(){};s0A.Drawing.fibfan.prototype.render=function(Y15){var g19,e19,i25,c25,Q15,x25,A25,H25,R25,k25,V25,E25,F25,a25,s25,n25,b25,t19,Z19,O19,I25,h25,X25,B25,T25,d25,B19,g25,e25,C25,K25,p25,z25,N25;d4n.r0n();g19="1";g19+="61";g19+=".8%";e19="m";e19+="i";e19+="d";e19+="dle";i25=this.stx.panels[this.panelName];if(!i25){return;}c25=i25.yAxis;if(!this.p1){return;}Q15=this.stx.pixelFromTick(this.p0[0],i25.chart);x25=this.stx.pixelFromTick(this.p1["0" >> 1050420992],i25.chart);A25=this.stx.pixelFromValueAdjusted(i25,this.p0[0],this.p0[+"1"]);H25=this.stx.pixelFromValueAdjusted(i25,this.p1[0],this.p1[+"1"]);R25=Math.min(H25,A25);k25=Math.max(H25,A25);d4n.f2d(7);V25=d4n.N2d(R25,k25);d4n.f2d(53);E25=d4n.c2d(H25,0,A25,x25,Q15);F25=this.getLineColor(this.parameters.trend.color);Y15.textBaseline=e19;this.stx.canvasFont("stx_yaxis",Y15);d4n.o2d(2);var M2l=d4n.c2d(9,1);a25=Y15.measureText(g19).width + M2l;s25=Number.MAX_VALUE;n25=Number.MAX_VALUE * - +"1";b25=this.color;if(b25 == "auto" || s0A.isTransparent(b25)){b25=this.stx.defaultColor;}this.rays=[];for(var m25="0" ^ 0;m25 < this.parameters.fibs.length;m25++){t19="aut";t19+="o";Z19="a";Z19+="u";Z19+="t";Z19+="o";O19="aut";O19+="o";Y15.fillStyle=b25;I25=this.parameters.fibs[m25];if(!I25.display)continue;h25=this.stx.pixelFromValueAdjusted(i25,this.p0[0],(this.p0[1] - this.p1[1]) * I25.level + this.p1[1]);X25=s0A.xIntersection({x0:x25,x1:x25,y0:A25,y1:H25},h25);B25=i25.left;if(x25 > Q15){B25+=i25.width;}d4n.f2d(70);T25=d4n.N2d(h25,A25,Q15,Q15,A25,B25,X25);if(Q15 > B25 - (this.parameters.printLevels?a25 + ("5" << 848411712):0) && x25 > Q15)continue;else if(Q15 < B25 + (this.parameters.printLevels?a25 + +"5":0) && x25 < Q15)continue;if(this.parameters.printLevels){d4n.o2d(2);var n2l=d4n.N2d(800,200);d4n.o2d(71);var G2l=d4n.c2d(17,17,1,10,1);d4n.f2d(5);var F2l=d4n.c2d(9,9083,16);d4n.f2d(72);var D2l=d4n.c2d(1817,3622,2,12);d4n.f2d(65);var a2l=d4n.c2d(12,103891,111860,9);d25=Math.round(I25.level * n2l) / G2l + (F2l < (D2l,"2710" & 2147483647)?(a2l,! !0):"%");if(x25 > Q15){B25-=a25;Y15.textAlign="left";}else {B25+=a25;Y15.textAlign="right";}if(this.parameters.printValues){B19="s";B19+="tx_ya";B19+="x";B19+="is";Y15.fillStyle=b25;this.stx.canvasFont(B19,Y15);;}d4n.f2d(70);T25=d4n.c2d(h25,A25,Q15,Q15,A25,B25,X25);Y15.fillText(d25,B25,T25);if(x25 > Q15){B25-=5;}else {B25+=5;}}Y15.textAlign="left";if(this.parameters.printValues){if(X25 < i25.width){g25=this.stx.transformedPriceFromPixel(h25,i25);if(c25.priceFormatter){g25=c25.priceFormatter(this.stx,i25,g25);}else {g25=this.stx.formatYAxisPrice(g25,i25);}if(Y15 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i25,g25,h25,b25,null,Y15);if(Y15 == this.stx.chart.context){this.stx.startClip(i25.name);}}}e25=I25.color;if(e25 == O19 || s0A.isTransparent(e25)){e25=this.color;}if(e25 == "auto" || s0A.isTransparent(e25)){e25=this.stx.defaultColor;}C25=I25.color;if(C25 == Z19 || s0A.isTransparent(C25)){C25=this.fillColor;}if(C25 == t19 || s0A.isTransparent(C25)){C25=this.stx.defaultColor;}Y15.fillStyle=C25;if(this.parameters.printLevels){d4n.f2d(70);T25=d4n.c2d(h25,A25,Q15,Q15,A25,B25,X25);}K25=s0A.clone(I25.parameters);if(this.highlighted){K25.opacity=1;}this.stx.plotLine(Q15,B25,A25,T25,this.highlighted?F25:e25,"segment",Y15,i25,K25);this.rays.push([[Q15,A25],[B25,T25]]);Y15.globalAlpha=0.05;Y15.beginPath();Y15.moveTo(B25,T25);Y15.lineTo(Q15,A25);Y15.lineTo(B25,A25);Y15.fill();Y15.globalAlpha=1;if(h25 < s25){s25=h25;}if(h25 > n25){n25=h25;}}for(var P25=+"0";P25 <= 1;P25++){p25=E25?k25 - V25 * P25:R25 + V25 * P25;p25=Math.round(p25);if(p25 < s25){s25=p25;}if(p25 > n25){n25=p25;}}if(this.highlighted){z25=this.highlighted == "p0"?!"":! !"";N25=this.highlighted == "p1"?!"":!"1";this.littleCircle(Y15,Q15,A25,z25);this.littleCircle(Y15,x25,H25,N25);}};s0A.Drawing.fibtimezone=function(){this.name="fibtimezone";;};s0A.inheritsFrom(s0A.Drawing.fibtimezone,s0A.Drawing.fibonacci);s0A.Drawing.fibtimezone.prototype.render=function(D25){var n19,M19,j25,G25,o25,M25,O25,L25,S25,W25,f25,U25,J25,l25,q25,u25,Z25,r25,w25,G19,v25,Y25,t25;n19="se";n19+="g";n19+="m";n19+="ent";M19="aut";M19+="o";j25=this.stx.panels[this.panelName];if(!j25){return;}if(!this.p1){return;}G25=this.stx.pixelFromTick(this.p0[0],j25.chart);o25=this.stx.pixelFromTick(this.p1[0],j25.chart);M25=this.stx.pixelFromValueAdjusted(j25,this.p0[0],this.p0[1]);O25=this.stx.pixelFromValueAdjusted(j25,this.p1[0],this.p1[1]);d4n.o2d(69);L25=[d4n.c2d(0,"1"),0];S25=this.getLineColor(this.parameters.trend.color);D25.textBaseline="middle";this.stx.canvasFont("stx_yaxis",D25);d4n.f2d(8);W25=d4n.N2d(20,"20");f25=this.p1[0] - this.p0[0];U25=this.color;if(U25 == "auto" || s0A.isTransparent(U25)){U25=this.stx.defaultColor;}D25.textAlign="center";J25=G25;l25=j25.yAxis.top;q25=j25.yAxis.bottom;u25=0;Z25=this.parameters.timezone.color;if(Z25 == "auto" || s0A.isTransparent(Z25)){Z25=this.color;}if(Z25 == "auto" || s0A.isTransparent(Z25)){Z25=this.stx.defaultColor;}r25=this.parameters.timezone.color;if(r25 == M19 || s0A.isTransparent(r25)){r25=this.fillColor;}if(r25 == "auto" || s0A.isTransparent(r25)){r25=this.stx.defaultColor;}if(this.parameters.printLevels){d4n.o2d(7);q25-=d4n.N2d(7,W25);}w25=s0A.clone(this.parameters.timezone.parameters);if(this.highlighted){w25.opacity=1;}do {J25=this.stx.pixelFromTick(this.p0[0] + u25 * f25,j25.chart);if(G25 < o25 && J25 > j25.left + j25.width)break;else if(G25 > o25 && J25 < j25.left)break;if(this.parameters.printLevels){D25.fillStyle=U25;D25.fillText(o25 > G25?u25:u25 * -1,J25,q25 + 7);}D25.fillStyle=r25;this.stx.plotLine(J25,J25,0,q25,this.highlighted?S25:Z25,"segment",D25,j25,w25);D25.globalAlpha=0.05;D25.beginPath();D25.moveTo(G25,l25);D25.lineTo(J25,l25);D25.lineTo(J25,q25);D25.lineTo(G25,q25);D25.fill();D25.globalAlpha=1;d4n.f2d(73);var J2l=d4n.c2d(18,2,3,14,3);u25=L25[0] + L25[J2l];L25.unshift(u25);}while(f25);D25.textAlign="left";this.stx.plotLine(G25,o25,M25,O25,S25,n19,D25,j25,w25);if(this.highlighted){G19="p";G19+="1";v25=this.highlighted == "p0"?!0:!"1";Y25=this.highlighted == G19?! ![]:![];this.littleCircle(D25,G25,M25,v25);this.littleCircle(D25,o25,O25,Y25);}else {t25=this.stx.valueFromPixel(j25.height / +"2",j25);this.setPoint(0,this.p0[0],t25,j25.chart);this.setPoint(1,this.p1[0],t25,j25.chart);}};s0A.Drawing.fibtimezone.prototype.intersected=function(x35,e35,A35){var b19,Q25,B35,C35,h35,b35,F19;b19="segmen";b19+="t";Q25=this.p0;B35=this.p1;C35=this.stx.panels[this.panelName];if(!Q25 || !B35 || !C35){return null;}h35={0:Q25,1:B35};d4n.j0n();for(var i35 in h35){if(this.pointIntersection(h35[i35][0],h35[i35][1],A35)){d4n.f2d(2);this.highlighted=d4n.c2d(i35,1820 <= 8170?"p":(6265,"8590" >> 1230886432) !== 8461?"d":(!"1",0x17ad));return {action:"drag",point:"p" + i35};}}b35=this.lineIntersection(x35,e35,A35,b19);if(b35 || A35.x0 <= this.p0[0] && A35.x1 >= Q25["0" - 0]){F19="m";F19+="o";F19+="ve";this.highlighted=! !1;return {action:F19,p0:s0A.clone(Q25),p1:s0A.clone(B35),tick:x35,value:e35};}return null;};s0A.Drawing.arrow_v0=function(){this.name="arrow";d4n.j0n();this.dimension=[11,+"11"];d4n.o2d(69);this.points=[["M",3,0,550 > (175.52,+"204")?"L":"2.96e+3" << 855462016,+"7",0,(164,935.63) <= (9704,7730)?"L":("2.23e+3" - 0,! !"1"),d4n.c2d(0,"7"),5,(5004,3820) < (+"53.85",2766)?"p":"L",10,5,"L",5,+"10",(6670,+"281.42") == (+"8442",5853)?("i",!""):"L",d4n.c2d(0,"0",d4n.f2d(8)),d4n.N2d(0,"5",d4n.o2d(7)),"L",3,5,4250 === 2250?("L",![]):"L",3,0]];};s0A.inheritsFrom(s0A.Drawing.arrow_v0,s0A.Drawing.shape);s0A.Drawing.xcross=function(){var L19;L19="x";L19+="cross";this.name=L19;this.dimension=[7,7];d4n.f2d(51);this.points=[["M",1,0,"L",3,d4n.c2d(2147483647,"2"),(314.93,3633) === (86.5,1786)?(+"97.25","2390" << 933949824) === +"51.75"?(191.13,"i"):765.00:"L",+"5",0,1001 !== 6900?289.38 === (1112,805.11)?"e":(200.45,5380) != (248.84,+"35")?"L":8.90e+1:856.37,6,1,(453.08,9917) >= (6360,+"96.78")?"L":(+"2208",269) != (9760,7470)?(640.76,896.08) != 1680?("v","J"):"Z":(631,! !{}),4,3,9424 !== 524.97?+"3560" >= ("4628" * 1,+"7035")?(0x1c90,"Q"):"L":(314.18,0x2676),6,5,"L",5,6,"L",3,4,4112 === 2960?("X",+"0x1dae"):"L",d4n.N2d(0,"1",d4n.o2d(8)),6,6245 === +"129.71"?(466.68,0x1442):"L",0,5,("494.41" - 0,4406) < 282.52?(5970,621) === ("530.98" * 1,6.72)?0x1139:(5940,"4650" << 793544736) >= 3416?"t":8.27e+3:"L",d4n.c2d(2,"2",d4n.o2d(8)),3,"L",0,d4n.c2d(0,"1",d4n.o2d(7)),"L",1,0]];;};s0A.inheritsFrom(s0A.Drawing.xcross,s0A.Drawing.shape);s0A.Drawing.check=function(){this.name="check";this.dimension=[8,9];d4n.f2d(7);this.points=[[("4472" | 4144,602) <= "6310" * 1?"M":(!0,+"326.10"),d4n.N2d(0,"1"),5,(12,5570) !== "5357" << 176313472?"L":(982.98,609) == ("3070" >> 1440061472,1430)?(443.48,362.05):23.82 < (+"54.54",+"5190")?(4.90e+3,!0):6.86e+3,0,6,"L",2,8,"L",+"7",1,("7000" | 4864,+"685.84") <= (+"906.24",512.9)?2.30e+3:(998,407) != (1170,1500)?"L":2400 < (5173,5332)?("56.96" * 1,+"0x2170"):546.10,6,0,(5440,+"8877") >= 3940?"L":545.77,2,6,(8220,812.8) < 1750?"L":448 <= "596.16" * 1?"R":"B",1,5]];;};s0A.inheritsFrom(s0A.Drawing.check,s0A.Drawing.shape);s0A.Drawing.star=function(){var D19;D19="s";D19+="ta";D19+="r";this.name=D19;this.dimension=[12,12];d4n.f2d(69);this.points=[[(5310,7707) < 2251?7769 != 8190?(3.87e+3,! !1):(! !"1",! ![]):"M",0,4,(955.98,4240) > 964?(9104,408) == (4944,+"225.67")?0x24bc:85.56 < ("9985" | 8448,+"773.42")?"L":(0x1f30,!"1"):0x1123,4,4,"L",5.5,0,"L",7,d4n.c2d(0,"4"),(147,18.32) !== (706.53,9930)?"L":(!0,328.26),11,4,"L",8,7,554.71 == 4412?830.31 === 3070?"j":2.43e+3:"L",9,11,(4440,715.04) === 1930?("9.46e+3" >> 1402607712,575.96):9641 >= 1641?1750 === (902,412.01)?(0x1f33,"I"):"L":0x1b98,+"5.5",+"9",(7776,5159) == (3270,939)?935.12:(+"966.51",7450) !== ("7080" | 6440)?"L":(+"6.10e+3",0x4c2),2,+"11","L",3,7,212.37 > 2610?(+"3.10e+1","E"):"L",0,4]];;};s0A.inheritsFrom(s0A.Drawing.star,s0A.Drawing.shape);s0A.Drawing.heart=function(){var a4W,J4W,o4W;this.name="heart";a4W=+"507273160";J4W=-301487979;o4W=+"2";for(var f4W=1;d4n.a9W(f4W.toString(),f4W.toString().length,26719) !== a4W;f4W++){d4n.f2d(3);this.dimension=[23,d4n.c2d(701796480,"20")];o4W+=2;}if(d4n.a9W(o4W.toString(),o4W.toString().length,+"6655") !== J4W){d4n.f2d(3);this.dimension=[d4n.c2d(1508439328,"82"),d4n.N2d(1,"22",d4n.o2d(19))];}d4n.o2d(3);d4n.r0n();this.points=[["M",11,3,"B",11,2.4,10,0,6,+"0",511 !== (843,3281)?2522 == (264.24,"10" * 1)?"g":"B":0x18f,0,0,0,7.5,d4n.N2d(1243362976,"0"),7.5,"B",0,11,4,+"15.4",11,d4n.N2d(19,"19",d4n.o2d(8)),"B",18,15.4,d4n.N2d(0,"22",d4n.o2d(69)),11,+"22",d4n.N2d(0,"7.5",d4n.f2d(7)),6650 === (1680,6543)?+"666.79" <= (9880,9259)?("b",0x2471):(0x2291,! ![]):"B",22,7.5,22,0,16,0,999 === 256?4430 === 1603?(8.59e+3,"k"):(3870,"8586" ^ 0) != 6320?(! !{},"485.87" * 1):0xde6:"B",13,0,d4n.c2d(1,"11",d4n.o2d(19)),+"2.4",11,3]];;};s0A.inheritsFrom(s0A.Drawing.heart,s0A.Drawing.shape);s0A.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];d4n.r0n();d4n.f2d(51);this.points=[["M",0,0,"L",d4n.c2d(2147483647,"2"),2,(238.33,8060) == (2560,140)?(0x75a,+"4.89e+3"):"L",0,4,8140 != 7140?"L":(986.85,6.30e+3),0,0],[5141 === (929,9842)?(0x1b78,3.88e+2):"M",6,0,+"4470" > 1843?30 === (807.58,277)?743.69:"L":0x2243,d4n.N2d(432828992,"4",d4n.o2d(3)),2,(6610,224.79) <= 773.14?"L":9815 == 353.63?713:(3343,281.52) >= ("498" * 1,651.78)?("0x1053" >> 2006901024,!1):(! ![],+"960.91"),6,4,(5581,5392) === ("4931" - 0,7115)?2.97e+3:"L",6,+"0"]];;};s0A.inheritsFrom(s0A.Drawing.focusarrow,s0A.Drawing.shape);s0A.Drawing.crossline=function(){this.name="crossline";};s0A.inheritsFrom(s0A.Drawing.crossline,s0A.Drawing.horizontal);s0A.extend(s0A.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(I35,T35){d4n.r0n();return ![];},adjust:function(){var p35;p35=this.stx.panels[this.panelName];if(!p35){return;}this.setPoint(0,this.d0,this.v0,p35.chart);this.p1=s0A.clone(this.p0);},intersected:function(g35,a35,s35){var H35;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;H35=this.lineIntersection(g35,a35,s35,"line");this.p1=s0A.clone(this.p0);if(!H35){this.p1[1]+=1;H35=this.lineIntersection(g35,a35,s35,"line");this.p1=s0A.clone(this.p0);if(!H35){return null;}}this.highlighted=!0;if(this.pointIntersection(this.p0["0" ^ 0],this.p0[1],s35)){this.highlighted="p0";}return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:g35,value:a35};},render:function(E35){var n35,m35,c35,k35,F35,P35,X35,R35,E2W,m2W,y2W,d35,V35,o9W,v9W,f9W,K35,a19,z35;n35=this.stx.panels[this.panelName];if(!n35){return;}m35=this.stx.pixelFromTick(this.p0[0],n35.chart);c35=this.stx.pixelFromValueAdjusted(n35,this.p0[0],this.p0[1]);k35=this.getLineColor();F35={pattern:this.pattern,lineWidth:this.lineWidth};d4n.o2d(2);this.stx.plotLine(m35,d4n.c2d(100,m35),c35,c35,k35,"horizontal",E35,n35,F35);d4n.f2d(2);this.stx.plotLine(m35,m35,c35,d4n.N2d(100,c35),k35,"vertical",E35,n35,F35);if(this.axisLabel && !this.repositioner){this.stx.endClip();d4n.o2d(69);P35=this.p0[d4n.c2d(0,"1")];if(n35.chart.transformFunc){P35=n35.chart.transformFunc(this.stx,n35.chart,P35);}if(n35.yAxis.priceFormatter){P35=n35.yAxis.priceFormatter(this.stx,n35,P35);}else {P35=this.stx.formatYAxisPrice(P35,n35);}this.stx.createYAxisLabel(n35,P35,c35,k35);this.stx.startClip(n35.name);if(this.p0[0] >= "0" * 1 && !this.stx.chart.xAxis.noDraw){X35=this.stx.dateFromTick(this.p0[+"0"],n35.chart,! !1);if(!s0A.ChartEngine.isDailyInterval(this.stx.layout.interval)){E2W=1888645000;m2W=1393518978;y2W=2;for(var e2W=1;d4n.a9W(e2W.toString(),e2W.toString().length,39127) !== E2W;e2W++){d4n.o2d(7);var f2l=d4n.c2d(6054,8072);d35=(X35.getSeconds() - f2l) * X35.getMilliseconds();y2W+=2;}if(d4n.J9W(y2W.toString(),y2W.toString().length,91890) !== m2W){d4n.f2d(45);var s2l=d4n.c2d(4,6,6,1008);d35=X35.getSeconds() * s2l + X35.getMilliseconds();}if(n0A.Date && this.stx.displayZone){R35=new n0A.Date(X35.getTime(),this.stx.displayZone);X35=new Date(R35.getFullYear(),R35.getMonth(),R35.getDate(),R35.getHours(),R35.getMinutes());X35=new Date(X35.getTime() + d35);}}else {X35.setHours(0,0,0,0);}V35=s0A.mmddhhmm(s0A.yyyymmddhhmm(X35));if(n35.chart.xAxis.formatter){V35=n35.chart.xAxis.formatter(X35,this.name,null,null,V35);}else if(this.stx.internationalizer){o9W=152974068;d4n.f2d(7);v9W=-d4n.N2d(0,"785409822");f9W=2;for(var U9W=1;d4n.a9W(U9W.toString(),U9W.toString().length,1193) !== o9W;U9W++){f9W+=2;}if(d4n.a9W(f9W.toString(),f9W.toString().length,68275) !== v9W){}if(X35.getHours() !== 0 || X35.getMinutes() !== 0){K35=this.stx.internationalizer.monthDay.format(X35);d4n.o2d(74);var U2l=d4n.N2d(19,1394,31,15,7);d4n.f2d(74);var K2l=d4n.c2d(16,4125,46,18,8);d4n.o2d(2);var u2l=d4n.N2d(17,9793);K35+=(U2l > ("6569" | K2l)?(u2l,! ![]):" ") + this.stx.internationalizer.hourMinute.format(X35);}else {K35=this.stx.internationalizer.yearMonthDay.format(X35);}V35=K35;}this.stx.endClip();this.stx.createXAxisLabel({panel:n35,txt:V35,x:m35,backgroundColor:k35,color:null,pointed:! !{},padding:+"2"});this.stx.startClip(n35.name);}}if(this.highlighted){a19="p";a19+="0";z35=this.highlighted == a19?! ![]:!"1";this.littleCircle(E35,m35,c35,z35);}}},!0);s0A.Drawing.speedarc=function(){var J19;d4n.r0n();J19="spee";J19+="darc";this.name=J19;this.printLevels=! !{};};s0A.inheritsFrom(s0A.Drawing.speedarc,s0A.Drawing.segment);s0A.extend(s0A.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;d4n.r0n();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(N35,D35,q35){var G35,o19,u35,J35,Z35,r35,o35;if(!this.p0 || !this.p1){return null;}G35={0:this.p0,1:this.p1};for(var j35 in G35){if(this.pointIntersection(G35[j35][0],G35[j35][1],q35)){o19="d";o19+="r";o19+="ag";d4n.o2d(2);this.highlighted=d4n.N2d(j35,"p");return {action:o19,point:((15,814.86) === (+"2085","654.83" * 1)?3800 <= 8450?"D":(0x375,"f"):"p") + j35};}}u35=this.lineIntersection(N35,D35,q35,this.name);if(u35){this.highlighted=! ![];return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:N35,value:D35};}J35=this.p1[0] - (this.p0[0] - this.p1[0]);Z35=this.p0[0];r35=this.p1[1];o35=this.p0[1];if(N35 > Math.max(J35,Z35) || N35 < Math.min(J35,Z35)){return null;}if(D35 > Math.max(o35,r35) || D35 < Math.min(o35,r35)){return null;}this.highlighted=! !1;return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:N35,value:D35};},render:function(U35){var v19,L35,f35,M35,O35,w35,t35,W35,l35,y35,Y35,Q35,v35,f19,i75,A75,B75,h75;v19="stx_";v19+="yaxis";L35=this.stx.panels[this.panelName];if(!L35){return;}if(!this.p1){return;}f35=this.stx.pixelFromTick(this.p0[0],L35.chart);M35=this.stx.pixelFromTick(this.p1[0],L35.chart);O35=this.stx.pixelFromValueAdjusted(L35,this.p0[0],this.p0[1]);w35=this.stx.pixelFromValueAdjusted(L35,this.p1[0],this.p1[1]);d4n.f2d(61);t35=d4n.N2d(O35,w35);d4n.f2d(62);W35=Math.abs(d4n.c2d(O35,f35,w35,M35));l35=this.getLineColor();U35.strokeStyle=l35;y35=this.fillColor;if(y35 == "auto" || s0A.isTransparent(y35)){y35=this.stx.defaultColor;}U35.fillStyle=y35;if(U35.setLineDash){U35.setLineDash(s0A.borderPatternToArray(this.lineWidth,this.pattern));U35.lineDashOffset=0;;}this.stx.canvasFont(v19,U35);for(var S35=1;S35 < 3;S35++){d4n.f2d(9);var V2l=d4n.c2d(0,15,14);d4n.o2d(5);var x2l=d4n.N2d(15,0,16);d4n.f2d(75);var w2l=d4n.N2d(249,13,19);d4n.f2d(76);var W2l=d4n.N2d(2,18,0,19);Y35=Math.abs(this.p1[V2l] - this.p0[x2l]) * Math.sqrt(w2l) * S35 / W2l;d4n.o2d(5);var I2l=d4n.N2d(14,0,15);d4n.o2d(33);var c2l=d4n.N2d(19,18);d4n.f2d(45);var Y2l=d4n.N2d(16,31,2,18);d4n.f2d(40);var H2l=d4n.N2d(3,0,1,10,12);d4n.o2d(0);var S2l=d4n.c2d(19,7,11);Q35=this.p1[I2l] + Y35 * (t35?c2l:Y2l) * (L35.yAxis.flipped?H2l:S2l);v35=this.stx.pixelFromValueAdjusted(L35,this.p0[0],Q35);U35.save();U35.beginPath();d4n.o2d(12);U35.scale(d4n.c2d(1,W35),d4n.c2d(1334493632,"1",d4n.f2d(29)));d4n.f2d(19);U35.arc(d4n.c2d(W35,M35),w35,Math.abs(v35 - w35),+"0",Math.PI,!t35);U35.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){U35.stroke();}U35.globalAlpha=0.1;U35.fill();U35.restore();U35.globalAlpha=1;if(this.printLevels){f19="/";f19+="3";U35.fillStyle=l35;U35.textAlign="center";d4n.o2d(2);i75=d4n.N2d(f19,S35);U35.fillText(i75,M35,Math.round(v35 - 5));U35.fillStyle=y35;}}U35.textAlign="left";A75={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(f35,M35,O35,w35,l35,"segment",U35,L35,A75);if(U35.setLineDash){U35.setLineDash([]);}if(this.highlighted){B75=this.highlighted == "p0"?! !1:![];h75=this.highlighted == "p1"?!"":!{};this.littleCircle(U35,f35,O35,B75);this.littleCircle(U35,M35,w35,h75);}},reconstruct:function(e75,x75){this.stx=e75;this.color=x75.col;this.fillColor=x75.fc;this.panelName=x75.pnl;this.pattern=x75.ptrn;this.lineWidth=x75.lw;d4n.j0n();this.d0=x75.d0;this.d1=x75.d1;this.tzo0=x75.tzo0;this.tzo1=x75.tzo1;this.v0=x75.v0;this.v1=x75.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});s0A.Drawing.speedline=function(){var s19;s19="speedlin";s19+="e";this.name=s19;this.printLevels=! !1;};s0A.inheritsFrom(s0A.Drawing.speedline,s0A.Drawing.speedarc);s0A.extend(s0A.Drawing.speedline.prototype,{intersected:function(g75,a75,s75){var I75,T75,p75,U19,H75,R19,K19;I75=this.p0;T75=this.p1;d4n.r0n();if(!I75 || !T75){return null;}p75={0:I75,1:T75};for(var C75 in p75){if(this.pointIntersection(p75[C75][0],p75[C75][1],s75)){U19="dr";U19+="a";U19+="g";d4n.o2d(2);this.highlighted=d4n.N2d(C75,"p");return {action:U19,point:((420,"4761" ^ 0) <= "482.82" - 0?(509.21,711.65) != 2003?("a",! !{}):(0x16e5,0x17ae):"p") + C75};}}H75=this.rays;for(var b75=0;b75 < H75.length;b75++){R19="r";R19+="ay";if(this.lineIntersection(g75,a75,s75,R19,H75[b75][0],H75[b75][1],! !{})){K19="m";K19+="ove";this.highlighted=!"";return {action:K19,p0:s0A.clone(I75),p1:s0A.clone(T75),tick:g75,value:a75};}}return null;},render:function(n75){var V19,u19,R75,X75,m75,P75,k75,r75,E75,d75,o75,q75,u75,J75,Z75,c75,p19,V75,F75,D75,K75,N75,j75,G75,x19,w19,U75,L75;V19="1";V19+="/";V19+="3";u19="aut";u19+="o";R75=this.stx.panels[this.panelName];if(!R75){return;}if(!this.p1){return;}X75=this.stx.pixelFromTick(this.p0[0],R75.chart);m75=this.stx.pixelFromTick(this.p1[0],R75.chart);P75=this.stx.pixelFromValueAdjusted(R75,this.p0[0],this.p0[1]);k75=this.stx.pixelFromValueAdjusted(R75,this.p1[+"0"],this.p1[1]);this.stx.canvasFont("stx_yaxis",n75);r75=this.getLineColor();E75=this.color;if(E75 == "auto" || s0A.isTransparent(E75)){E75=this.stx.defaultColor;}n75.strokeStyle=E75;d75=this.fillColor;if(d75 == u19 || s0A.isTransparent(d75)){d75=this.stx.defaultColor;}n75.fillStyle=d75;o75={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};d4n.j0n();J75=["1","2/3",V19,"3/2","3"];d4n.o2d(77);Z75=[1,d4n.N2d(3,"2"),d4n.c2d("3",1,d4n.o2d(78)),d4n.N2d(3,2,d4n.f2d(12)),3];c75=[];this.rays=[];for(var z75=0;z75 < Z75.length;z75++){p19="se";p19+="gmen";p19+="t";V75=Z75[z75];if(V75 > +"1" && !this.extension)continue;F75=this.stx.pixelFromValueAdjusted(R75,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * V75);if(V75 > 1){D75=s0A.xIntersection({x0:X75,x1:m75,y0:P75,y1:F75},k75);c75.push(D75);}else {D75=s0A.xIntersection({x0:m75,x1:m75,y0:P75,y1:k75},F75);c75.push(F75);}K75=V75 > 1?D75:m75;N75=V75 > "1" << 1638365856?k75:F75;if(!this.confineToGrid){K75=R75.left;if(m75 > X75){K75+=R75.width;}d4n.o2d(70);N75=d4n.N2d(F75,P75,X75,X75,P75,K75,m75);}if(this.printLevels){if(V75 != 1 || this.extension){n75.fillStyle=E75;j75=0;G75=0;if(P75 > k75){G75=-5;n75.textBaseline="bottom";}else {G75=5;n75.textBaseline="top";}if(X75 > m75){x19="r";x19+="ig";x19+="h";x19+="t";j75=5;n75.textAlign=x19;}else {j75=-5;n75.textAlign="left";}if(V75 > 1){n75.fillText(J75[z75],D75 + (this.confineToGrid?0:j75),k75);}else {n75.fillText(J75[z75],m75,F75 + (this.confineToGrid?0:G75));}n75.fillStyle=d75;}}this.stx.plotLine(X75,K75,P75,N75,this.highlighted?r75:E75,p19,n75,R75,o75);if(V75 == +"1"){q75=K75;u75=N75;}this.rays.push([[X75,P75],[K75,N75]]);n75.globalAlpha=0.1;n75.beginPath();n75.moveTo(K75,N75);n75.lineTo(X75,P75);n75.lineTo(q75,u75);n75.fill();n75.globalAlpha=1;}n75.textAlign="left";n75.textBaseline="middle";if(this.confineToGrid){n75.globalAlpha=0.3;n75.beginPath();d4n.o2d(7);n75.strokeRect(X75,P75,d4n.c2d(X75,m75),d4n.c2d(P75,k75));n75.moveTo(X75,c75[1]);n75.lineTo(m75,c75[1]);n75.moveTo(X75,c75[2]);n75.lineTo(m75,c75[2]);if(this.extension){n75.moveTo(c75[3],P75);n75.lineTo(c75[3],k75);n75.moveTo(c75[4],P75);n75.lineTo(c75[4],k75);}n75.stroke();n75.globalAlpha=1;}if(this.highlighted){w19="p";w19+="1";U75=this.highlighted == "p0"?! ![]:!{};L75=this.highlighted == w19?! !{}:!"1";this.littleCircle(n75,X75,P75,U75);this.littleCircle(n75,m75,k75,L75);}}},!0);s0A.Drawing.gannfan=function(){var W19;W19="ga";W19+="nn";d4n.j0n();W19+="f";W19+="an";this.name=W19;this.printLevels=! ![];};s0A.inheritsFrom(s0A.Drawing.gannfan,s0A.Drawing.speedline);s0A.extend(s0A.Drawing.gannfan.prototype,{render:function(w75){var H19,Y19,S75,M75,f75,O75,Y75,e55,l75,v75,C55,b55,I55,h55,c19,t75,T55,x55,W75,Q75,A55,B55,I19,q19,p55,H55;H19="middl";H19+="e";Y19="l";Y19+="e";Y19+="f";Y19+="t";S75=this.stx.panels[this.panelName];if(!S75){return;}if(!this.p1){return;}d4n.r0n();M75=this.stx.pixelFromTick(this.p0[0],S75.chart);f75=this.stx.pixelFromTick(this.p1[0],S75.chart);O75=this.stx.pixelFromValueAdjusted(S75,this.p0[0],this.p0[1]);Y75=this.stx.pixelFromValueAdjusted(S75,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",w75);e55=this.getLineColor();l75=this.color;if(l75 == "auto" || s0A.isTransparent(l75)){l75=this.stx.defaultColor;}w75.strokeStyle=l75;v75=this.fillColor;if(v75 == "auto" || s0A.isTransparent(v75)){v75=this.stx.defaultColor;}w75.fillStyle=v75;C55={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};d4n.f2d(77);h55=[1,2,3,4,8,d4n.c2d(2,"1"),d4n.N2d(1,3,d4n.f2d(12)),d4n.c2d(1,4,d4n.f2d(12)),d4n.N2d(8,"1",1,d4n.f2d(79))];this.rays=[];for(var i55=0;i55 < h55.length;i55++){c19="seg";c19+="men";c19+="t";t75=h55[i55];d4n.o2d(80);T55=d4n.N2d(f75,M75,t75,M75);d4n.o2d(81);x55=d4n.c2d(Y75,O75,O75,t75);W75=S75.left;if(f75 > M75){W75+=S75.width;}d4n.f2d(70);Q75=d4n.c2d(x55,O75,M75,M75,O75,W75,f75);if(this.printLevels){w75.fillStyle=l75;A55=0;B55=0;if(O75 > Y75){B55=5;w75.textBaseline="top";}else {B55=-5;w75.textBaseline="bottom";}if(M75 > f75){I19="le";I19+="ft";A55=+"5";w75.textAlign=I19;}else {A55=-5;w75.textAlign="right";}if(t75 > 1){d4n.f2d(2);w75.fillText(d4n.c2d("x1",t75),d4n.c2d(A55,T55),Y75);}else {q19="1";q19+="x";d4n.f2d(49);w75.fillText(d4n.N2d(t75,1,q19),f75,d4n.c2d(B55,x55,d4n.o2d(2)));}w75.fillStyle=v75;}this.stx.plotLine(M75,W75,O75,Q75,this.highlighted?e55:l75,c19,w75,S75,C55);this.rays.push([[M75,O75],[W75,Q75]]);if(t75 == ("1" & 2147483647)){b55=W75;I55=Q75;}w75.globalAlpha=0.1;w75.beginPath();w75.moveTo(W75,Q75);w75.lineTo(M75,O75);w75.lineTo(b55,I55);w75.fill();w75.globalAlpha=1;}w75.textAlign=Y19;w75.textBaseline=H19;if(this.highlighted){p55=this.highlighted == "p0"?! ![]:!{};H55=this.highlighted == "p1"?! !{}:![];this.littleCircle(w75,M75,O75,p55);this.littleCircle(w75,f75,Y75,H55);}}},! !{});s0A.Drawing.timecycle=function(){var S19;S19="ti";S19+="m";d4n.r0n();S19+="ecycle";this.name=S19;this.printLevels=! !{};};s0A.inheritsFrom(s0A.Drawing.timecycle,s0A.Drawing.speedarc);s0A.extend(s0A.Drawing.timecycle.prototype,{intersected:function(P55,m55,s55){var g55,n55,c55,X55,R55;g55=this.p0;n55=this.p1;c55=this.stx.panels[this.panelName];if(!g55 || !n55 || !c55){return null;}X55={0:g55,1:n55};for(var a55 in X55){if(this.pointIntersection(X55[a55][0],X55[a55][1],s55)){d4n.o2d(2);this.highlighted=d4n.N2d(a55,447.7 === (1621,837.23)?(888,0x24e):(+"973.07",5850) === (8650,8480)?! !1:"p");return {action:"drag",point:"p" + a55};}}R55=this.lineIntersection(P55,m55,s55,"segment");if(R55 || s55.x0 <= this.p0[0] && s55.x1 >= g55["0" >> 278208160]){this.highlighted=! !1;return {action:"move",p0:s0A.clone(g55),p1:s0A.clone(n55),tick:P55,value:m55};}return null;},render:function(k55){var k19,V55,E55,D55,Z55,r55,G55,o55,w55,q55,K55,u55,z55,N55,j55,U55,F55,J55,M55,y55,O55,L55;k19="cen";k19+="t";k19+="e";k19+="r";V55=this.stx.panels[this.panelName];if(!V55){return;}if(!this.p1){return;}E55=this.stx.pixelFromTick(this.p0[0],V55.chart);D55=this.stx.pixelFromTick(this.p1[0],V55.chart);Z55=this.stx.pixelFromValueAdjusted(V55,this.p0[0],this.p0[1]);r55=this.stx.pixelFromValueAdjusted(V55,this.p1[0],this.p1[1]);G55=0;o55=this.getLineColor();k55.textBaseline="middle";this.stx.canvasFont("stx_yaxis",k55);w55=+"20";q55=this.p1[0] - this.p0[0];k55.textAlign=k19;K55=E55;u55=V55.yAxis.top;z55=V55.yAxis.bottom;N55=this.color;if(N55 == "auto" || s0A.isTransparent(N55)){N55=this.stx.defaultColor;}j55=this.fillColor;if(j55 == "auto" || s0A.isTransparent(j55)){j55=this.stx.defaultColor;}if(this.printLevels){d4n.o2d(7);z55-=d4n.c2d(7,w55);}U55={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};F55=[];k55.save();k55.fillStyle=j55;k55.globalAlpha=+"0.05";d4n.j0n();do {K55=this.stx.pixelFromTick(this.p0[0] + G55 * q55,V55.chart);G55++;if(E55 < D55 && K55 > V55.left + V55.width)break;else if(E55 > D55 && K55 < V55.left)break;else if(K55 < V55.left || K55 > V55.left + V55.width)continue;k55.beginPath();k55.moveTo(E55,u55);k55.lineTo(K55,u55);k55.lineTo(K55,z55);k55.lineTo(E55,z55);k55.fill();F55.push({c:G55,x:K55});}while(q55);k55.globalAlpha=1;J55=0;for(var d55=0;d55 < F55.length;d55++){this.stx.plotLine(F55[d55].x,F55[d55].x,0,z55,this.highlighted?o55:N55,"segment",k55,V55,U55);if(this.printLevels){k55.fillStyle=N55;d4n.f2d(82);var j8l=d4n.N2d(15,14,12,12);M55=this.stx.chart.context.measureText(F55[d55].c).width + "3" * j8l;if(M55 < this.stx.layout.candleWidth + J55){k55.fillText(F55[d55].c,F55[d55].x,z55 + 7);d4n.o2d(69);J55=d4n.c2d(0,"0");}else {J55+=this.stx.layout.candleWidth;}}}k55.restore();k55.textAlign="left";this.stx.plotLine(E55,D55,Z55,r55,o55,"segment",k55,V55,U55);if(this.highlighted){y55=this.highlighted == "p0"?! !{}:!"1";O55=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(k55,E55,Z55,y55);this.littleCircle(k55,D55,r55,O55);}else {L55=this.stx.valueFromPixel(V55.height / 2,V55);this.setPoint(0,this.p0[0],L55,V55.chart);this.setPoint(1,this.p1[0],L55,V55.chart);}}},! ![]);s0A.Drawing.regression=function(){d4n.j0n();this.name="regression";};s0A.inheritsFrom(s0A.Drawing.regression,s0A.Drawing.segment);s0A.extend(s0A.Drawing.regression.prototype,{configs:["color","lineWidth","pattern",j79,h79,z79,A79,P79,r79,"lineWidth2","pattern2",N79,"color3",d79,"pattern3"],copyConfig:function(f55){var S55;s0A.Drawing.copyConfig(this,f55);S55=this.stx.currentVectorParameters;this.active1=! !S55.active1;this.active2=! !S55.active2;this.active3=! !S55.active3;this.color1=S55.color1 || "auto";this.color2=S55.color2 || "auto";this.color3=S55.color3 || "auto";this.lineWidth1=S55.lineWidth1;this.lineWidth2=S55.lineWidth2;this.lineWidth3=S55.lineWidth3;this.pattern1=S55.pattern1;this.pattern2=S55.pattern2;this.pattern3=S55.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]',T79,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(B65,W55,v55){var t55,l55,Y55,Q55;if(W55 < 0){return;}this.copyConfig();t55=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(+"0",W55,v55,t55.chart);this.penDown=!"";l55=this.stx;this.field=l55.highlightedDataSetField;if(!this.field && t55 != l55.chart.panel){for(var i65 in l55.chart.seriesRenderers){Y55=l55.chart.seriesRenderers[i65];if(Y55.params.panel == t55.name){this.field=Y55.seriesParams[0].field;break;}}for(var A65 in l55.layout.studies){Q55=l55.layout.studies[A65];if(Q55.panel == t55.name){this.field=Object.keys(Q55.outputMap)[0];break;}}}return !"1";}if(this.accidentalClick(W55,v55)){return this.dragToDraw;}this.setPoint(1,W55,v55,t55.chart);this.penDown=!1;return ! !"1";;},getYValue:function(T65){d4n.r0n();var e65,C65,b65,p65,x65,h65,I65;e65=this.stx.chart.dataSet[T65];C65=this.stx.chart.dataSet[T65];if(!e65){return null;}b65=this.stx.panels[this.panelName];p65=this.stx.getYAxisByField(b65,this.field) || b65.yAxis;if(this.stx.charts[b65.name] && b65.chart.transformFunc && p65 == b65.yAxis){C65=e65.transform;}if(!C65){return null;}x65=null;h65=null;I65=this.stx.defaultPlotField || "Close";if(this.field){h65=s0A.existsInObjectChain(C65,this.field);if(!h65){return null;}x65=h65=h65.obj[h65.member];if(e65 != C65){x65=s0A.existsInObjectChain(e65,this.field);x65=x65.obj[x65.member];}if(typeof h65 == "object"){h65=h65[I65];x65=x65[I65];}}else {h65=C65[I65];x65=e65[I65];}return {transformed:h65,untransformed:x65};},render:function(m65){var g65,s65,n65,N65,c65,D65,R65,K65,o65,q65,u65,U65,E65,j65,H65,X65,L65,w65,F65,d65,M65,z65,G65,J65,k65,V65,Z65,r65,O65,y65,S65,P65,g2W,B2W,O2W,i79,f65,l65;g65=this.stx.panels[this.panelName];if(!g65){return;}if(!this.p1){return;}if(this.p0["0" & 2147483647] < 0 || this.p1[0] < 0){return;}s65=this.stx.pixelFromTick(this.p0[+"0"],g65.chart);n65=this.stx.pixelFromTick(this.p1[0],g65.chart);if(s65 < g65.left && n65 < g65.left){return;}if(s65 > g65.right && n65 > g65.right){return;}N65=this.stx.getYAxisByField(g65,this.field);c65=[];D65=[];R65=0;K65=0;o65=0;q65=0;u65=Math.min(this.p1[0],this.p0[0]);U65=Math.max(this.p1[0],this.p0[0]) + +"1";d4n.o2d(7);E65=d4n.N2d(u65,U65);for(var a65=u65;a65 < U65;a65++){j65=this.getYValue(a65);if(j65){c65.push(j65.transformed);D65.push(j65.untransformed);}}H65=c65.length;d4n.o2d(83);X65=d4n.c2d(2,1,H65,H65);L65=Math.pow(X65,+"2");d4n.o2d(84);w65=d4n.c2d(X65,H65,2,"1",3);for(a65=0;a65 < H65;a65++){o65+=H65 * c65[a65] - R65;R65+=c65[a65];q65+=H65 * D65[a65] - K65;K65+=D65[a65];}d4n.o2d(85);F65=d4n.c2d(H65,L65,X65,w65,R65,H65,o65);d4n.o2d(86);d65=d4n.c2d(F65,R65,X65,H65);d4n.o2d(85);M65=d4n.c2d(H65,L65,X65,w65,K65,H65,q65);d4n.o2d(86);z65=d4n.c2d(F65,K65,X65,H65);if(this.p0[0] < this.p1[0]){G65=d65;d4n.f2d(87);J65=d4n.N2d(d65,E65,F65);this.p0[1]=z65;d4n.f2d(87);this.p1[1]=d4n.N2d(z65,E65,M65);}else {d4n.o2d(87);G65=d4n.N2d(d65,E65,F65);J65=d65;d4n.f2d(87);this.p0[1]=d4n.N2d(z65,E65,M65);this.p1[1]=z65;}k65=this.stx.pixelFromTransformedValue(G65,g65,N65);V65=this.stx.pixelFromTransformedValue(J65,g65,N65);Z65=this.getLineColor();r65={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(s65,n65,k65,V65,Z65,"segment",m65,g65,r65);d4n.f2d(27);this.stx.plotLine(s65,s65,d4n.c2d("20",k65),d4n.c2d(20,k65,d4n.o2d(2)),Z65,"segment",m65,g65,r65);d4n.f2d(7);this.stx.plotLine(n65,n65,d4n.N2d(20,V65),d4n.c2d(20,V65,d4n.o2d(2)),Z65,"segment",m65,g65,r65);if(this.active1 || this.active2 || this.active3){d4n.o2d(12);O65=d4n.N2d(R65,H65);y65=+"0";for(a65=0;a65 < H65;a65++){y65+=Math.pow(c65[a65] - O65,2);}d4n.o2d(12);S65=Math.sqrt(d4n.c2d(y65,H65));P65={context:m65,panel:g65,points:{0:{x:s65,v:G65},1:{x:n65,v:J65}},stddev:S65,yAxis:N65};this.lines={};if(this.active1){this.renderStddev("1",(5380,292) !== 7700?"p":8341 === 5697?(0xe64,! ![]):433.97,P65);g2W=-939908734;B2W=-623571429;O2W=2;for(var t2W=1;d4n.J9W(t2W.toString(),t2W.toString().length,"27177" * 1) !== g2W;t2W++){this.renderStddev(4112 > 6867?(3477,7633) === +"718"?4590 === 2899?(1923453,+"0xa817"):("0x18" * 1,"n"):(+"0xfa4","3326173" >> 1458414592):"1","1",P65);d4n.f2d(29);O2W+=d4n.N2d(1870512352,"2");}if(d4n.J9W(O2W.toString(),O2W.toString().length,"30450" - 0) !== B2W){this.renderStddev(7580 >= +"8050"?(7946,7569) !== 217?8970 != 2504?(1.01e+3,0x210f):(0xd8,"V"):(0xf55,1.25e+2):"1","n",P65);}}if(this.active2){this.renderStddev(9230 < +"5974"?("7650" ^ 0,+"1620") < (499.16,82.5)?4.70e+3:(1.50e+1,0x1ea8):"2",(1954,3200) >= 8356?4761 != (763.07,3068)?"B":"5.30e+3" & 2147483647:"p",P65);this.renderStddev("2",(909.09,+"748.03") < 742.26?(1305,371.11) <= 1011?(![],0x1108):("B",7.24e+3):"n",P65);}if(this.active3){this.renderStddev(865.99 != 1219?632.95 == (4280,"9690" * 1)?(3338,5660) >= 7450?(! !"1",0xecc):! ![]:"3":(149,! !1),"p",P65);this.renderStddev("3","n",P65);}}if(!this.highlighted){this.pixelX=[s65,n65];this.pixelY=[k65,V65];}else {i79="p";i79+="0";f65=this.highlighted == i79?!"":!"1";l65=this.highlighted == "p1"?!"":! !"";this.littleCircle(m65,s65,k65,f65);this.littleCircle(m65,n65,V65,l65);}},renderStddev:function(A45,H45,B45){var X79,Q79,b45,g45,a45,s45,h45,I45,T45,e45,C45,Y65,W65,x45,t65,v65,Q65,i45,n45,X45,p45,P45;X79="segme";X79+="nt";Q79="p";Q79+="a";Q79+="t";Q79+="tern";d4n.o2d(88);b45=d4n.c2d("stddev",A45,H45);d4n.f2d(2);g45=d4n.c2d(A45,"color");d4n.o2d(2);a45=d4n.c2d(A45,Q79);d4n.o2d(2);s45=d4n.N2d(A45,"lineWidth");h45=B45.points;I45=h45[0].v;T45=h45[1].v;e45=B45.stddev;d4n.r0n();C45=H45 === "n"?A45 * -1:A45 * 1;Y65=this.stx;W65=B45.panel;x45=B45.yAxis;t65={name:b45,color:this.getLineColor(this[g45]),type:X79,y0:Y65.pixelFromTransformedValue(I45 + e45 * C45,W65,x45),y1:Y65.pixelFromTransformedValue(T45 + e45 * C45,W65,x45),params:{pattern:this[a45],lineWidth:this[s45]}};if(this.lines){this.lines[b45]=t65;}v65=B45.context;Q65=h45["0" - 0].x;i45=h45["1" ^ 0].x;Y65.plotLine(Q65,i45,t65.y0,t65.y1,t65.color,t65.type,v65,W65,t65.params);Y65.plotLine(Q65,Q65,t65.y0 - +"10",t65.y0 + ("10" << 1258665792),t65.color,t65.type,v65,W65,t65.params);Y65.plotLine(i45,i45,t65.y1 - +"10",t65.y1 + +"10",t65.color,t65.type,v65,W65,t65.params);d4n.f2d(2);n45=d4n.N2d((9514,3170) <= 9774?"\u03c3":662 < (816.42,7855)?"161.17" * 1 >= 7000?! ![]:0x9f:(4.86e+3,"F"),A45);d4n.f2d(2);var h8l=d4n.c2d(3,2);X45=Math.max(Q65,i45) + ("5" | h8l);p45=Q65 < i45?t65.y1:t65.y0;v65.fillStyle=t65.color;v65.save();v65.textBaseline="middle";v65.fillText(n45,X45,p45);v65.restore();if(B45.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(Q65 >= W65.chart.left && Q65 <= W65.chart.right || i45 >= W65.chart.left && i45 <= W65.chart.right){d4n.o2d(22);P45=d4n.c2d(e45,C45,Q65 < i45?T45:I45);Y65.endClip();Y65.createYAxisLabel(W65,B45.formatPrice(P45,x45),p45,t65.color,null,v65,x45);Y65.startClip(W65.name);}}},intersected:function(R45,k45,d45){var V45,K45,E45,z45,N45,F45,c45,C79;if(!this.pixelX || !this.pixelY){return null;}V45=this.repositionIntersection(R45,k45);if(V45){return V45;}K45={0:this.pixelX,1:this.pixelY};for(var m45=0;m45 < 2;m45++){if(this.pointIntersection(K45[0][m45],K45[1][m45],d45,! ![])){d4n.f2d(2);this.highlighted=d4n.N2d(m45,"p");return {action:"drag",point:(5040 === (7670,1450)?"s":(9490,870.11) < 8320?"p":(4252,3395) !== (839.9,342.8)?2.21e+3:! !0) + m45};}}E45=this;z45=this.pixelX[0];N45=this.pixelX[1];F45=function(j45){var G45,J45;G45=[z45,j45.y0];J45=[N45,j45.y1];return E45.lineIntersection(R45,k45,d45,E45.name,G45,J45,! ![]);};c45=F45({y0:this.pixelY[0],y1:this.pixelY[1]});if(!c45 && this.lines){for(var D45 in this.lines){if(F45(this.lines[D45])){c45=!"";break;}}}if(c45){C79="m";C79+="o";C79+="v";C79+="e";this.highlighted=!0;return {action:C79,p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:R45,value:k45};}return null;},repositionIntersection:function(Z45,r45){if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !0){return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:Z45,value:r45};}return {action:"drag",point:this.highlighted};}d4n.r0n();return ![];},lineIntersection:function(O45,S45,w45,M45,q45,u45,y45){var L45,o45,U45;if(!y45){d4n.o2d(2);console.log(d4n.c2d(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",M45));return !{};}if(!q45){q45=this.p0;}if(!u45){u45=this.p1;}if(!(q45 && u45)){return ! !"";}L45=this.stx;d4n.r0n();o45=s0A.convertBoxToPixels(L45,this.panelName,w45);if(o45.x0 === undefined){return !"1";}U45={x0:q45[0],x1:u45[0],y0:q45[1],y1:u45[1]};return s0A.boxIntersects(o45.x0,o45.y0,o45.x1,o45.y1,U45.x0,U45.y0,U45.x1,U45.y1);},boxIntersection:function(l45,t45,f45){if(f45.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || f45.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !{};}d4n.r0n();if(!this.stx.repositioningDrawing && (f45.cy1 < this.pixelY[0] || f45.cy0 > this.pixelY[1])){return !"1";}return !"";},reconstruct:function(v45,W45){this.stx=v45;this.color=W45.col;this.color1=W45.col1;this.color2=W45.col2;this.color3=W45.col3;this.active1=W45.dev1;this.active2=W45.dev2;this.active3=W45.dev3;this.panelName=W45.pnl;this.pattern=W45.ptrn;this.pattern1=W45.ptrn1;this.pattern2=W45.ptrn2;this.pattern3=W45.ptrn3;this.lineWidth=W45.lw;this.lineWidth1=W45.lw1;this.lineWidth2=W45.lw2;this.lineWidth3=W45.lw3;this.d0=W45.d0;this.d1=W45.d1;this.tzo0=W45.tzo0;this.tzo1=W45.tzo1;this.field=W45.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");s0A.Drawing.trendline=function(){this.name="trendline";};s0A.inheritsFrom(s0A.Drawing.trendline,s0A.Drawing.segment);s0A.Drawing.trendline.prototype.configs=[E79,"fillColor",m79,y79,"font"];s0A.Drawing.trendline.prototype.measure=function(){;};s0A.Drawing.trendline.prototype.reconstruct=function(Y45,Q45){s0A.Drawing.segment.prototype.reconstruct.call(this,Y45,Q45);this.callout=new s0A.Drawing.callout();d4n.j0n();this.callout.reconstruct(Y45,Q45.callout);};s0A.Drawing.trendline.prototype.serialize=function(){var i85;i85=s0A.Drawing.segment.prototype.serialize.call(this);i85.callout=this.callout.serialize();return i85;};s0A.Drawing.trendline.prototype.render=function(b85){var l79,A85,s85,x85,e85,B85,h85,I85,C85,T85,n85,p85,X85,P85,O39,Z39,t39,H85,g85,a85,m85,c85,v2W,f2W,s2W,e79,R85,k85;l79=" ";l79+="B";l79+="ars";A85=this.stx.panels[this.panelName];if(!A85){return;}s0A.Drawing.segment.prototype.render.call(this,b85);if(!this.callout){this.callout=new s0A.Drawing.callout();s85=s0A.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,s85);}this.callout.p0=s0A.clone(this.p0);x85=this.stx.pixelFromTick(this.p0["0" >> 173051840],A85.chart);e85=this.stx.pixelFromTick(this.p1[0],A85.chart);B85=this.stx.pixelFromValueAdjusted(A85,this.p0[0],this.p0[+"1"]);h85=this.stx.pixelFromValueAdjusted(A85,this.p1[0],this.p1[1]);if(!isFinite(B85) || !isFinite(h85)){return;}d4n.o2d(4);I85=d4n.N2d(e85,x85,2);d4n.f2d(4);C85=d4n.N2d(h85,B85,2);this.fontSize=s0A.stripPX(this.font && this.font.size || +"13");d4n.o2d(89);var z8l=d4n.N2d(4988,1,1,8,34924);d4n.o2d(36);var A8l=d4n.N2d(60,11,610);T85=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ("9607" - 0 <= z8l?("A","U"):"c")?0:A8l);n85=Math.sqrt(Math.pow(e85 - x85,2) + Math.pow(h85 - B85,2));d4n.o2d(9);var P8l=d4n.c2d(0,16,15);d4n.o2d(90);var r8l=d4n.N2d(16,20,8,8,13);d4n.f2d(36);var N8l=d4n.N2d(2,8,17);p85=T85 / (n85 || T85) * (this.p1[P8l] < this.p0["1" | r8l]?1:N8l);d4n.f2d(91);X85=d4n.N2d(C85,p85,h85,I85);d4n.o2d(92);P85=d4n.c2d(p85,C85,e85,I85);this.callout.p0[0]=this.stx.tickFromPixel(X85,A85.chart);this.callout.p0[1]=this.stx.priceFromPixel(P85,A85);this.callout.v0=this.callout.p0[1];d4n.j0n();this.callout.p1=s0A.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;O39=548039307;Z39=395653888;t39=2;for(var n39=1;d4n.J9W(n39.toString(),n39.toString().length,19229) !== O39;n39++){this.callout.noHandles=!{};d4n.o2d(82);var d8l=d4n.c2d(1,4,3,13);d4n.o2d(36);var T8l=d4n.c2d(20,15,297);H85=this.p1[d8l] / this.p0[T8l];t39+=2;}if(d4n.J9W(t39.toString(),t39.toString().length,15953) !== Z39){this.callout.noHandles=!0;d4n.f2d(45);var i8l=d4n.c2d(4,2,9,8);d4n.f2d(7);var Q8l=d4n.N2d(15,16);H85=this.p1[i8l] - this.p0[Q8l];}d4n.o2d(5);var X8l=d4n.c2d(13,0,15);d4n.f2d(5);var C8l=d4n.N2d(13,10,4);d4n.o2d(36);var E8l=d4n.N2d(19,18,340);this.callout.text="" + Number(H85).toFixed(X8l) + (this.p0[C8l] === +"0"?"":" (" + Number(+"100" * H85 / this.p0[1]).toFixed(E8l) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + l79;g85=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < +"20"){m85=this.stx.pixelFromTick(g85,A85.chart);d4n.o2d(93);c85=d4n.N2d(x85,e85,B85,B85,x85,h85,m85);a85=this.stx.priceFromPixel(c85,A85) || C85;}else {v2W=-691868145;f2W=-1909464659;s2W=+"2";for(var R2W=1;d4n.J9W(R2W.toString(),R2W.toString().length,53167) !== v2W;R2W++){a85=this.stx.priceFromPixel(C85,A85);s2W+=2;}if(d4n.J9W(s2W.toString(),s2W.toString().length,"27661" | 1025) !== f2W){a85=this.stx.priceFromPixel(C85,A85);}a85=this.stx.priceFromPixel(C85,A85);}this.callout.stem={t:g85,v:a85};this.callout.renderText();this.callout.render(b85);if(this.highlighted){e79="p";e79+="0";R85=this.highlighted == e79?! !1:!"1";k85=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(b85,x85,B85,R85);this.littleCircle(b85,e85,h85,k85);}};s0A.Drawing.trendline.prototype.lineIntersection=function(V85,K85,E85,F85){var g79;g79="s";g79+="egme";g79+="n";g79+="t";d4n.r0n();return s0A.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,V85,K85,E85,g79);};s0A.Drawing.trendline.prototype.intersected=function(z85,N85,j85){var D85,d85;d4n.j0n();if(!this.p0 || !this.p1){return null;}D85=this.callout.intersected(z85,N85,j85);d85=s0A.Drawing.segment.prototype.intersected.call(this,z85,N85,j85);this.callout.highlighted=! !(D85 || d85);if(d85){return d85;}else if(D85){return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:z85,value:N85};}return null;};s0A.Drawing.average=function(){this.name="average";};s0A.inheritsFrom(s0A.Drawing.average,s0A.Drawing.regression);s0A.extend(s0A.Drawing.average.prototype,{configs:s0A.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var B79,G85,Z85,o85,q85,r85,J85;if(this.p0 && this.p1){B79="&en";B79+="sp";B79+=";";this.stx.setMeasure(0,![],this.p0[0],this.p1[0],! !1,this.name);G85=[];Z85="";if(this.active1){G85.push("1");}if(this.active2){G85.push("2");}if(this.active3){G85.push("3");}if(G85.length){Z85=B79 + G85.join(", ") + " &sigma;";}o85=(this.stx.drawingContainer || document).querySelector(".mMeasure");q85=this.stx.controls.mSticky;r85=q85 && q85.querySelector(".mStickyInterior");if(o85){o85.innerHTML+=Z85;}if(r85){J85=[];J85.push(s0A.capitalize(this.name));J85.push(this.field || this.stx.defaultPlotField || "Close");J85.push(r85.innerHTML + Z85);r85.innerHTML=J85.join("<br>");}}},render:function(O85){var O79,u85,L85,w85,t85,M85,i95,A95,I95,B95,Y85,y85,f85,W85,l85,U85,v85,Q85,h95,e95,S85,C95,b95;O79="s";O79+="egm";O79+="e";d4n.r0n();O79+="nt";u85=this.stx.panels[this.panelName];if(!u85){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}L85=this.stx.pixelFromTick(this.p0[0],u85.chart);w85=this.stx.pixelFromTick(this.p1[0],u85.chart);if(L85 < u85.left && w85 < u85.left){return;}if(L85 > u85.right && w85 > u85.right){return;}t85=this.stx.getYAxisByField(u85,this.field);M85=this.stx;i95=Math.min(this.p1["0" | 0],this.p0[0]);d4n.f2d(14);var m8l=d4n.c2d(318091741,1,11,1,8);d4n.o2d(36);var y8l=d4n.c2d(10,4,39);A95=Math.max(this.p1["0" >> m8l],this.p0[0]) + y8l;d4n.f2d(7);I95=d4n.c2d(i95,A95);function x95(T95,p95){if(p95 && p95.priceFormatter){T95=p95.priceFormatter(M85,u85,T95);}else {T95=M85.formatYAxisPrice(T95,u85,null,p95);}return T95;}B95=0;Y85=[];for(y85=i95;y85 < A95;y85++){f85=this.getYValue(y85);if(f85 !== null){B95+=f85.transformed;Y85.push(f85);}}W85=Y85.length;if(!W85){return;}d4n.o2d(12);l85=d4n.N2d(B95,W85);U85=M85.pixelFromTransformedValue(l85,u85,t85);v85=this.getLineColor();Q85={pattern:this.pattern,lineWidth:this.lineWidth};M85.plotLine(L85,w85,U85,U85,v85,"segment",O85,u85,Q85);d4n.o2d(7);M85.plotLine(L85,L85,d4n.c2d(20,U85),d4n.N2d(20,U85,d4n.f2d(2)),v85,"segment",O85,u85,Q85);d4n.o2d(7);M85.plotLine(w85,w85,d4n.N2d(20,U85),d4n.N2d(20,U85,d4n.o2d(2)),v85,O79,O85,u85,Q85);if(this.axisLabel && !this.highlighted && !this.penDown){if(L85 >= u85.chart.left && L85 <= u85.chart.right || w85 >= u85.chart.left && w85 <= u85.chart.right){M85.endClip();M85.createYAxisLabel(u85,x95(l85,t85),U85,v85,null,O85,t85);M85.startClip(u85.name);}}if(this.active1 || this.active2 || this.active3){d4n.f2d(51);h95=d4n.N2d(2147483647,"0");for(y85=0;y85 < W85;y85++){f85=Y85[y85];h95+=Math.pow(f85.transformed - l85,2);}d4n.f2d(12);e95=Math.sqrt(d4n.N2d(h95,W85));S85={context:O85,formatPrice:x95,panel:u85,points:{0:{x:L85,v:l85},1:{x:w85,v:l85}},stddev:e95,yAxis:t85};this.lines={};if(this.active1){this.renderStddev((283.4,5190) != (190.17,+"1638")?"1":("C",7.35e+3),1303 < ("4394" | 4386,+"18.45")?0x21ff:("8020" | 4164) > 5930?"p":(1130,"529.31" - 0) === (2595,5412)?(!{},"g"):"9.36e+3" >> 2071427200,S85);this.renderStddev("1",(353.74,681) > 494.02?"n":+"635" == (+"2290",3780)?("l","X"):(793.49,897) < (989.67,"985.08" * 1)?0x3dd:!0,S85);}if(this.active2){this.renderStddev("2",9101 >= (4420,4483)?("6488" & 2147483647,149) != 538.51?"p":696.14 < (37.49,39.7)?(+"799.94",0x4e1):("I",0x1248):("5.23e+3" & 2147483647,0x1ab5),S85);this.renderStddev(9250 !== 800.28?"2":(+"308.79",+"300.09") === (5458,9695)?("C",!""):515.85,"n",S85);}if(this.active3){this.renderStddev("3","p",S85);this.renderStddev((+"6849",2160) === 7510?0xe5e:"3",+"7466" == 9390?354.22:"n",S85);}}if(!this.highlighted){this.pixelX=[L85,w85];this.pixelY=[U85,U85];}else {C95=this.highlighted == "p0"?!"":![];b95=this.highlighted == "p1"?! ![]:! !"";this.littleCircle(O85,L85,U85,C95);this.littleCircle(O85,w85,U85,b95);}},reconstruct:function(g95,H95){d4n.r0n();this.axisLabel=H95.al;s0A.Drawing.regression.prototype.reconstruct.call(this,g95,H95);},serialize:function(){var a95;a95=s0A.Drawing.regression.prototype.serialize.call(this);a95.al=this.axisLabel;return a95;}},! !{});s0A.Drawing.quadrant=function(){this.name="quadrant";};s0A.inheritsFrom(s0A.Drawing.quadrant,s0A.Drawing.regression);s0A.extend(s0A.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth",Z79],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;d4n.r0n();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(P95){var F79,b79,G79,t79,n95,s95,X95,m95,K95,c95,R95,d95,E95,z95,N95,D95,j95,G95,F95,k95,J95,V95,n79,M79,r95,o95;F79="tir";F79+="o";F79+="n";F79+="e";b79="quadra";b79+="nt";G79="tiron";G79+="e";t79="se";t79+="gm";t79+="e";t79+="nt";n95=this.stx;s95=n95.panels[this.panelName];if(!s95){return;}if(!this.p1){return;}X95=n95.pixelFromTick(this.p0[0],s95.chart);m95=n95.pixelFromTick(this.p1[0],s95.chart);if(X95 < s95.left && m95 < s95.left){return;}if(X95 > s95.right && m95 > s95.right){return;}K95=this.stx.getYAxisByField(s95,this.field);c95=null;R95=null;for(var Z95=Math.max(0,Math.min(this.p1[0],this.p0[0]));Z95 <= Math.min(n95.chart.dataSet.length - 1,Math.max(this.p1["0" << 1449418496],this.p0[+"0"]));Z95++){d95=this.getYValue(Z95);if(d95 !== null){if(c95 === null || d95.transformed > c95){c95=d95.transformed;}if(R95 === null || d95.transformed < R95){R95=d95.transformed;}}}E95=n95.pixelFromTransformedValue(c95,s95,K95);d4n.o2d(94);z95=n95.pixelFromTransformedValue(d4n.N2d(3,R95,c95,4),s95,K95);d4n.o2d(94);N95=n95.pixelFromTransformedValue(d4n.c2d(2,R95,c95,3),s95,K95);d4n.o2d(4);D95=n95.pixelFromTransformedValue(d4n.N2d(R95,c95,2),s95,K95);d4n.o2d(95);j95=n95.pixelFromTransformedValue(d4n.c2d(2,R95,3,c95),s95,K95);d4n.f2d(96);G95=n95.pixelFromTransformedValue(d4n.c2d(c95,R95,3,"4"),s95,K95);F95=n95.pixelFromTransformedValue(R95,s95,K95);this.p0[1]=0;this.p1[1]=!1;k95=this.getLineColor();J95=this.fillColor;if(J95 == "auto" || s0A.isTransparent(J95)){J95=n95.defaultColor;}P95.fillStyle=J95;V95={pattern:this.pattern,lineWidth:this.lineWidth};n95.plotLine(X95,m95,E95,E95,k95,t79,P95,s95,V95);n95.plotLine(X95,m95,F95,F95,k95,"segment",P95,s95,V95);if(this.name == "quadrant"){n79="se";n79+="gment";M79="se";M79+="gment";n95.plotLine(X95,m95,z95,z95,k95,M79,P95,s95,V95);n95.plotLine(X95,m95,G95,G95,k95,n79,P95,s95,V95);}else if(this.name == G79){n95.plotLine(X95,m95,N95,N95,k95,"segment",P95,s95,V95);n95.plotLine(X95,m95,j95,j95,k95,"segment",P95,s95,V95);}n95.plotLine(X95,X95,E95,F95,k95,"segment",P95,s95,V95);n95.plotLine(m95,m95,E95,F95,k95,"segment",P95,s95,V95);n95.plotLine(X95,m95,D95,D95,k95,"segment",P95,s95,s0A.extend(V95,{opacity:this.name == "tirone"?0.2:1}));P95.globalAlpha=0.1;P95.beginPath();d4n.o2d(7);P95.fillRect(X95,E95,d4n.c2d(X95,m95),d4n.N2d(E95,F95));if(this.name == b79){d4n.o2d(7);P95.fillRect(X95,z95,d4n.N2d(X95,m95),d4n.c2d(z95,G95));}else if(this.name == F79){d4n.f2d(7);P95.fillRect(X95,N95,d4n.N2d(X95,m95),d4n.c2d(N95,j95));}P95.globalAlpha=1;if(!this.highlighted){this.pixelX=[X95,m95];this.pixelY=[E95,F95,D95];if(this.name === "quadrant"){this.pixelY.push(z95,G95);}if(this.name === "tirone"){this.pixelY.push(N95,j95);}}else {r95=this.highlighted == "p0"?! !1:!"1";o95=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(P95,X95,D95,r95);this.littleCircle(P95,m95,D95,o95);}},intersected:function(w95,M95,O95){var y95,L95,S95;d4n.j0n();var {pixelX:q95, pixelY:u95}=this;if(!q95 || !u95){return null;}y95=this.repositionIntersection(w95,M95);if(y95){return y95;}for(var U95=0;U95 < 2;U95++){if(this.pointIntersection(q95[U95],u95[2],O95,! !"1")){d4n.o2d(2);this.highlighted=d4n.c2d(U95,"p");return {action:"drag",point:"p" + U95};}}L95=[];q95.forEach(f95=>{d4n.r0n();L95.push({p0:[f95,u95[0]],p1:[f95,u95[1]]});});u95.forEach(l95=>{d4n.r0n();var s39,U39,R39;s39=+"1841981613";U39=-2114836709;R39=2;for(var u39=1;d4n.a9W(u39.toString(),u39.toString().length,39368) !== s39;u39++){L95.push({p0:[q95[1],l95],p1:[q95[9],l95]});R39+=2;}if(d4n.J9W(R39.toString(),R39.toString().length,84646) !== U39){L95.push({p0:[q95["1" >> 982998880],l95],p1:[q95[9],l95]});}L95.push({p0:[q95[0],l95],p1:[q95[1],l95]});});S95=L95.some(({p0:t95, p1:W95})=>{return this.lineIntersection(w95,M95,O95,this.name,t95,W95,! !{});});if(S95){this.highlighted=!0;return {action:"move",p0:s0A.clone(this.p0),p1:s0A.clone(this.p1),tick:w95,value:M95};}return null;},reconstruct:function(Y95,v95){this.stx=Y95;this.color=v95.col;this.fillColor=v95.fc;d4n.j0n();this.panelName=v95.pnl;this.pattern=v95.ptrn;this.lineWidth=v95.lw;this.d0=v95.d0;this.d1=v95.d1;this.tzo0=v95.tzo0;this.tzo1=v95.tzo1;this.field=v95.fld;this.adjust();},serialize:function(){d4n.j0n();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);s0A.Drawing.tirone=function(){var O4W,Z4W,t4W;O4W=-577740212;Z4W=- +"1737585127";t4W=2;for(var n4W=1;d4n.a9W(n4W.toString(),n4W.toString().length,47461) !== O4W;n4W++){this.name="";t4W+=2;}if(d4n.J9W(t4W.toString(),t4W.toString().length,20508) !== Z4W){this.name="";}this.name="tirone";};s0A.inheritsFrom(s0A.Drawing.tirone,s0A.Drawing.quadrant);s0A.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!"1";this.annotationPoints=[];this.edit=null;};s0A.inheritsFrom(s0A.Drawing.elliottwave,s0A.Drawing.annotation);s0A.Drawing.elliottwave.defaultTemplate={impulse:[687.67 === 8722?6.57e+3:753.41 <= 855.73?"I":(0x2390,+"0xb3b"),"II","III",L79,(5459,+"7783") > 8501?(4718,3223) == +"42.88"?"2.91e+3" >> 1566595936:(651.57,+"2429") >= (432.29,5180)?0x1efe:(1.41e+2,0x42d):"V"],corrective:[("9190" | 8678) < ("3233" ^ 0,3770)?(670.19,7.02e+3):(500.44,6070) != 584.12?"A":(! !"","765.92" - 0),+"3370" < (4835,7820)?"B":0x148b,538 !== 318.33?"C":(683.21,9500) > +"847.86"?0x925:("0xc4f" - 0,254.94)],decoration:D79,showLines:! !1};s0A.Drawing.elliottwave.prototype.initializeSettings=function(Q95){d4n.j0n();Q95.currentVectorParameters.waveParameters=s0A.clone(s0A.Drawing.elliottwave.defaultTemplate);};s0A.Drawing.elliottwave.prototype.configs=["color","lineWidth",a79,"pattern","font",J79];s0A.Drawing.elliottwave.prototype.$controls=[o79,v79];s0A.Drawing.elliottwave.prototype.construct=function(i0z,B0z){var A0z;d4n.j0n();this.stx=i0z;this.panelName=B0z.name;A0z=i0z.currentVectorParameters;Object.assign(this,A0z.waveParameters);};s0A.Drawing.elliottwave.prototype.serialize=function(){var f79,x0z;f79="s";f79+="t";x0z={};for(var h0z=0;h0z < this.points.length;h0z++){d4n.f2d(2);x0z[d4n.N2d(h0z,989 <= 9899?"d":(603.89,"5.31e+3" ^ 0))]=this[d4n.N2d(h0z,8600 === (445.25,8967)?132.71 != (8989,"645.83" - 0)?(0xdc8,! ![]):9.05e+2:"d")];d4n.f2d(2);x0z[d4n.N2d(h0z,"tzo")]=this[d4n.N2d(h0z,"tzo")];d4n.f2d(2);x0z[d4n.c2d(h0z,"v")]=this[d4n.N2d(h0z,"v")];}x0z.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:s0A.removeNullValues(s0A.replaceFields(this.font,{style:f79,size:"sz",weight:"wt",family:"fl"}))},x0z);};s0A.Drawing.elliottwave.prototype.reconstruct=function(C0z,e0z){var u79,K79,I4W,q4W,c4W,s79,R79,U79;u79="en";u79+="cl";u79+="osed";K79="we";K79+="ight";this.stx=C0z;I4W=501705766;q4W=614255499;c4W=2;for(var H4W=1;d4n.J9W(H4W.toString(),H4W.toString().length,"21607" ^ 0) !== I4W;H4W++){s79="w";s79+="e";s79+="igh";s79+="t";this.color=e0z.col;this.panelName=e0z.pnl;this.pattern=e0z.ptrn;this.lineWidth=e0z.lw;this.font=s0A.replaceFields(e0z.fnt,{st:"family",sz:"size",wt:s79,fl:"family"});this.decoration=e0z.decor;this.showLines=e0z.show;d4n.f2d(69);c4W+=d4n.c2d(0,"2");}if(d4n.J9W(c4W.toString(),c4W.toString().length,"80211" | 75793) !== q4W){R79="s";R79+="i";R79+="z";R79+="e";U79="f";U79+="ami";U79+="l";U79+="y";this.color=e0z.col;this.panelName=e0z.pnl;this.pattern=e0z.ptrn;this.lineWidth=e0z.lw;this.font=s0A.replaceFields(e0z.fnt,{st:"size",sz:U79,wt:R79,fl:"family"});this.decoration=e0z.decor;this.showLines=e0z.show;}this.color=e0z.col;this.panelName=e0z.pnl;this.pattern=e0z.ptrn;this.lineWidth=e0z.lw;this.font=s0A.replaceFields(e0z.fnt,{st:"style",sz:"size",wt:K79,fl:"family"});this.decoration=e0z.decor;this.showLines=e0z.show;this.dx=e0z.dx;this.dy=e0z.dy;this.trend=e0z.trend;d4n.r0n();this.annotationPoints=e0z.annotations.split(973.49 != +"6460"?3220 > 336.58?",":(9.18e+3,! !{}):"A");if(e0z.decor === u79){this.calculateRadius(C0z.chart.tempCanvas.context);}this.maxSegments=e0z.mxSeg;this.reconstructPoints(e0z);this.adjust();};s0A.Drawing.elliottwave.prototype.reconstructPoints=function(I0z){var T0z,p0z,H0z;T0z=this.stx.panels[this.panelName];if(!T0z){return;}for(var b0z=0;b0z < this.annotationPoints.length;b0z++){d4n.f2d(2);this[d4n.N2d(b0z,"d")]=I0z[d4n.c2d(b0z,+"893.66" >= 306.75?347 === (3080,4860)?(84.95,! !"1"):5288 != (693.13,890)?"d":"J":(313.69,6.67e+3))];d4n.f2d(2);this[d4n.N2d(b0z,(9250,7010) >= 442?+"7639" >= 570.62?"v":4211 < 6410?870.97:"M":0x7a4)]=I0z[d4n.c2d(b0z,"v")];d4n.f2d(2);this[d4n.N2d(b0z,"tzo")]=I0z[d4n.N2d(b0z,"tzo")];p0z=s0A.strToDateTime(I0z["d" + b0z]);H0z=this.stx.tickFromDate(p0z,T0z.chart);this.points.push([H0z,I0z[(9857 === ("400" ^ 0,95)?(1870,1700) >= (63.9,+"1668")?! !1:0x1171:"v") + b0z]]);}};s0A.Drawing.elliottwave.prototype.calculateRadius=function(n0z){var g0z,s0z;d4n.r0n();this.getFontString();n0z.font=this.fontString;g0z=0;for(var a0z=0;a0z < this.annotationPoints.length;a0z++){s0z=n0z.measureText(this.annotationPoints[a0z]).width;if(g0z < s0z){g0z=s0z;}}this.enclosedRadius=g0z;};s0A.Drawing.elliottwave.prototype.check=function(c0z,k0z,X0z){var P8W,N8W,Q8W,P0z,m0z;P8W=792019573;N8W=338019105;Q8W=2;for(var C8W=1;d4n.J9W(C8W.toString(),C8W.toString().length,38541) !== P8W;C8W++){if(X0z !== 2 || this.points.length == 7){return ![];}d4n.f2d(78);P0z=this.points[d4n.c2d("6",X0z)];d4n.f2d(3);Q8W+=d4n.N2d(1968845920,"2");}if(d4n.J9W(Q8W.toString(),Q8W.toString().length,3437) !== N8W){if(X0z === +"8" && this.points.length === ("4" | 4)){return ! !{};}d4n.f2d(19);P0z=this.points[d4n.N2d(1,X0z)];}if(X0z === 1 && this.points.length === 2){return ! !{};}d4n.f2d(7);P0z=this.points[d4n.N2d(1,X0z)];if(P0z && c0z <= P0z["0" * 1]){return ! !0;}d4n.o2d(97);m0z=this.points[d4n.c2d(X0z,"1",2147483647)];if(m0z && c0z >= m0z[0]){return !1;}if(!R0z(this.points)){return !1;}function R0z(K0z){for(var V0z=2;V0z < K0z.length;V0z++){if(Math.sign(K0z[V0z][1] - K0z[V0z - 1][1]) == Math.sign(K0z[V0z - 1][1] - K0z[V0z - 2][1])){return ! !"";}}d4n.j0n();return ! ![];}return !"";};s0A.Drawing.elliottwave.prototype.move=function(E0z,F0z,d0z){this.copyConfig();d4n.f2d(9);var l8l=d4n.N2d(0,6,5);this.points[this.lastPoint + l8l]=[F0z,d0z];this.render(E0z);};s0A.Drawing.elliottwave.prototype.adjust=function(){var N0z,D0z;N0z=this.stx.panels[this.panelName];if(!N0z){return;}for(var z0z=0;this.maxSegments + 1 > z0z;z0z++){d4n.f2d(2);D0z=this[d4n.c2d(z0z,"d")];this.setPoint(z0z,D0z,this["v" + z0z],N0z.chart);this.points[z0z][0]=this.stx.tickFromDate(s0A.strToDateTime(D0z),N0z.chart);d4n.f2d(2);this.points[z0z][1]=this[d4n.c2d(z0z,"v")];}};s0A.Drawing.elliottwave.prototype.click=function(Z0z,j0z,G0z){var J0z;J0z=this.stx.panels[this.panelName];if(!J0z){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",j0z,G0z,J0z.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=+"0";if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((1530,"6019" & 2147483647) === (7270,431)?(0x1c69,!""):8946 >= 7310?(7249,8100) !== 1646?"0":(126,787.57):(6.86e+3,"e"));if(this.decoration === "enclosed"){this.calculateRadius(Z0z);}this.maxSegments=this.annotationPoints.length - ("1" - 0);this.trend=1;return !1;}if(this.accidentalClick(j0z,G0z)){this.penDown=!"";return ! !0;}if(this.check(j0z,G0z,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,j0z,G0z,J0z.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !{};}}return !1;};s0A.Drawing.elliottwave.prototype.render=function(r0z){var V79,q0z,Y0z,x1z,e1z,C1z,Q0z,i1z,U0z,L0z,A1z,w0z,u0z,y0z,S0z,M0z,f0z,l0z,b1z,I1z,t0z,W0z,O0z,B1z,h1z,T1z,v0z;V79="str";V79+="i";V79+="n";V79+="g";q0z=this.stx.panels[this.panelName];if(!q0z){return;}Y0z=this.stx;x1z=this.annotationPoints;e1z=this.pattern?s0A.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();r0z.font=this.fontString;r0z.textAlign="center";r0z.textBaseline="middle";r0z.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(r0z);}this.lastFontString=this.fontString;C1z=this.getLineColor();r0z.fillStyle=r0z.strokeStyle=C1z;r0z.save();r0z.setLineDash(e1z);Q0z=this.dx;i1z=this.dy;U0z=this.points;L0z=this.pts;A1z=!this.showLines && this.highlighted;w0z=U0z.length;if(this.penDown && this.segment){d4n.f2d(9);var e8l=d4n.c2d(0,13,11);u0z=this.trend * (w0z % e8l - 0.5) < +"0";if(q0z.yAxis.flipped){u0z=!u0z;}this.drawDropZone(r0z,U0z[w0z - ("2" & 2147483647)][1],this.stx.priceFromPixel(q0z.yAxis[u0z?"top":"bottom"]),U0z[w0z - 2][0]);}else if(typeof this.highlighted === V79 && this.stx.repositioningDrawing){y0z=parseInt(this.highlighted.substring(1,this.highlighted.length),10);d4n.f2d(98);var g8l=d4n.N2d(18,23,6,1,2);u0z=this.trend * (y0z % g8l - 0.5) > 0;d4n.f2d(7);S0z=U0z[d4n.N2d(1,y0z)];d4n.f2d(2);M0z=U0z[d4n.c2d(1,y0z)];f0z=y0z > +"0"?S0z[1]:M0z[1];if(M0z){f0z=Math[u0z?"max":"min"](f0z,M0z[1]);}if(q0z.yAxis.flipped){u0z=!u0z;}this.drawDropZone(r0z,f0z,this.stx.priceFromPixel(q0z.yAxis[u0z?"top":"bottom"]),S0z?S0z[0]:null,M0z?M0z[+"0"]:null);}for(var o0z=+"0";o0z < w0z;o0z++){l0z=U0z[o0z];b1z=Y0z.pixelFromTick(l0z[0],q0z.chart);I1z=Y0z.pixelFromValueAdjusted(q0z,l0z[0],l0z[1]);L0z[o0z]=[b1z,I1z];}o0z=0;d4n.j0n();if(this.showLines || A1z){r0z.beginPath();if(A1z){r0z.globalAlpha=0.3;}for(;o0z < L0z.length;o0z++){r0z.lineTo(L0z[o0z][0],L0z[o0z]["1" ^ 0]);}r0z.stroke();o0z=0;}r0z.restore();for(;o0z < w0z;o0z++){t0z=o0z % 2?Q0z:-Q0z;W0z=o0z % 2?i1z:-i1z;t0z*=this.trend;W0z*=this.trend;if(q0z.yAxis.flipped){t0z*=-1;W0z*=-1;}O0z=L0z[o0z];B1z=O0z[2]=O0z[0] + t0z;d4n.o2d(99);var B8l=d4n.N2d(10,1,9);h1z=O0z[3]=O0z[B8l] + W0z;T1z=this.enclosedRadius || 8;v0z=x1z[o0z];if(this.decoration === "parentheses"){d4n.o2d(88);v0z=d4n.c2d((1260,"8930" & 2147483647) > 192.71?"(":(232,"2600" ^ 0) < (5360,596.72)?+"822.67":![],v0z,")");}r0z.fillText(v0z,B1z,h1z);if(this.decoration === "enclosed"){r0z.beginPath();r0z.arc(B1z,h1z,T1z,0,2 * Math.PI,![]);r0z.stroke();}if(this.highlighted){r0z.save();this.littleCircle(r0z,this.pts[o0z][0],this.pts[o0z]["1" ^ 0],this.highlighted === (+"791.83" != (+"4888",5130)?("973.67" - 0,124) !== "392.97" * 1?"p":0x11ee:![]) + o0z);r0z.restore();}}};s0A.Drawing.elliottwave.prototype.reposition=function(R1z,p1z,a1z,s1z){var X1z,P1z,m1z,g1z,n1z,c1z;if(!p1z){return;}X1z=this.stx.panels[this.panelName];P1z=p1z.tick - a1z;d4n.j0n();m1z=p1z.value - s1z;if(p1z.action === "move"){for(var H1z=0;p1z.points.length > H1z;H1z++){g1z=p1z.points[H1z];this.setPoint(H1z,g1z[0] - P1z,g1z["1" ^ 0] - m1z,X1z.chart);d4n.o2d(15);var O8l=d4n.c2d(3647,12,16,0,19);d4n.f2d(7);var Z8l=d4n.c2d(16,17);this.points[H1z]=[g1z["0" * O8l] - P1z,g1z[Z8l] - m1z];}}if(p1z.action === "drag"){n1z=p1z.point;c1z=this.points;c1z[n1z]=[a1z,s1z];if(this.check(a1z,s1z,n1z)){this.setPoint(n1z,a1z,s1z,X1z.chart);;};}this.render(R1z);};s0A.Drawing.elliottwave.prototype.intersected=function(K1z,E1z,F1z){var d1z,V1z;if(!this.p0 || !this.p1){return null;}for(var k1z="0" << 1421929952;this.points.length > k1z;k1z++){V1z=this.points[k1z];if(this.pointIntersection(V1z[0],V1z[+"1"],F1z)){d4n.o2d(2);this.highlighted=d4n.N2d(k1z,"p");return {action:"drag",point:k1z,tick:K1z,value:E1z};}if(this.points[k1z + 1] && this.lineIntersection(K1z,E1z,F1z,"segment",V1z,this.points[k1z + 1])){this.highlighted=!"";d1z={action:"move",points:s0A.clone(this.points),tick:K1z,value:E1z};}}d4n.r0n();return d1z;};s0A.Drawing.elliottwave.prototype.measure=function(){d4n.r0n();var z1z,j1z,D1z,N1z;if(this.points.length >= 2){z1z=this.points;this.stx.setMeasure(z1z[+"0"][1],z1z[z1z.length - 1][1],z1z[0][0],z1z[z1z.length - 1][0],! ![]);j1z=this.stx.controls.mSticky;D1z=j1z && j1z.querySelector(".mStickyInterior");if(D1z){N1z=[];N1z.push(s0A.capitalize("Elliott Wave"));if(this.getYValue){N1z.push(this.field || this.stx.defaultPlotField || "Close");}N1z.push(D1z.innerHTML);D1z.innerHTML=N1z.join("<br>");}}};s0A.Drawing.printProjection=function(U1z,Q1z,G1z){var Z1z,r1z,l1z,L1z,t1z,w1z,W1z,M1z,u1z,S1z,q1z,v1z,f1z,O1z,J1z,Y1z;Z1z=Q1z.arr;d4n.j0n();if(Z1z.length > 1){r1z=Z1z[0][0];l1z=Math.round(U1z.chart.maxTicks * 0.75);for(var o1z=1;o1z < Z1z.length;o1z++){d4n.f2d(7);L1z=Z1z[d4n.c2d(1,o1z)][0];t1z=Z1z[o1z][0];w1z=s0A.strToDateTime(L1z);W1z=s0A.strToDateTime(t1z).getTime();M1z=U1z.standardMarketIterator(w1z);u1z=0;while(w1z.getTime() < W1z){w1z=M1z.next();u1z+=1;}S1z=s0A.strToDateTime(L1z).getTime();if(S1z > s0A.strToDateTime(G1z[G1z.length - 1].Date).getTime()){q1z=G1z.length - ("1" ^ 0);u1z+=1;}else {for(q1z=G1z.length - 1;q1z >= 0;q1z--){if(S1z <= s0A.strToDateTime(G1z[q1z].Date).getTime())break;}}v1z={x0:0,x1:u1z,y0:G1z[q1z].Close,y1:Z1z[o1z][+"1"]};r1z=s0A.strToDateTime(L1z);M1z=U1z.standardMarketIterator(r1z);f1z=! !"";for(var y1z=0;y1z <= u1z;y1z++){if(!f1z){f1z=!"";}else {r1z=M1z.next();}if(r1z.getTime() <= G1z[G1z.length - +"1"].DT.getTime())continue;O1z=s0A.yIntersection(v1z,y1z);if(!O1z){O1z=0;}d4n.o2d(100);var t8l=d4n.c2d(19,5002,2,17,9981);d4n.f2d(101);var M8l=d4n.c2d(90070,9998,10,9);J1z=Math.round(O1z * t8l) / M8l;if(J1z === 0){J1z=Z1z[o1z][1];}Y1z={Date:s0A.yyyymmddhhmmssmmm(r1z),DT:r1z,Open:J1z,Close:J1z,High:J1z,Low:J1z,Volume:0,Adj_Close:J1z,Split_Close:J1z,projection:! !"1"};if(U1z.layout.interval == "minute")if(l1z-- < 0)break;G1z[G1z.length]=Y1z;}}}};}};Y3V=A2z=>{var x79,i2z;x79="un";x79+="d";x79+="e";x79+="fined";i2z=typeof _CIQ !== x79?_CIQ:A2z.CIQ;if(!i2z.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {i2z.formatEquation=function(I2z){var F7n=x288;var x2z,C2z,B2z,e2z,h2z;x2z="";C2z=[];B2z="";e2z=!{};for(var b2z="1" >> 1620724064;b2z < I2z.length;b2z++){h2z=I2z[b2z];if(h2z == (4881 < (4920,133.37)?(643.58,231.59):"[") && !e2z){e2z=! ![];}else if(h2z == (352.24 >= 229.01?"]":420.19) && e2z){e2z=! !0;if(B2z !== ""){C2z.push(B2z);F7n.o2d(88);x2z+=F7n.c2d("[",B2z,(4020,+"7990") == (8659,6380)?(7990,6806) > ("6450" ^ 0,"7380" | 2244)?(556.63,160.26):(539.97,"0x2170" >> 757029696):"]");}B2z="";}else if(e2z){B2z+=h2z;}else if(h2z == "+" || h2z == (8970 === 865.88?("2596" - 0,+"8660") != "6992" - 0?5.47e+3:"5.26e+3" ^ 0:"-") || h2z == (5091 !== (4941,4860)?2920 === (+"5370",450.79)?(260.11,2193) >= (780,7923)?(752.79,0x13bb):396.48:"*":("P","t")) || h2z == "/" || h2z == ((402.4,3184) > 9390?8.72e+3:(443.23,6950) !== 968.4?":":128.37) || h2z == (6840 <= ("367" - 0,394)?0xb02:281 > 3398?(0x6bd,6.37e+3):"%") || h2z == "(" || h2z == ((656,3396) == ("2110" << 1229344544,975)?(8083,359.66) < 333?374.33:(258.38,7280) != (5634,5885)?(! !{},424.14):(1.90e+3,! !{}):")")){if(B2z !== "" && isNaN(B2z)){C2z.push(B2z);F7n.f2d(88);x2z+=F7n.c2d("4300" << 2041564192 >= 353.84?"[":(!{},"G"),B2z,4089 !== 5810?"]":(388.10,"0xe04" & 2147483647));}else {x2z+=B2z;}if(h2z == (860 >= 2676?0x1f68:":")){h2z="/";}x2z+=h2z;B2z="";}else if(h2z != (3342 > (20.3,3076)?" ":0x136c)){B2z+=h2z;}}if(B2z !== "" && isNaN(B2z)){C2z.push(B2z);F7n.f2d(88);x2z+=F7n.c2d("[",B2z,4230 < 1078?(! ![],+"300.40"):+"6782" == 3263?(![],8.17e+3):"]");}else {x2z+=B2z;}return {equation:x2z,symbols:C2z};};i2z.fetchEquationChart=function(T2z,X2z){var g2z,a2z,s2z,n2z,H2z;g2z=i2z.formatEquation(T2z.symbol);a2z=g2z.symbols;s2z=[];n2z=T2z.stx;T2z.stx=null;for(var p2z=+"0";p2z < a2z.length;p2z++){H2z=i2z.shallowClone(T2z);H2z.stx=n2z;H2z.symbol=a2z[p2z];H2z.symbolObject={symbol:a2z[p2z]};s2z.push(H2z);}T2z.stx=n2z;x288.j0n();n2z.quoteDriver.multiFetch(s2z,function(K2z){var k2z,P2z,m2z,c2z,E2z;k2z={};T2z.loadMoreReplace=! !"1";P2z={charge:0};for(var R2z=0;R2z < K2z.length;R2z++){m2z=K2z[R2z];if(m2z.dataCallback.error){X2z({error:m2z.dataCallback.error});return;}k2z[m2z.params.symbol]=m2z.dataCallback.quotes;T2z.loadMoreReplace=T2z.loadMoreReplace && m2z.params.loadMoreReplace;T2z.moreToLoad=T2z.moreToLoad || m2z.dataCallback.moreAvailable;c2z=m2z.dataCallback.attribution;if(c2z){if(c2z.charge){P2z.charge+=c2z.charge;}P2z.source=c2z.source;if(P2z.exchange === undefined){P2z.exchange=c2z.exchange;}else if(P2z.exchange != c2z.exchange){P2z.exchange="";};}}if(s2z.length || !(T2z.loadMore || T2z.update)){try{E2z=i2z.computeEquationChart(g2z.equation,k2z);X2z({quotes:E2z,moreAvailable:T2z.moreToLoad,attribution:P2z});}catch(F2z){var p79,V2z;p79="Invalid equation";p79+=": ";V2z={error:p79 + g2z.equation};if(F2z.name && F2z.name == "NoException"){V2z.suppressAlert=! !{};}X2z(V2z);}}});};}};Q3V=z2z=>{var w79,d2z,W79;w79="undef";w79+="ine";w79+="d";d2z=typeof _CIQ !== w79?_CIQ:z2z.CIQ;if(!d2z.Marker){W79="high";W79+="PerformanceMarkers feature requires first activating markers feature.";console.error(W79);}else if(!d2z.Marker.Performance){d2z.ChartEngine.prototype.removeDOMMarker=function(N2z){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");x288.r0n();d2z.Marker.Performance.prototype.removeDOMMarker.call(N2z.params.node,N2z);};d2z.ChartEngine.prototype.drawMarkers=function(){var I79;I79="CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future rel";I79+="ease\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(I79);d2z.Marker.Performance.drawMarkers(this);};d2z.ChartEngine.prototype.calculateMarkerStyles=function(D2z,j2z){x288.r0n();console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");d2z.Marker.Performance.calculateMarkerStyles(this,D2z,j2z);};d2z.ChartEngine.prototype.drawCircleMarker=function(G2z,J2z,Z2z){x288.j0n();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");d2z.Marker.Performance.drawCircleMarker(G2z,J2z,Z2z);};d2z.ChartEngine.prototype.drawSquareMarker=function(r2z,o2z,q2z){x288.r0n();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");d2z.Marker.Performance.drawSquareMarker(r2z,o2z,q2z);};d2z.ChartEngine.prototype.drawCalloutMarker=function(u2z,U2z,L2z){x288.r0n();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");d2z.Marker.Performance.drawCalloutMarker(u2z,U2z,L2z);};d2z.ChartEngine.prototype.drawMarkerStem=function(w2z,M2z,y2z){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");d2z.Marker.Performance.drawMarkerStem(w2z,M2z,y2z);};d2z.ChartEngine.prototype.positionDOMMarkers=function(){x288.r0n();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");d2z.Marker.Performance.drawMarkers(this);};d2z.Marker.Performance=function(f2z){var S79,H79,Y79,c79,q79,S2z,O2z,t2z,v2z,l2z,W2z,Y2z,Q2z;S79="callou";S79+="t";H79=".stx-v";H79+="i";H79+="su";H79+="al";Y79="<";Y79+="/";Y79+="div>";c79="<";c79+="/d";c79+="i";c79+="v>";q79="TEMP";q79+="L";q79+="ATE";this.params={displayCategory:! !{},displayStem:!"",invert:!{},story:"",headline:""};d2z.extend(this.params,f2z);S2z=this.template=document.createElement(q79);x288.o2d(102);S2z.innerHTML=x288.c2d('<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',Y79,'<div class="stx-visual">','<div class="stx-marker highlight">','<div class="stx-stem"></div>',c79,"</div>",'<div class="stx-marker-content">');O2z=this.template.content.cloneNode(!0);t2z=O2z.querySelector(".stx-marker",S2z);t2z.classList.add(f2z.type);t2z.classList.add(f2z.category);v2z=O2z.querySelector(H79,S2z);l2z=O2z.querySelector(".stx-marker-expand");W2z=O2z.querySelector("h4",S2z);Y2z=O2z.querySelector((41.03,9730) <= (6450,9793)?"p":4129 >= (5046,9730)?0xf87:"C",S2z);W2z.innerText=this.params.headline;Y2z.innerText=this.params.story;this.hasText=! !f2z.headline || ! !f2z.story;this.deferAttach=! !{};this.node=O2z.firstChild;this.node.params=this.params;this.visual=v2z;this.expand=l2z;if(f2z.type === S79){Q2z=l2z.removeChild(W2z);O2z.querySelector(".stx-marker-content",S2z).insertBefore(Q2z,l2z);}};d2z.inheritsFrom(d2z.Marker.Performance,d2z.Marker.NodeCreator,!1);d2z.Marker.Performance.consolidateExpanded=function(C3z){var Y1n=x288;var i3z,A3z,x3z,h59,h3z,e3z;i3z=C3z.markerHelper.highlighted;if(!i3z.length){return;}Y1n.f2d(36);var n8l=Y1n.N2d(20,7,139);A3z=i3z[i3z.length - n8l];x3z=A3z.params.node;if(!A3z.consolidated){A3z.consolidated=[];}function b3z(H3z){var T3z,I3z,j4W,h4W,z4W,k79,p3z,j59;T3z=H3z.params.node;I3z=T3z.expand;if(!I3z){return "";}j4W=-76480048;h4W=1306478586;z4W=+"2";for(var P4W=1;Y1n.a9W(P4W.toString(),P4W.toString().length,"79246" | 71048) !== j4W;P4W++){k79="no";k79+="n";k79+="e";p3z=I3z.style.display === k79?I3z.innerHTML:"none";return p3z;}if(Y1n.a9W(z4W.toString(),z4W.toString().length,41530) !== h4W){j59="non";j59+="e";p3z=I3z.style.display !== j59?I3z.innerHTML:"";return p3z;}}for(var B3z=i3z.length - 2;B3z >= +"0";B3z--){h59="<consoli";h59+="dated>";h3z=b3z(i3z[B3z]);Y1n.f2d(88);e3z=Y1n.N2d(h59,h3z,"</consolidated>");if(h3z.length){x3z.expand.innerHTML+=e3z;}}A3z.stxNodeCreator.quickCache(A3z);};d2z.Marker.Performance.reconstituteExpanded=function(n3z){var g3z,X3z,P3z,s3z;g3z=n3z.markerHelper.highlighted;if(!g3z.length || !n3z.activeMarker){return;}g3z=[n3z.activeMarker];x288.r0n();for(var a3z=g3z.length - 1;a3z >= 0;a3z--){X3z=g3z[a3z];P3z=X3z.params.node;s3z=P3z.expand;while(s3z.lastElementChild.nodeName === "CONSOLIDATED"){s3z.removeChild(s3z.lastElementChild);}}};d2z.Marker.Performance.drawMarkers=function(K3z){x288.r0n();var z59,V3z,m3z,R3z,k3z,E3z,F3z;z59="a";z59+="ll";V3z=K3z.getMarkerArray(z59);m3z=K3z.chart;for(var c3z=0;c3z < V3z.length;c3z++){R3z=V3z[c3z];k3z=R3z.stxNodeCreator;E3z=m3z.dataSegment[+"0"].tick;F3z=m3z.dataSegment[m3z.dataSegment.length - 1].tick;if(E3z <= R3z.tick <= F3z){if(k3z && k3z.drawMarker){k3z.drawMarker(R3z);}}}};d2z.Marker.Performance.calculateMarkerStyles=function(z3z,N3z,G3z){var d3z,A59,D3z,P59,j3z;x288.r0n();d3z=document.querySelector(".stx-marker-templates");if(!d3z){A59="-100";A59+="0";A59+="p";A59+="x";d3z=document.createElement("DIV");d3z.style.visibility="hidden";d3z.style.left=A59;document.body.append(d3z);}d3z.appendChild(N3z.node);D3z=getComputedStyle(N3z.stxNodeCreator.visual);if(!z3z.styles.stx_marker_stem){P59=".st";P59+="x-stem";j3z=getComputedStyle(document.querySelector(P59,N3z.node));z3z.styles.stx_marker_stem=z3z.cloneStyle(j3z);}z3z.styles[G3z]=z3z.cloneStyle(D3z);d3z.removeChild(N3z.node);};d2z.Marker.Performance.drawCircleMarker=function(q3z,y3z,Z3z){var w3z,M3z,J3z,r3z,o3z,u3z,U3z,L3z,N59,r59;w3z=q3z.params.stx;x288.j0n();M3z=w3z.chart;J3z=M3z.context;r3z=Z3z.x;o3z=Z3z.y;u3z=Z3z.radius;U3z=Z3z.label;L3z=Z3z.color?Z3z.color:y3z.backgroundColor;J3z.beginPath();J3z.setLineDash([]);J3z.lineWidth=1;J3z.fillStyle=L3z;J3z.strokeStyle=L3z;J3z.font="normal bold 12px Roboto, Helvetica, sans-serif";J3z.arc(r3z,o3z,u3z,0,2 * Math.PI,! !0);J3z.fill();J3z.stroke();J3z.closePath();if(U3z){N59="w";N59+="hi";N59+="t";N59+="e";r59="whi";r59+="te";J3z.fillStyle=d2z.colorsEqual(r59,J3z.fillStyle)?"black":N59;J3z.fillText(U3z.charAt(0).toUpperCase(),r3z - 4,o3z + 1);}if(q3z.highlight || q3z.active){J3z.beginPath();x288.o2d(103);J3z.arc(r3z,o3z,x288.c2d("4",0,u3z),0,2 * Math.PI,![]);J3z.stroke();J3z.closePath();}};d2z.Marker.Performance.drawSquareMarker=function(v3z,B7z,S3z){var Q1n=x288;var d59,i7z,A7z,O3z,t3z,W3z,f3z,Y3z,Q3z,l3z,T59;d59="normal bold 12px Ro";d59+="boto,";d59+=" Helvetica, sans-serif";i7z=v3z.params.stx;A7z=i7z.chart;O3z=A7z.context;t3z=S3z.x;W3z=S3z.y;f3z=S3z.half;Y3z=S3z.label;Q3z=S3z.color?S3z.color:B7z.backgroundColor;Q1n.o2d(19);l3z=Q1n.N2d(2,f3z);O3z.beginPath();O3z.setLineDash([]);O3z.lineWidth=1;O3z.fillStyle=Q3z;O3z.strokeStyle=Q3z;O3z.font=d59;Q1n.r0n();Q1n.o2d(7);O3z.rect(Q1n.N2d(f3z,t3z),Q1n.N2d(f3z,W3z),l3z,l3z);O3z.fill();if(v3z.highlight || v3z.active){Q1n.o2d(0);O3z.rect(Q1n.c2d(t3z,f3z,4),Q1n.c2d(W3z,f3z,4,Q1n.f2d(0)),Q1n.c2d(8,l3z,Q1n.o2d(2)),Q1n.N2d(8,l3z,Q1n.f2d(2)));}O3z.stroke();O3z.closePath();if(Y3z){T59="whi";T59+="te";O3z.fillStyle=d2z.colorsEqual(T59,O3z.fillStyle)?"black":"white";O3z.fillText(Y3z.charAt(0).toUpperCase(),t3z - +"4",W3z + +"1");}};d2z.Marker.Performance.drawCalloutMarker=function(C7z,m7z,x7z){var n7z,X7z,h7z,e7z,c7z,I7z,T7z,p7z,H7z,g7z,P7z,b7z,a7z,s7z;n7z=C7z.params.stx;X7z=n7z.chart;h7z=X7z.context;e7z=C7z.params;c7z=x7z.x;I7z=x7z.y;T7z=x7z.half;p7z=x7z.midWidth;H7z=x7z.headline;g7z=x7z.color?x7z.color:m7z.backgroundColor;P7z=T7z * 2 || 25;b7z=Math.round(h7z.measureText(H7z).width);a7z=p7z?p7z * 2:b7z + 8;h7z.beginPath();h7z.setLineDash([]);h7z.lineWidth=1;h7z.fillStyle=g7z;h7z.strokeStyle=g7z;h7z.font="normal bold 12px Roboto, Helvetica, sans-serif";h7z.rect(e7z.box.x0,e7z.box.y0,a7z,P7z);h7z.fill();h7z.stroke();h7z.closePath();h7z.beginPath();h7z.fillStyle=C7z.highlight || C7z.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";x288.r0n();x288.o2d(104);s7z=x288.N2d(a7z,b7z,2,20);h7z.rect(e7z.box.x0 + s7z,I7z - T7z,b7z + 40,22);h7z.fill();h7z.stroke();h7z.closePath();h7z.fillStyle="black";h7z.fillText(H7z,e7z.box.x0 + s7z + 10,I7z);};d2z.Marker.Performance.drawMarkerStem=function(k7z,F7z,V7z){var d7z,z7z,R7z,K7z,j7z,E7z,N7z,D7z;d7z=k7z.params.stx;z7z=d7z.chart;R7z=z7z.context;K7z=V7z.x;j7z=V7z.y;R7z.beginPath();R7z.strokeStyle=F7z.borderLeftColor;x288.o2d(3);R7z.setLineDash([x288.c2d(133730112,"1"),1]);E7z=d2z.stripPX(F7z.height);N7z=V7z.invert?k7z.params.box.y0:k7z.params.box.y1;D7z=V7z.invert?k7z.params.box.y0 - E7z:k7z.params.box.y1 + E7z;R7z.moveTo(K7z,N7z);R7z.lineTo(K7z,D7z);R7z.stroke();R7z.closePath();};d2z.Marker.Performance.prototype.drawMarker=function(G7z){var o1n=x288;var i59,y7z,Z7z,v7z,Y7z,l7z,r7z,U7z,L7z,Q7z,t7z,O7z,W7z,S7z,o7z,f7z,J7z,w7z,M7z,i5z,A5z,q7z,u7z;i59="sq";i59+="u";i59+="a";i59+="re";y7z=G7z.params;Z7z=G7z.params.stx;o1n.r0n();if(!Z7z){return;}v7z=Z7z.chart;Y7z=v7z.dataSegment;if(!Y7z.length){return;}l7z=Z7z.panels[G7z.params.panelName];r7z=G7z.stxNodeCreator.params;U7z=r7z.type;L7z=r7z.category;Q7z=r7z.headline;t7z=r7z.displayCategory;O7z=r7z.color;W7z=r7z.invert;o1n.o2d(105);S7z=o1n.c2d("stx_marker_",L7z,"_",U7z);if(!Z7z.styles[S7z]){d2z.Marker.Performance.calculateMarkerStyles(Z7z,G7z,S7z);}o7z=G7z.style=Z7z.styles[S7z];f7z=Z7z.styles.stx_marker_stem;o1n.o2d(82);var G8l=o1n.N2d(5,8,16,20);J7z=parseInt(o7z.height,"10" * G8l) / +"2";o1n.o2d(68);var b8l=o1n.N2d(9,5,5);o1n.f2d(9);var F8l=o1n.N2d(0,10,8);w7z=parseInt(o7z.width,b8l) / F8l;M7z=r7z.displayStem?parseInt(f7z.height,10) + parseInt(f7z.marginBottom,10):0;o1n.o2d(106);var L8l=o1n.N2d(7,6,28,14);i5z=M7z + parseInt(o7z.height,L8l);A5z=M7z?M7z + J7z:"0" - 0;q7z=Z7z.pixelFromDate(y7z.x);u7z=y7z.node.calculateYPosition({marker:G7z,panel:l7z,height:i5z,half:J7z,offset:A5z,inverted:W7z});if(!G7z.tick && G7z.tick !== 0){return;}y7z.box={x0:q7z - (w7z || J7z),y0:u7z - J7z,x1:q7z + (w7z || J7z),y1:u7z + J7z,midY:J7z,midX:w7z || J7z,stemHeight:M7z};if(!t7z){L7z=t7z;}Z7z.startClip(l7z.name);if(U7z === "circle"){d2z.Marker.Performance.drawCircleMarker(G7z,o7z,{x:q7z,y:u7z,radius:J7z,label:L7z,color:O7z});}else if(U7z === i59){d2z.Marker.Performance.drawSquareMarker(G7z,o7z,{x:q7z,y:u7z,half:J7z,label:L7z,color:O7z});}else if(U7z === "callout"){d2z.Marker.Performance.drawCalloutMarker(G7z,o7z,{x:q7z,y:u7z,half:J7z,midWidth:w7z,headline:Q7z,color:O7z});}else {o1n.o2d(88);console.warn(o1n.c2d("Marker type: ",U7z," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}if(r7z.displayStem){d2z.Marker.Performance.drawMarkerStem(G7z,f7z,{x:q7z,y:u7z,invert:W7z});}Z7z.endClip();if(G7z.attached){this.positionPopUpNode(G7z);}};d2z.Marker.Performance.prototype.positionPopUpNode=function(h5z){var t1n=x288;var Q59,T5z,e5z,B5z,p5z,b5z,x5z,H5z,X5z,P5z,m5z,c5z,g5z,C5z,n5z,a5z,I5z,s5z,R5z;Q59="hi";Q59+="dd";Q59+="e";Q59+="n";if(!h5z.attached || !h5z.params.box){return;}T5z=h5z.params;e5z=T5z.stx;B5z=T5z.box;t1n.j0n();p5z=h5z.params.node.expand;b5z=e5z.chart.dataSet;x5z=e5z.chart.dataSegment;if(h5z.tick){X5z=[b5z[x5z[0] && x5z["0" >> 1763730912].tick - 1],b5z[x5z[0] && x5z[0].tick - +"2"]];P5z=e5z.getFirstLastDataRecord(X5z.concat(x5z),"Date");t1n.o2d(107);var D8l=t1n.N2d(16,2,13,10,0);t1n.o2d(101);var a8l=t1n.c2d(344,3,15,20);t1n.f2d(108);var J8l=t1n.c2d(22,0,7,5,15);m5z=[b5z[x5z[x5z.length - D8l].tick + a8l],b5z[x5z[x5z.length - +"1"].tick + J8l]];c5z=e5z.getFirstLastDataRecord(x5z.concat(m5z),"Date",! !{});H5z=P5z.DT <= b5z[h5z.tick].DT && b5z[h5z.tick].DT <= c5z.DT;}else {H5z=![];}if(!h5z.highlight && !h5z.active){H5z=![];}p5z.style.visibility=H5z?"":Q59;if(!H5z){return;}g5z=e5z.panels[T5z.panelName];C5z=p5z.rects;t1n.f2d(109);var o8l=t1n.N2d(5,30,16,94);n5z=C5z.height / o8l;I5z=h5z.node.params.infoOffset || 0;if(h5z.node.params.infoOnLeft){a5z=B5z.x0 - C5z.width - I5z < g5z.left?B5z.x1 + I5z:B5z.x0 - C5z.width - I5z;}else {a5z=B5z.x0 + C5z.width > g5z.right?B5z.x0 - C5z.width - I5z:B5z.x1 + I5z;}a5z-=e5z.chart.left;s5z=B5z.y0 - n5z >= g5z.top?B5z.y0 + B5z.midY - n5z:B5z.y0;if(!T5z.avoidFlush && B5z.y1 + B5z.stemHeight === g5z.yAxis.bottom && C5z.height > B5z.y1 - B5z.y0 + B5z.stemHeight){s5z=B5z.y1 - C5z.height + B5z.stemHeight;}s5z-=e5z.chart.panel.top;R5z="translateX(" + Math.floor(a5z) + "px) translateY(" + Math.floor(s5z) + "px) translateZ(0)";p5z.style.transform=R5z;p5z.transform={translateX:a5z,translateY:s5z};};d2z.Marker.Performance.prototype.quickCache=function(K5z){var E5z,k5z,V5z,F5z;E5z=K5z.params.node;k5z=E5z.expand;x288.r0n();V5z=K5z.style;F5z=d2z.stripPX(V5z.marginLeft) + d2z.stripPX(V5z.marginRight) + d2z.stripPX(V5z.borderRight) + d2z.stripPX(V5z.borderLeft);k5z.rects=k5z.getBoundingClientRect();k5z.scrollBarWidth=k5z.rects.width - k5z.clientWidth - F5z;};d2z.Marker.Performance.prototype.calculateYPosition=function(J5z){var y59,m59,E59,C59,X59,G5z,z5z,o5z,Z5z,j5z,q5z,N5z,u5z,U5z,D5z,r5z,L5z,d5z,w5z,M5z;y59="t";y59+="o";y59+="p";m59="on";m59+="_ca";m59+="ndle";E59="below_";E59+="cand";E59+="le";C59="above_c";C59+="andl";C59+="e";X59="va";X59+="lue";G5z=J5z.marker;z5z=J5z.panel;o5z=J5z.height;Z5z=J5z.half;j5z=J5z.offset;q5z=J5z.inverted;N5z=G5z.params.stx;u5z=N5z.chart;U5z=N5z.chart.highLowBars;D5z=u5z.dataSet[G5z.tick];if(!D5z){return;}r5z=U5z?D5z.High:D5z.Close;L5z=G5z.params.yPositioner;switch(L5z){case X59:if(G5z.params.y || G5z.params.y === 0){d5z=N5z.pixelFromPrice(G5z.params.y,z5z) - o5z * 0.5 + Z5z;}else {d5z=N5z.pixelFromPrice(r5z,z5z) - j5z;}break;case C59:d5z=N5z.pixelFromPrice(r5z,z5z) - j5z;break;case E59:d5z=N5z.pixelFromPrice(D5z.Low || r5z,z5z);if(q5z && j5z){d5z+=j5z;}else {d5z+=Z5z;}break;case m59:(w5z=D5z.High || D5z.Close,M5z=D5z.Low || D5z.Low === 0 || D5z.Close);x288.o2d(5);var v8l=x288.N2d(9,0,11);d5z=N5z.pixelFromPrice((w5z + M5z) / v8l,z5z) - o5z * 0.5 + Z5z;break;case y59:d5z=N5z.pixelFromPrice(z5z.yAxis.high,z5z);if(q5z && j5z){d5z+=j5z;}else {d5z+=Z5z;}break;case "bottom":d5z=N5z.pixelFromPrice(z5z.yAxis.low,z5z) - (j5z || Z5z);break;default:break;}return d5z;};d2z.Marker.Performance.prototype.prepareForHolder=function(O5z){var y5z,S5z;y5z=this.expand;S5z=O5z.params.stx;x288.j0n();y5z.classList.add(this.params.type);S5z.markerHelper.domMarkers.push(O5z);return y5z;};d2z.Marker.Performance.prototype.addToHolder=function(t5z){var l5z,f5z;l5z=this.expand;f5z=t5z.params.stx;d2z.Marker.Performance.reconstituteExpanded(f5z);d2z.Marker.Performance.consolidateExpanded(f5z);x288.j0n();function W5z(v5z){f5z.activeMarker=t5z;x288.r0n();f5z.activeMarker.click({cx:v5z.clientX,cy:v5z.clientY,panel:f5z.currentPanel});v5z.stopPropagation();}this.quickCache(t5z);if(l5z.clickClosure){return;}l5z.addEventListener("mousedown",W5z);l5z.addEventListener("touchstart",W5z,{passive:!{}});l5z.clickClosure=W5z;};d2z.Marker.Performance.prototype.remove=function(Q5z){var Y5z,A6z,B6z,i6z;Y5z=Q5z.params.stx;if(!Y5z){return;}if(!Y5z.markerHelper.domMarkers){return;}A6z=Y5z.markerHelper.domMarkers.indexOf(Q5z);if(A6z != -1){Y5z.markerHelper.domMarkers.splice(A6z,1);}if(Q5z.attached){B6z=Y5z.panels[Q5z.params.panelName];i6z=Q5z.params.node.expand;if(i6z.parentNode === B6z.subholder){B6z.subholder.removeChild(i6z);}i6z.removeEventListener("click",i6z.clickClosure);}};d2z.Marker.Performance.prototype.click=function(b6z){var e6z,I6z,x6z;if(!this.hasText){return;}if(typeof arguments[0] === "number"){b6z={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[+"3"]};}var {cx:C6z, cy:T6z, marker:h6z, panel:p6z}=b6z;e6z=h6z.params.stx;if(h6z.attached){x6z=this.expand;if(x6z.rects.width - x6z.scrollBarWidth + x6z.transform.translateX < e6z.backOutX(C6z) && e6z.backOutX(C6z) < x6z.rects.width + x6z.transform.translateX){return;}this.remove(h6z);}else {e6z.addToHolder(h6z);I6z=! !"1";}h6z.attached=!h6z.attached;h6z.active=!h6z.active;if(I6z){h6z.stxNodeCreator.positionPopUpNode(h6z);}};}};i7V=g6z=>{var H6z;H6z=typeof _CIQ !== "undefined"?_CIQ:g6z.CIQ;H6z.Renderer.OHLC.requestNew=function(V6z,a6z){var s6z,X6z,P6z,m6z,c6z,R6z,g59,e59,l59,k6z,B59;s6z=null;X6z=a6z.hlc;P6z=a6z.colored;m6z=a6z.hollow;c6z=a6z.volume;R6z=a6z.histogram;for(var n6z=0;n6z < V6z.length;n6z++){g59="h";g59+="ol";g59+="lo";g59+="w";e59="vol";e59+="u";e59+="me";l59="c";l59+="an";l59+="dle";k6z=V6z[n6z];switch(k6z){case "bar":case l59:s6z=k6z;break;case e59:c6z=! !{};break;case g59:m6z=! ![];break;case "colored":P6z=!0;break;case "histogram":R6z=! !{};s6z="candle";break;case "hlc":B59="b";B59+="ar";X6z=! ![];s6z=B59;break;default:return null;}}if(s6z === null){return null;}return new H6z.Renderer.OHLC({params:H6z.extend(a6z,{type:s6z,hlc:X6z,colored:P6z,hollow:m6z,volume:c6z,histogram:R6z})});};H6z.Renderer.OHLC.getChartParts=function(j6z,D6z){var Y59,c59,q59,I59,W59,w59,p59,x59,V59,u59,K59,R59,U59,s59,f59,v59,o59,J59,a59,D59,L59,F59,b59,G59,n59,M59,t59,Z59,O59,F6z,d6z,z6z,K6z,E6z,N6z;Y59="border";Y59+="_color";Y59+="_eve";Y59+="n";c59="ho";c59+="llo";c59+="w";q59="fill_c";x288.j0n();q59+="olor_up";I59="stx_ho";I59+="llo";I59+="w_candle_up";W59="border_";W59+="color_even";w59="stx_hollow_";w59+="candle_dow";w59+="n";p59="c";p59+="andl";p59+="e";x59="c";x59+="andl";x59+="e";V59="s";V59+="hadow";u59="h";u59+="oll";u59+="ow";K59="s";K59+="had";K59+="ow";R59="can";R59+="dl";R59+="e";U59="fill";U59+="_color_up";s59="bo";s59+="rder";s59+="_col";s59+="or_even";f59="stx_candle_shado";f59+="w_even";v59="border_colo";v59+="r_down";o59="c";o59+="a";o59+="ndle";J59="s";J59+="h";J59+="ad";J59+="ow";a59="b";a59+="a";a59+="r";D59="b";D59+="ar";L59="b";L59+="a";L59+="r";F59="ba";F59+="r";b59="b";b59+="order_c";b59+="olor_even";G59="his";G59+="to";G59+="gram";n59="stx_hi";n59+="sto";n59+="gram_do";n59+="wn";M59="hi";M59+="st";M59+="ogram";t59="border_color_u";t59+="p";Z59="f";Z59+="ill_col";Z59+="or_up";O59="h";O59+="istog";O59+="ram";F6z=1;d6z=2;z6z=4;K6z=8;E6z=16;N6z=32;return [{type:"histogram",drawType:O59,style:"stx_histogram_up",condition:K6z,fill:Z59,border:t59,useColorInMap:!0,useBorderStyleProp:!""},{type:"histogram",drawType:M59,style:n59,condition:E6z,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:G59,drawType:"histogram",style:"stx_histogram_even",condition:N6z,fill:"fill_color_even",border:b59,skipIfPass:! !"1",useColorInMap:! !"1",useBorderStyleProp:! !1},{type:F59,drawType:L59,style:j6z || "stx_bar_chart",border:"border_color",useColorInMap:! !1},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:D6z?K6z:F6z,border:"border_color_up",useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:D6z?E6z:d6z,border:"border_color_down",useColorInMap:!""},{type:D59,drawType:a59,style:"stx_bar_even",condition:D6z?N6z:z6z,border:"border_color_even",skipIfPass:! !"1",useColorInMap:! ![]},{type:"candle",drawType:J59,style:"stx_candle_shadow",border:"border_color_up"},{type:o59,drawType:"shadow",style:"stx_candle_shadow_up",condition:K6z,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:E6z,border:v59},{type:"candle",drawType:"shadow",style:f59,condition:N6z,border:s59,skipIfPass:! ![]},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:K6z,fill:U59,border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:!0},{type:"candle",drawType:R59,style:"stx_candle_down",condition:E6z,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1",useBorderStyleProp:! !{}},{type:"hollow",drawType:K59,style:"stx_hollow_candle_up",condition:F6z,border:"border_color_up"},{type:u59,drawType:"shadow",style:"stx_hollow_candle_down",condition:d6z,border:"border_color_down"},{type:"hollow",drawType:V59,style:"stx_hollow_candle_even",condition:z6z,border:"border_color_even",skipIfPass:! !1},{type:"hollow",drawType:x59,style:"stx_hollow_candle_up",condition:F6z | E6z,fill:"fill_color_up",border:"border_color_up",useColorInMap:! ![]},{type:"hollow",drawType:p59,style:w59,condition:d6z | E6z,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:z6z | E6z,fill:"fill_color_even",border:W59,skipIfPass:! !1,useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:I59,condition:F6z | K6z,fill:q59,border:"border_color_up"},{type:c59,drawType:"candle",style:"stx_hollow_candle_down",condition:d6z | K6z,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:z6z | K6z,fill:"fill_color_even",border:Y59}];;};H6z.Renderer.Bars=function(J6z){var G6z;this.construct(J6z);G6z=this.params;G6z.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};G6z.hlc=G6z.volume=G6z.hollow=G6z.histogram=!1;};H6z.inheritsFrom(H6z.Renderer.Bars,H6z.Renderer.OHLC,! !"");H6z.Renderer.HLC=function(r6z){var H59,Z6z;x288.r0n();H59="b";H59+="a";H59+="r";this.construct(r6z);Z6z=this.params;Z6z.type=H59;Z6z.hlc=!0;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};Z6z.volume=Z6z.hollow=Z6z.histogram=![];};H6z.inheritsFrom(H6z.Renderer.HLC,H6z.Renderer.Bars,![]);H6z.Renderer.Shading=function(o6z){this.construct(o6z);this.beenSetup=!"1";this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];x288.j0n();if(this.params.type == "rangechannel"){this.highLowBars=!"";}};H6z.inheritsFrom(H6z.Renderer.Shading,H6z.Renderer.Lines,!{});H6z.Renderer.Shading.requestNew=function(w6z,M6z){var q6z,U6z,L6z;q6z=null;U6z=null;for(var u6z=0;u6z < w6z.length;u6z++){L6z=w6z[u6z];if(L6z == "rangechannel"){q6z="rangechannel";}else if(L6z == "step"){U6z=! !"1";}}if(q6z === null){return null;}return new H6z.Renderer.Shading({params:H6z.extend(M6z,{type:q6z,step:U6z})});};H6z.Renderer.Shading.prototype.setShading=function(y6z){if(y6z.constructor != Array){y6z=[y6z];}this.shading=y6z;};H6z.Renderer.Shading.prototype.draw=function(){var S59,l6z,O6z,t6z,k59,e4z,v6z,C4z,i4z,b4z,W6z,f6z,A4z,B4z,I4z,j99,S6z,Q6z,h4z,x4z,Y6z;S59="rangech";S59+="annel";l6z=this.stx;O6z=this.params;t6z=l6z.panels[O6z.panel].chart;if(O6z.type == S59){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {k59="Sha";k59+="d";k59+="i";k59+="ng";this.beenSetup=! !{};O6z.display=this.seriesParams[0].display;O6z.yAxis=this.seriesParams[+"0"].yAxis;e4z=this.seriesParams[0].color || "auto";v6z=this.seriesParams[0].symbol;C4z="";if(v6z){x288.o2d(2);C4z=x288.N2d(("55.41" * 1,922.79) != ("153" & 2147483647,5210)?".":9490 !== (7876,6370)?(7.80e+3,! !0):0x26ad,v6z);}this.removeAllSeries(! !{});i4z=O6z.name;l6z.addSeries(null,{symbol:v6z,loadData:! !v6z,field:"High",renderer:k59,name:i4z,style:"stx_line_up",display:O6z.display,shareYAxis:! !"1"});l6z.addSeries(null,{symbol:v6z,loadData:! !v6z,field:"Low",renderer:"Shading",name:i4z,style:"stx_line_down",display:O6z.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:e4z});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");b4z=this;this.errTimeout=setTimeout(function(){x288.r0n();b4z.errTimeout=null;},10000);}}W6z={};for(f6z=0;f6z < this.seriesParams.length;f6z++){A4z={};if(t6z.series[this.seriesParams[f6z].id]){A4z=H6z.clone(t6z.series[this.seriesParams[f6z].id].parameters);}W6z[this.seriesParams[f6z].id]={parameters:H6z.extend(H6z.extend(A4z,O6z),this.seriesParams[f6z]),yValueCache:this.caches[this.seriesParams[f6z].id]};}function T4z(g4z){var p4z,a4z,H4z;p4z=W6z[g4z];if(p4z){a4z=p4z.parameters.field;H4z=p4z.parameters.subField;x288.f2d(2);return x288.N2d(H4z?(+"7240" > "8490" << 1895612128?1389 >= 3427?(0x15e2,866.73):("955" ^ 0) >= (721.18,630)?955.83:0x383:".") + H4z:"",a4z);}return g4z;}l6z.drawSeries(t6z,W6z,O6z.yAxis,this);if(t6z.legend && O6z.type == "rangechannel"){if(!t6z.legend.colorMap){t6z.legend.colorMap={};}B4z=O6z.display;I4z=[l6z.getCanvasColor("stx_line_up"),l6z.getCanvasColor("stx_line_down")];t6z.legend.colorMap[B4z]={color:I4z,display:B4z,isBase:this == l6z.mainSeriesRenderer};;}for(f6z in W6z){this.caches[f6z]=W6z[f6z].yValueCache;}for(f6z=0;f6z < this.shading.length;f6z++){j99="a";j99+="u";j99+="t";j99+="o";S6z=this.shading[f6z];Q6z=S6z.color;if(S6z.color == j99){Q6z=l6z.defaultColor;}if(!S6z.primary){S6z.primary="Close";}if(!S6z.secondary && this.seriesParams[0]){S6z.secondary=this.seriesParams[0].field;}if(!S6z.secondary)continue;else if(!W6z[S6z.primary] && S6z.primary != "Close")continue;else if(!W6z[S6z.secondary])continue;else if(S6z.primary == "Close" && O6z.yAxis && O6z.yAxis != t6z.yAxis)continue;h4z=T4z(S6z.primary).split((960.92,7380) > (401,7514)?(0x1fc2,0x175c):540.95 != (6060,7660)?".":![]);x4z=T4z(S6z.secondary).split((4080,113.25) != (269,13.35)?".":0x2b2);Y6z={topBand:h4z[0],topSubBand:h4z[1],topColor:S6z.greater || Q6z || l6z.containerColor,topAxis:O6z.yAxis,bottomBand:x4z[0],bottomSubBand:x4z[1],bottomColor:S6z.lesser || Q6z || l6z.containerColor,bottomAxis:S6z.primary == "Close"?null:O6z.yAxis,tension:O6z.tension || t6z.tension,opacity:0.1,step:O6z.step};if(!Y6z.topColor && !Y6z.bottomColor)continue;if(!O6z.highlight && l6z.highlightedDraggable){Y6z.opacity*=0.3;}H6z.fillIntersecting(l6z,O6z.panel,Y6z);}};H6z.Renderer.Histogram=function(s4z){var K69,u69,V69;this.construct(s4z);this.params.type="histogram";x288.j0n();this.barsHaveWidth=this.standaloneBars=! ![];if(this.params.yAxis){K69=984229781;u69=- +"169443453";V69=2;for(var p69=1;x288.a9W(p69.toString(),p69.toString().length,14947) !== K69;p69++){this.params.bindToYAxis=! !1;V69+=2;}if(x288.J9W(V69.toString(),V69.toString().length,17372) !== u69){this.params.bindToYAxis=![];}if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};x288.j0n();H6z.inheritsFrom(H6z.Renderer.Histogram,H6z.Renderer,!1);H6z.Renderer.Histogram.prototype.adjustYAxis=function(){var n4z;n4z=this.params.yAxis;if(!n4z || n4z.baseline){return;}n4z.min=0;n4z.highValue/=this.params.heightPercentage || 1;};H6z.Renderer.Histogram.prototype.draw=function(){var X4z,P4z,z99,h99,m4z,c4z;X4z=H6z.clone(this.params);X4z.type=X4z.subtype;this.useSum=X4z.subtype == "stacked";x288.j0n();if(!X4z.yAxis || X4z.yAxis == this.stx.chart.yAxis){X4z.bindToYAxis=! !{};}this.stx.drawHistogram(X4z,this.seriesParams);P4z=X4z.yAxis && X4z.yAxis.baseline;if(P4z && P4z.color){z99="destination";z99+="-over";h99="l";h99+="ine";m4z=this.stx.panels[this.params.panel];c4z=this.stx.pixelFromPrice(P4z.value,m4z,this.params.yAxis) - 0.5;this.stx.plotLine({x0:m4z.left,x1:m4z.right,y0:c4z,y1:c4z,color:P4z.color,type:h99,context:m4z.chart.context,confineToPanel:m4z,pattern:P4z.pattern || "solid",lineWidth:P4z.lineWidth || 1,opacity:P4z.opacity || +"0.8",globalCompositeOperation:z99});}};H6z.Renderer.Histogram.prototype.getBasis=function(E4z,F4z,d4z){var V4z,K4z,R4z;V4z=0;if(E4z && this.useSum){for(var k4z=0;k4z < this.seriesParams.length;k4z++){K4z=this.seriesParams[k4z].field;if(K4z === F4z)break;R4z=E4z[K4z];if(R4z && typeof R4z === "object"){R4z=R4z[d4z || this.seriesParams[k4z].subField || this.stx.chart.defaultPlotField || "Close"];}if(R4z){V4z+=R4z;}}}x288.r0n();return V4z;};H6z.Renderer.Heatmap=function(z4z){this.construct(z4z);this.params.type="heatmap";this.params.highlightable=!"1";this.barsHaveWidth=this.standaloneBars=! !{};};H6z.inheritsFrom(H6z.Renderer.Heatmap,H6z.Renderer,!{});H6z.Renderer.Heatmap.requestNew=function(j4z,J4z){var N4z,G4z;N4z=null;for(var D4z=0;D4z < j4z.length;D4z++){G4z=j4z[D4z];if(G4z == "heatmap"){N4z="heatmap";}}if(N4z === null){return null;}return new H6z.Renderer.Heatmap({params:H6z.extend(J4z,{type:N4z})});};H6z.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(H6z.clone(this.params),this.seriesParams);};H6z.Renderer.Scatter=function(Z4z){this.construct(Z4z);this.standaloneBars=this.barsHaveWidth=! !"1";this.bounded=! ![];};H6z.inheritsFrom(H6z.Renderer.Scatter,H6z.Renderer.Lines,!{});H6z.Renderer.Scatter.requestNew=function(q4z,U4z){var r4z,A99,u4z;r4z=null;for(var o4z=+"0";o4z < q4z.length;o4z++){A99="s";A99+="cat";A99+="te";A99+="rplot";u4z=q4z[o4z];if(u4z == A99){r4z="scatter";}}if(r4z === null){return null;}x288.j0n();return new H6z.Renderer.Scatter({params:H6z.extend(U4z,{type:r4z})});};H6z.Renderer.Scatter.prototype.drawIndividualSeries=function(y4z,w4z){var M4z,L4z;M4z=this.stx.panels[w4z.panel] || y4z.panel;L4z={colors:[]};x288.j0n();if(this.stx.scatter){L4z=this.stx.scatter(M4z,w4z);}else {console.warn("Error, Scatter renderer requires customChart.js");}return L4z;};};A7V=S4z=>{var O4z,r99;O4z=typeof _CIQ !== "undefined"?_CIQ:S4z.CIQ;if(!O4z.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {r99="Ac";r99+="cu";r99+="mulation/Distribution";O4z.Studies.calculateAccumulationDistribution=function(i8z,W4z){var O1n=x288;var V4W,x4W,p4W,Q4z,P99,f4z,t4z,v4z,Y4z;V4W=-975633400;x4W=-1338035784;p4W=2;for(var W4W=1;O1n.a9W(W4W.toString(),W4W.toString().length,20062) !== V4W;W4W++){Q4z=W4z.chart.scrubbed;p4W+=2;}if(O1n.a9W(p4W.toString(),p4W.toString().length,64015) !== x4W){Q4z=W4z.chart.scrubbed;}for(var l4z=W4z.startFrom;l4z < Q4z.length;l4z++){P99="Resu";P99+="lt";P99+=" ";if(!l4z)continue;f4z=Q4z[l4z];if(f4z.futureTick)break;O1n.f2d(7);t4z=Q4z[O1n.c2d(1,l4z)];v4z=0;if(f4z.Close > t4z.Close){v4z=f4z.Close - Math.min(f4z.Low,t4z.Close);}else if(f4z.Close < t4z.Close){v4z=f4z.Close - Math.max(f4z.High,t4z.Close);}if(W4z.inputs["Use Volume"]){v4z*=f4z.Volume;}Y4z=t4z[P99 + W4z.name];if(!Y4z){Y4z=0;}Y4z+=v4z;if(!isNaN(f4z.Close)){f4z["Result " + W4z.name]=Y4z;}}};O4z.Studies.studyLibrary=O4z.extend(O4z.Studies.studyLibrary,{"W Acc Dist":{name:r99,calculateFN:O4z.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !""}}});}};B7V=B8z=>{var A8z,l99,y99;A8z=typeof _CIQ !== "undefined"?_CIQ:B8z.CIQ;if(!A8z.Studies){console.error("adx feature requires first activating studies feature.");}else {l99="#";l99+="F";l99+="F0000";y99="ADX";y99+="/DMS";A8z.Studies.calculateADX=function(R8z,h8z){var p1n=x288;p1n.r0n();var C8z,b8z,I8z,g8z,a8z,s8z,n8z,x8z,T99,T8z,p8z,N99,d99,X8z,P8z,m8z,Q99,i99,C99,X99,c8z,E99;A8z.Studies.calculateStudyATR(R8z,h8z);C8z=h8z.chart.scrubbed;b8z=h8z.days;I8z=parseInt(h8z.inputs["Smoothing Period"],10);if(!I8z && I8z !== +"0"){I8z=b8z;}if(C8z.length < h8z.days + 1){h8z.error=! ![];return;}g8z=0;a8z=0;s8z=0;n8z=0;for(var e8z=Math.max(1,h8z.startFrom);e8z < C8z.length;e8z++){T99="-";T99+="D";T99+="I";T99+=" ";x8z=C8z[e8z];T8z=Math.max(0,x8z.High - C8z[e8z - 1].High);p1n.o2d(29);p8z=Math.max(p1n.N2d(1421721376,"0"),C8z[e8z - 1].Low - x8z.Low);if(T8z > p8z){p8z=0;}else if(p8z > T8z){T8z=0;}else {T8z=p8z=0;}if(e8z <= b8z){N99="T";N99+="r";N99+="ue ";N99+="Range ";a8z+=T8z;s8z+=p8z;g8z+=x8z[N99 + h8z.name];}else {d99="Tr";d99+="ue Range ";p1n.o2d(45);var f8l=p1n.N2d(4,6,14,17);p1n.f2d(36);var s8l=p1n.N2d(7,10,69);a8z=C8z[e8z - f8l]["_sm+DM " + h8z.name] * (b8z - s8l) / b8z + T8z;p1n.f2d(60);var U8l=p1n.N2d(16,477,18,11,8);p1n.o2d(7);var R8l=p1n.N2d(11,12);s8z=C8z[e8z - U8l]["_sm-DM " + h8z.name] * (b8z - R8l) / b8z + p8z;p1n.o2d(7);var K8l=p1n.c2d(8,9);p1n.o2d(33);var u8l=p1n.N2d(2,3);g8z=C8z[e8z - K8l]["_smTR " + h8z.name] * (b8z - u8l) / b8z + x8z[d99 + h8z.name];}x8z["_sm+DM " + h8z.name]=a8z;x8z["_sm-DM " + h8z.name]=s8z;x8z["_smTR " + h8z.name]=g8z;if(e8z < b8z)continue;p1n.o2d(79);X8z=p1n.c2d(g8z,100,a8z);p1n.o2d(79);P8z=p1n.c2d(g8z,100,s8z);p1n.f2d(14);var V8l=p1n.N2d(1500,3,117,500,18);m8z=V8l * Math.abs(X8z - P8z) / (X8z + P8z);x8z["+DI " + h8z.name]=X8z;x8z[T99 + h8z.name]=P8z;if(h8z.inputs.Series !== !{} && I8z){if(e8z < b8z + I8z - 1){if(e8z == h8z.startFrom){for(var H8z=b8z;H8z < h8z.startFrom;H8z++){Q99="-";Q99+="D";Q99+="I";Q99+=" ";i99="+";i99+="D";i99+="I";i99+=" ";n8z+=("100" ^ 0) * Math.abs(C8z[H8z]["+DI " + h8z.name] - C8z[H8z]["-DI " + h8z.name]) / (C8z[H8z][i99 + h8z.name] + C8z[H8z][Q99 + h8z.name]);}}n8z+=m8z;}else if(e8z == b8z + I8z - 1){p1n.f2d(12);x8z["ADX " + h8z.name]=p1n.c2d(n8z,I8z);}else {C99="AD";C99+="X ";X99="A";X99+="D";X99+="X";X99+=" ";p1n.o2d(7);var x8l=p1n.N2d(16,17);p1n.f2d(7);var p8l=p1n.c2d(14,15);x8z[X99 + h8z.name]=(C8z[e8z - x8l][C99 + h8z.name] * (I8z - p8l) + m8z) / I8z;}}if(h8z.inputs.Histogram){c8z=h8z.name + "_hist";if(!x8z["+DI " + h8z.name] && x8z["+DI " + h8z.name] !== 0)continue;if(!x8z["-DI " + h8z.name] && x8z["-DI " + h8z.name] !== 0)continue;x8z[c8z]=x8z["+DI " + h8z.name] - x8z["-DI " + h8z.name];if(h8z.inputs.Series === !"1"){E99="-";E99+="D";E99+="I ";x8z["+DI " + h8z.name]=null;x8z[E99 + h8z.name]=null;}h8z.outputMap[c8z]="";}}};A8z.Studies.displayADX=function(V8z,k8z,z8z){var C1n=x288;var N8z,m99,K8z,E8z,D8z,j8z,F8z,d8z,w2W,W2W,I2W;N8z=k8z.underlay?0.3:k8z.inputs.Series?0.4:1;if(k8z.inputs.Series && k8z.inputs.Shading){m99="+DI";m99+=" ";K8z=m99 + k8z.name;E8z="-DI " + k8z.name;D8z=A8z.Studies.determineColor(k8z.outputs[k8z.outputMap[K8z]]);j8z=A8z.Studies.determineColor(k8z.outputs[k8z.outputMap[E8z]]);F8z=k8z.getYAxis(V8z);d8z={topBand:K8z,bottomBand:E8z,topColor:D8z,bottomColor:j8z,skipTransform:V8z.panels[k8z.panel].name != k8z.chart.name,topAxis:F8z,bottomAxis:F8z,opacity:0.3};w2W=-2142544075;W2W=-1626136002;C1n.f2d(8);I2W=C1n.c2d(2,"2");for(var c2W=1;C1n.a9W(c2W.toString(),c2W.toString().length,56871) !== w2W;c2W++){if(~k8z.highlight || V8z.highlightedDraggable){d8z.opacity+=570;}A8z.fillIntersecting(V8z,k8z.panel,d8z);I2W+=2;}if(C1n.J9W(I2W.toString(),I2W.toString().length,36816) !== W2W){if(!k8z.highlight && V8z.highlightedDraggable){C1n.f2d(19);d8z.opacity*=C1n.N2d(1,"0.3");}A8z.fillIntersecting(V8z,k8z.panel,d8z);}}if(k8z.inputs.Histogram){A8z.Studies.createHistogram(V8z,k8z,z8z,!"1",N8z);}if(k8z.inputs.Series !== ! !0){A8z.Studies.displaySeriesAsLine(V8z,k8z,z8z);}else if(!k8z.inputs.Series && !k8z.inputs.Histogram){V8z.displayErrorAsWatermark(k8z.panel,V8z.translateIf(k8z.name) + ": " + V8z.translateIf("Nothing to display"));}};A8z.Studies.studyLibrary=A8z.extend(A8z.Studies.studyLibrary,{ADX:{name:y99,calculateFN:A8z.Studies.calculateADX,seriesFN:A8z.Studies.displayADX,inputs:{Period:14,"Smoothing Period":+"14",Series:! !1,Shading:! !0,Histogram:!{}},outputs:{"+DI":"#00FF00","-DI":l99,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};h7V=J8z=>{var G8z,e99,a39,J39,o39,s99,f99,v99,o99,K99,R99,U99;G8z=typeof _CIQ !== "undefined"?_CIQ:J8z.CIQ;if(!G8z.Studies){e99="alliga";e99+="tor feature requires first activating";e99+=" studies feature.";console.error(e99);}else {G8z.Studies.calculateAlligator=function(w8z,o8z){var I1n=x288;var Z99,O99,B99,g99,q8z,Z8z,M99,t99,G99,n99,U8z,L8z,u8z,b99;Z99="Sh";Z99+="o";Z99+="w Line";Z99+="s";O99="G";O99+="ato";O99+="r";B99="L";B99+="i";B99+="ps Period";g99="J";I1n.r0n();g99+="aw";g99+=" Per";g99+="iod";q8z={J:Number(o8z.inputs[g99]),T:Number(o8z.inputs["Teeth Period"]),L:Number(o8z.inputs[B99])};Z8z=o8z.chart.scrubbed;if(Z8z.length < Math.max(q8z.J,q8z.T,q8z.L) + 1){o8z.error=! !1;return;}if(o8z.type === O99 || o8z.inputs[Z99]){M99="hl";M99+="/2";t99="hl";t99+="/";t99+="2";G8z.Studies.MA("welles wilder",q8z.J,t99,o8z.inputs["Jaw Offset"],"Jaw",w8z,o8z);G8z.Studies.MA("welles wilder",q8z.T,M99,o8z.inputs["Teeth Offset"],"Teeth",w8z,o8z);G8z.Studies.MA("welles wilder",q8z.L,"hl/2",o8z.inputs["Lips Offset"],"Lips",w8z,o8z);}for(var r8z=o8z.startFrom;r8z < Z8z.length;r8z++){if(!Z8z[r8z])continue;if(o8z.type == "Gator"){G99="_";G99+="hist2";n99="L";n99+="ip";n99+="s ";U8z=Z8z[r8z]["Jaw " + o8z.name];L8z=Z8z[r8z][n99 + o8z.name];u8z=Z8z[r8z]["Teeth " + o8z.name];if(u8z || u8z === 0){if(U8z || U8z === 0){I1n.f2d(7);Z8z[r8z][o8z.name + "_hist1"]=Math.abs(I1n.N2d(u8z,U8z));}if(L8z || L8z === +"0"){I1n.o2d(7);Z8z[r8z][o8z.name + "_hist2"]=-Math.abs(I1n.N2d(L8z,u8z));}}o8z.outputMap={};o8z.outputMap[o8z.name + "_hist1"]="";o8z.outputMap[o8z.name + G99]="";}if(o8z.inputs["Show Fractals"]){if(!Z8z[r8z - ("2" ^ 0)] || !Z8z[r8z - 1] || !Z8z[r8z] || !Z8z[r8z + ("1" - 0)] || !Z8z[r8z + 2])continue;if(Z8z[r8z - 2].High && Z8z[r8z - +"1"].High && Z8z[r8z].High && Z8z[r8z + 1].High && Z8z[r8z + 2].High){if(Z8z[r8z].High > Z8z[r8z - 1].High && Z8z[r8z].High > Z8z[r8z - 2].High && Z8z[r8z].High > Z8z[r8z + ("1" << 1363850464)].High && Z8z[r8z].High > Z8z[r8z + 2].High){b99="Fr";b99+="actal";b99+=" Hi";b99+="gh ";Z8z[r8z][b99 + o8z.name]=1;}}if(Z8z[r8z - +"2"].Low && Z8z[r8z - 1].Low && Z8z[r8z].Low && Z8z[r8z + 1].Low && Z8z[r8z + 2].Low){if(Z8z[r8z].Low < Z8z[r8z - ("1" ^ 0)].Low && Z8z[r8z].Low < Z8z[r8z - 2].Low && Z8z[r8z].Low < Z8z[r8z + +"1"].Low && Z8z[r8z].Low < Z8z[r8z + 2].Low){Z8z[r8z]["Fractal Low " + o8z.name]=1;}}}}};G8z.Studies.displayAlligator=function(M8z,S8z,f8z){var y8z,L99;y8z=S8z.getContext(M8z);x288.r0n();if(S8z.inputs["Show Lines"]){G8z.Studies.displaySeriesAsLine(M8z,S8z,f8z);}function l8z(v8z,Y8z){var W8z,t8z,F99;t8z=M8z.chart.panel.yAxis.flipped;x288.r0n();if(v8z == "high"){F99="to";F99+="p";y8z.fillStyle=M8z.defaultColor;y8z.textBaseline=t8z?F99:"bottom";W8z=M8z.pixelFromPrice(f8z[Y8z].High);y8z.fillText(t8z?"38.68" * 1 != "8872" >> 723370464?("2620" ^ 0,4401) != 874?4930 != (786.76,260)?"\u25BC":(!{},! ![]):! !{}:(0x1b2,5.06e+3):(547.35,3322) == 8397?("f",840.91):"\u25B2",M8z.pixelFromBar(O8z,M8z.chart) - y8z.measureText("\u25B2").width / 2 + 1,t8z?W8z + 5:W8z - 5);;}else if(v8z == "low"){y8z.fillStyle=M8z.defaultColor;y8z.textBaseline=t8z?"bottom":"top";W8z=M8z.pixelFromPrice(f8z[Y8z].Low);y8z.fillText(t8z?"\u25B2":3670 >= 1200?"\u25BC":3850 < 4070?![]:!0,M8z.pixelFromBar(O8z,M8z.chart) - y8z.measureText(8985 <= (648.93,4020)?("5156" - 0,68) != 7220?174.96:"Z":"\u25BC").width / 2 + 1,t8z?W8z - ("5" & 2147483647):W8z + 5);;}}if(S8z.inputs["Show Fractals"]){M8z.startClip();y8z.globalAlpha=S8z.underlay?"0.3" - 0:1;if(!S8z.highlight && M8z.highlightedDraggable){y8z.globalAlpha*=0.3;}for(var O8z=2;O8z < f8z.length - 2;O8z++){if(f8z[O8z]){L99="Fr";L99+="actal";L99+=" L";L99+="ow ";if(f8z[O8z]["Fractal High " + S8z.name]){l8z("high",O8z);}if(f8z[O8z][L99 + S8z.name]){l8z("low",O8z);}}}M8z.endClip();}};G8z.Studies.displayGator=function(i9z,Q8z,I9z){var a1n=x288;var a99,D99,b9z,B9z,T9z,p9z,e9z,H9z,g9z,x9z,C9z,J99;a99="#C";a99+="C";a99+="CCCC";D99="In";D99+="creasing Bar";b9z=i9z.panels[Q8z.panel];B9z=Q8z.getContext(i9z);T9z=Q8z.getYAxis(i9z);p9z=i9z.pixelFromPrice(0,b9z,T9z);a1n.f2d(7);var w8l=a1n.c2d(4,6);e9z=i9z.layout.candleWidth - w8l;if(e9z < 2){e9z=1;}H9z=G8z.Studies.determineColor(Q8z.outputs[D99]);g9z=G8z.Studies.determineColor(Q8z.outputs["Decreasing Bar"]);i9z.canvasColor("stx_histogram");if(!Q8z.underlay){B9z.globalAlpha=1;}B9z.fillStyle=a99;i9z.startClip(Q8z.panel);if(!Q8z.highlight && i9z.highlightedDraggable){a1n.f2d(7);B9z.globalAlpha*=a1n.c2d(0,"0.3");}for(var h9z=0;h9z < I9z.length;h9z++){x9z=I9z[h9z];a1n.o2d(7);C9z=I9z[a1n.c2d(1,h9z)];if(!x9z)continue;for(var A9z=1;A9z <= +"2";A9z++){J99="#CCCCC";J99+="C";if(!C9z){C9z=i9z.getPreviousBar(i9z.chart,Q8z.name + "_hist" + A9z,h9z);}if(!C9z){B9z.fillStyle=J99;}else if(Math.abs(C9z[Q8z.name + "_hist" + A9z]) < Math.abs(x9z[Q8z.name + "_hist" + A9z])){B9z.fillStyle=H9z;}else if(Math.abs(C9z[Q8z.name + "_hist" + A9z]) > Math.abs(x9z[Q8z.name + "_hist" + A9z])){B9z.fillStyle=g9z;}if(x9z.candleWidth){e9z=Math.floor(Math.max(+"1",x9z.candleWidth - 2));}B9z.fillRect(Math.floor(i9z.pixelFromBar(h9z,b9z.chart) - e9z / +"2"),Math.floor(p9z),Math.floor(e9z),Math.floor(i9z.pixelFromPrice(x9z[Q8z.name + "_hist" + A9z],b9z,T9z) - p9z));}}i9z.endClip();};a39=-1865758001;J39=353330562;o39=2;for(var f39=1;x288.a9W(f39.toString(),f39.toString().length,73308) !== a39;f39++){s99="#";s99+="00DD";s99+="00";f99="#";f99+="FF0";f99+="000";v99="#0";v99+="0";v99+="00FF";o99="Al";o99+="l";o99+="igator";G8z.Studies.studyLibrary=G8z.extend(G8z.Studies.studyLibrary,{Alligator:{name:o99,overlay:! ![],seriesFN:G8z.Studies.displayAlligator,calculateFN:G8z.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" - 0,"Lips Offset":3,"Show Fractals":! !""},outputs:{Jaw:v99,Teeth:f99,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:G8z.Studies.displayGator,calculateFN:G8z.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3"},outputs:{"Increasing Bar":s99,"Decreasing Bar":"#FF0000"},centerline:0}});o39+=2;}if(x288.a9W(o39.toString(),o39.toString().length,75223) !== J39){K99="Teeth Of";K99+="fs";K99+="et";R99="S";R99+="how ";R99+="Fractals";U99="All";U99+="i";U99+="g";U99+="ator";G8z.Studies.studyLibrary=G8z.extend(G8z.Studies.studyLibrary,{Alligator:{name:U99,overlay:! !"",seriesFN:G8z.Studies.displayAlligator,calculateFN:G8z.Studies.calculateAlligator,inputs:{"Show Lines":![],"Jaw Period":+"63","Jaw Offset":9,"Teeth Period":1,"Teeth Offset":6,"Lips Period":9,"Lips Offset":2,"Show Fractals":! !1},outputs:{Jaw:"Jaw Offset",Teeth:R99,Lips:"Lips Period"}},Gator:{name:"Teeth Offset",seriesFN:G8z.Studies.displayGator,calculateFN:G8z.Studies.calculateAlligator,inputs:{"Jaw Period":86,"Jaw Offset":9,"Teeth Period":4,"Teeth Offset":2,"Lips Period":2,"Lips Offset":"0" & 2147483647},outputs:{"Increasing Bar":"Jaw Offset","Decreasing Bar":K99},centerline:1}});}}};x7V=s9z=>{var u99,a9z,V99,W99,w99;u99="undefi";u99+="n";u99+="e";u99+="d";x288.j0n();a9z=typeof _CIQ !== u99?_CIQ:s9z.CIQ;if(!a9z.Studies){V99="aroon feature requi";V99+="res first activating studies feature.";console.error(V99);}else {W99="a";W99+="u";W99+="t";W99+="o";w99="0 t";w99+="o 10";w99+="0";a9z.Studies.calculateAroon=function(D9z,n9z){var P1n=x288;var R9z,k9z,V9z,P9z,m9z,E9z,c9z,p99,x99,X9z,F9z,d9z,z9z,N9z;R9z=n9z.chart.scrubbed;if(R9z.length < n9z.days + 1){n9z.error=! !{};return;}k9z=0;P1n.o2d(3);V9z=P1n.N2d(1060980160,"0");P9z=null;P1n.j0n();m9z=null;if(n9z.startFrom > 0){P1n.o2d(56);var W8l=P1n.N2d(9,14,76,7);E9z=R9z[n9z.startFrom - W8l]["_state " + n9z.name];if(E9z){k9z=E9z[0];V9z=E9z[1];P9z=E9z[2];m9z=E9z[+"3"];}}for(var K9z=n9z.startFrom;K9z < R9z.length;K9z++){p99="Ar";p99+="o";p99+="on";p99+=" Down ";x99="A";x99+="ro";x99+="on ";x99+="Up ";X9z=R9z[K9z];if(X9z.futureTick)break;if(P9z === null){P9z=X9z.High;}if(m9z === null){m9z=X9z.Low;}P9z=Math.max(P9z,X9z.High);if(P9z == X9z.High){P1n.o2d(3);k9z=P1n.c2d(342047808,"0");}else {k9z++;if(k9z > n9z.days){P9z=X9z.High;k9z=+"0";for(c9z=1;c9z <= n9z.days;c9z++){P9z=Math.max(P9z,R9z[K9z - c9z].High);if(P9z == R9z[K9z - c9z].High){k9z=c9z;}}}}m9z=Math.min(m9z,X9z.Low);if(m9z == X9z.Low){V9z=0;}else {V9z++;if(V9z > n9z.days){m9z=X9z.Low;P1n.o2d(3);V9z=P1n.c2d(76586208,"0");for(c9z=1;c9z <= n9z.days;c9z++){m9z=Math.min(m9z,R9z[K9z - c9z].Low);if(m9z == R9z[K9z - c9z].Low){V9z=c9z;}}}}F9z=!isNaN(X9z.High);d9z=!isNaN(X9z.Low);P1n.f2d(88);var I8l=P1n.c2d(14,5,81);P1n.o2d(110);var q8l=P1n.c2d(5,172,4,19);z9z=I8l * (q8l - k9z / n9z.days);if(F9z){X9z[x99 + n9z.name]=z9z;}P1n.f2d(2);var c8l=P1n.N2d(86,14);N9z=c8l * (1 - V9z / n9z.days);if(d9z){X9z[p99 + n9z.name]=N9z;}if(F9z && d9z){X9z["Aroon Oscillator " + n9z.name]=X9z["Aroon Up " + n9z.name] - X9z["Aroon Down " + n9z.name];}X9z["_state " + n9z.name]=[k9z,V9z,P9z,m9z];}};a9z.Studies.studyLibrary=a9z.extend(a9z.Studies.studyLibrary,{Aroon:{name:"Aroon",range:w99,calculateFN:a9z.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:a9z.Studies.calculateAroon,outputs:{"Aroon Oscillator":W99}}});}};e7V=G9z=>{var j9z,S4W,k4W,j2W,h49,j49,k99,S99,H99;j9z=typeof _CIQ !== "undefined"?_CIQ:G9z.CIQ;if(!j9z.Studies){S4W=-1446061627;k4W=-1057547127;j2W=2;for(var z2W=1;x288.a9W(z2W.toString(),z2W.toString().length,27782) !== S4W;z2W++){console.error("atr feature requires first activating studies feature.");j2W+=2;}if(x288.J9W(j2W.toString(),j2W.toString().length,85802) !== k4W){console.error("");}}else {h49="#";h49+="00";h49+="FF00";j49="p";j49+="o";j49+="i";j49+="nts";k99="ATR Tra";k99+="ilin";k99+="g Stops";S99="STARC B";S99+="ands";H99="f";H99+="i";H99+="eld";j9z.Studies.calculateATRBands=function(r9z,J9z){var I99,Z9z;I99="Cl";I99+="ose";j9z.Studies.calculateStudyATR(r9z,J9z);x288.r0n();Z9z=J9z.inputs.Field;if(!Z9z || Z9z == "field"){Z9z=I99;}j9z.Studies.calculateGenericEnvelope(r9z,J9z,J9z.inputs.Shift,Z9z,"ATR " + J9z.name);};j9z.Studies.calculateSTARCBands=function(q9z,o9z){j9z.Studies.calculateStudyATR(q9z,o9z);j9z.Studies.MA("simple",o9z.inputs["MA Period"],"Close",0,"_MA",q9z,o9z);j9z.Studies.calculateGenericEnvelope(q9z,o9z,o9z.inputs.Multiplier,"_MA " + o9z.name,"ATR " + o9z.name);};j9z.Studies.calculateATRStops=function(t9z,u9z){var r1n=x288;var Y99,M9z,S9z,c99,U9z,l9z,L9z,w9z,O9z,f9z,q99;Y99="All ";Y99+="S";Y99+="to";Y99+="ps";M9z=u9z.chart.scrubbed;if(!M9z){return;}j9z.Studies.calculateStudyATR(t9z,u9z);S9z=u9z.inputs.HighLow;for(var y9z=Math.max(u9z.startFrom - 1,1);y9z < M9z.length - 1;y9z++){c99="All";c99+=" ";c99+="Stops";c99+=" ";U9z=M9z[y9z];r1n.f2d(27);l9z=M9z[r1n.c2d("1",y9z)];L9z=U9z["Buy Stops " + u9z.name];if(!L9z){L9z=U9z["Sell Stops " + u9z.name];}if(!L9z){L9z=0;}if(!U9z || !l9z)continue;w9z=U9z.Close;O9z=w9z;f9z=U9z["ATR " + u9z.name] * u9z.inputs.Multiplier;if(U9z.Close > L9z && l9z.Close > L9z){if(S9z){w9z=U9z.High;}r1n.f2d(7);O9z=Math.max(L9z,r1n.N2d(f9z,w9z));}else if(U9z.Close <= L9z && l9z.Close <= L9z){if(S9z){w9z=U9z.Low;}r1n.f2d(2);O9z=Math.min(L9z,r1n.c2d(f9z,w9z));}else if(U9z.Close > L9z){if(S9z){w9z=U9z.High;}r1n.f2d(7);O9z=r1n.N2d(f9z,w9z);}else if(U9z.Close <= L9z){if(S9z){w9z=U9z.Low;}r1n.f2d(2);O9z=r1n.c2d(f9z,w9z);}if(w9z <= O9z){q99="B";q99+="u";q99+="y Stop";q99+="s ";r1n.o2d(103);M9z[r1n.N2d("1",0,y9z)][q99 + u9z.name]=O9z;r1n.f2d(2);delete M9z[r1n.c2d(1,y9z)]["Sell Stops " + u9z.name];}else if(w9z > O9z){r1n.f2d(2);M9z[r1n.N2d(1,y9z)]["Sell Stops " + u9z.name]=O9z;r1n.o2d(2);delete M9z[r1n.c2d(1,y9z)]["Buy Stops " + u9z.name];}r1n.f2d(2);M9z[r1n.c2d(1,y9z)][c99 + u9z.name]=O9z;}u9z.referenceOutput=Y99;u9z.outputMap={};u9z.outputMap["All Stops " + u9z.name]="";};j9z.Studies.studyLibrary=j9z.extend(j9z.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:j9z.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !1,seriesFN:j9z.Studies.displayChannel,calculateFN:j9z.Studies.calculateATRBands,inputs:{Period:5,Field:H99,Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:S99,overlay:! ![],seriesFN:j9z.Studies.displayChannel,calculateFN:j9z.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:k99,overlay:! ![],seriesFN:j9z.Studies.displayPSAR2,calculateFN:j9z.Studies.calculateATRStops,inputs:{Period:+"21",Multiplier:3,"Plot Type":[j49,"squarewave"],HighLow:! !0},outputs:{"Buy Stops":"#FF0000","Sell Stops":h49},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};C7V=v9z=>{var W9z,z49;W9z=typeof _CIQ !== "undefined"?_CIQ:v9z.CIQ;if(!W9z.Studies){z49="awesomeOsci";z49+="llator feature requires first activating studies feature.";console.error(z49);}else {W9z.Studies.calculateAwesomeOscillator=function(A07,Y9z){var P49,A49,Q9z,r49;P49="_M";P49+="A";P49+="34";A49="_";A49+="MA5";Q9z=Y9z.chart.scrubbed;if(Q9z.length < 33){Y9z.error=! ![];return;}x288.j0n();x288.o2d(51);W9z.Studies.MA("simple",5,"hl/2",x288.N2d(2147483647,"0"),A49,A07,Y9z);W9z.Studies.MA("simple",34,"hl/2",0,P49,A07,Y9z);for(var i07=Math.max(Y9z.startFrom,+"33");i07 < Q9z.length;i07++){r49="_";r49+="h";r49+="ist";if(!Q9z[i07])continue;Q9z[i07][Y9z.name + r49]=Q9z[i07]["_MA5 " + Y9z.name] - Q9z[i07]["_MA34 " + Y9z.name];}Y9z.outputMap={};Y9z.outputMap[Y9z.name + "_hist"]="";};W9z.Studies.displayAwesomeOscillator=function(h07,B07,p07){var v1n=x288;var N49,T07,x07,H07,g07,b07,a07,s07,d49,C07,I07;N49="st";N49+="x_his";N49+="togram";T07=h07.panels[B07.panel];x07=B07.getContext(h07);H07=B07.getYAxis(h07);g07=h07.pixelFromPrice(0,T07,H07);v1n.f2d(111);var Y8l=v1n.c2d(3,11,1,6,0);b07=h07.layout.candleWidth - Y8l;if(b07 < 2){b07=1;}a07=W9z.Studies.determineColor(B07.outputs["Increasing Bar"]);s07=W9z.Studies.determineColor(B07.outputs["Decreasing Bar"]);h07.canvasColor(N49);if(!B07.underlay){x07.globalAlpha=1;}x07.fillStyle="#CCCCCC";h07.startClip(B07.panel);if(!B07.highlight && h07.highlightedDraggable){x07.globalAlpha*=0.3;}for(var e07=0;e07 < p07.length;e07++){d49="_";d49+="hist";C07=p07[e07];v1n.f2d(7);I07=p07[v1n.N2d(1,e07)];if(!I07){I07=h07.getPreviousBar(h07.chart,B07.name + "_hist",e07);}if(!C07)continue;if(!I07);else if(I07[B07.name + "_hist"] < C07[B07.name + "_hist"]){x07.fillStyle=a07;}else if(I07[B07.name + d49] > C07[B07.name + "_hist"]){x07.fillStyle=s07;}if(C07.candleWidth){b07=Math.floor(Math.max(1,C07.candleWidth - 2));}x07.fillRect(Math.floor(h07.pixelFromBar(e07,T07.chart) - b07 / 2),Math.floor(g07),Math.floor(b07),Math.floor(h07.pixelFromPrice(C07[B07.name + "_hist"],T07,H07) - g07));}h07.endClip();};W9z.Studies.studyLibrary=W9z.extend(W9z.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:W9z.Studies.displayAwesomeOscillator,calculateFN:W9z.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};b7V=X07=>{var n07,T49,E49;n07=typeof _CIQ !== "undefined"?_CIQ:X07.CIQ;if(!n07.Studies){T49="balanceOfPower feature re";T49+="quire";T49+="s first activating studies feature.";console.error(T49);}else {E49="m";E49+="a";n07.Studies.calculateBalanceOfPower=function(k07,P07){x288.r0n();var C49,X49,Q49,c07,i49,m07;C49="Resul";C49+="t";X49="_Rat";X49+="io ";Q49="Moving Averag";Q49+="e";Q49+=" Type";c07=P07.chart.scrubbed;if(c07.length < P07.days + 1){P07.error=! ![];return;}for(var R07=P07.startFrom;R07 < c07.length;R07++){i49="_Rat";i49+="i";i49+="o";i49+=" ";m07=c07[R07];m07[i49 + P07.name]=m07.Close - m07.Open;if(m07.High - m07.Low !== 0){m07["_Ratio " + P07.name]/=m07.High - m07.Low;}}n07.Studies.MA(P07.inputs[Q49],P07.days,X49 + P07.name,0,C49,k07,P07);};n07.Studies.studyLibrary=n07.extend(n07.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:n07.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":E49}}});}};I7V=K07=>{var V07,t49,Z49,O49,B49,g49,e49;V07=typeof _CIQ !== "undefined"?_CIQ:K07.CIQ;if(!V07.Studies){console.error("bollinger feature requires first activating studies feature.");}else {t49="a";t49+="ut";t49+="o";Z49="m";Z49+="a";O49="Bollinger Ban";O49+="dwidth";B49="au";B49+="t";B49+="o";g49="fi";g49+="e";g49+="ld";e49="Bollin";e49+="ger";e49+=" Ba";e49+="nds";V07.Studies.calculateBollinger=function(d07,E07){var l49,y49,m49,F07;l49="_MA";l49+=" ";y49="STD ";y49+="D";y49+="e";y49+="v";m49="fie";m49+="l";m49+="d";F07=E07.inputs.Field;if(!F07 || F07 == m49){F07="Close";}V07.Studies.MA(E07.inputs["Moving Average Type"],E07.days,F07,0,"_MA",d07,E07);E07.std=new V07.Studies.StudyDescriptor(E07.name,y49,E07.panel);E07.std.chart=E07.chart;E07.std.startFrom=E07.startFrom;E07.std.days=E07.days;E07.std.inputs={Field:F07,"Standard Deviations":1,Type:E07.inputs["Moving Average Type"]};E07.std.outputs={"_STD Dev":null};V07.Studies.calculateStandardDeviation(d07,E07.std);V07.Studies.calculateGenericEnvelope(d07,E07,E07.inputs["Standard Deviations"],l49 + E07.name,"_STD Dev " + E07.name);if(E07.type == "Boll %b"){E07.zoneOutput="%b";}};V07.Studies.studyLibrary=V07.extend(V07.Studies.studyLibrary,{"Bollinger Bands":{name:e49,overlay:! !{},calculateFN:V07.Studies.calculateBollinger,seriesFN:V07.Studies.displayChannel,inputs:{Period:"20" * 1,Field:g49,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":B49,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:"0.1" * 1,step:+"0.1"}}},"Boll %b":{name:"Bollinger %b",calculateFN:V07.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"100" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:"0" | 0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}},"Boll BW":{name:O49,calculateFN:V07.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":Z49},outputs:{Bandwidth:t49},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}}});}};T7V=N07=>{var Q0n=x288;var L2W,D2W,a2W,z07,M49,r39,N39,d39,L49;Q0n.r0n();L2W=-443151748;D2W=-297915099;a2W=2;for(var o2W="1" ^ 0;Q0n.J9W(o2W.toString(),o2W.toString().length,30798) !== L2W;o2W++){z07=-_CIQ === ""?_CIQ:N07.CIQ;a2W+=2;}if(Q0n.a9W(a2W.toString(),a2W.toString().length,21424) !== D2W){z07=-_CIQ === ""?_CIQ:N07.CIQ;}z07=typeof _CIQ !== "undefined"?_CIQ:N07.CIQ;if(!z07.Studies){M49="cci featur";M49+="e requires first activating studies feature.";console.error(M49);}else {z07.Studies.calculateCCI=function(o07,D07){var G07,G4W,b4W,F4W,G39,b39,F39,n49,G49,F49,j07,Z07,b49;G07=D07.chart.scrubbed;if(G07.length < D07.days + 1){Q0n.f2d(19);G4W=-Q0n.c2d(1,"819831900");b4W=- +"2083567442";F4W=2;for(var D4W=1;Q0n.a9W(D4W.toString(),D4W.toString().length,46729) !== G4W;D4W++){D07.error=! !0;F4W+=2;}if(Q0n.J9W(F4W.toString(),F4W.toString().length,"47097" | 5433) !== b4W){D07.error=!"";}D07.error=! !{};return;}G39=-175201773;b39=-1452940070;Q0n.f2d(8);F39=Q0n.c2d(2,"2");for(var D39=1;Q0n.J9W(D39.toString(),D39.toString().length,+"5780") !== G39;D39++){n49="M";n49+="A";z07.Studies.MA("simple",D07.days,"hlc/3",0,n49,o07,D07);F39+=2;}if(Q0n.a9W(F39.toString(),F39.toString().length,50021) !== b39){G49="M";G49+="A";z07.Studies.MA("hlc/3",D07.days,G49,9,"hlc/3",o07,D07);}for(var J07=Math.max(D07.startFrom,D07.days - 1);J07 < G07.length;J07++){F49="Result";F49+=" ";j07=G07[J07];if(!j07)continue;Z07=0;for(var r07=0;r07 < D07.days;r07++){b49="h";b49+="lc/3";Z07+=Math.abs(G07[J07 - r07][b49] - j07["MA " + D07.name]);}Z07/=D07.days;if(Math.abs(Z07) < 0.00000001){j07[F49 + D07.name]=0;}else {j07["Result " + D07.name]=(j07["hlc/3"] - j07["MA " + D07.name]) / (0.015 * Z07);}}};r39=5726240;N39=-1716518301;Q0n.f2d(19);d39=Q0n.c2d(1,"2");for(var i39=1;Q0n.a9W(i39.toString(),i39.toString().length,91692) !== r39;i39++){L49="a";L49+="ut";L49+="o";z07.Studies.studyLibrary=z07.extend(z07.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:z07.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:L49}},attributes:{Period:{min:2}}}});d39+=2;}if(Q0n.a9W(d39.toString(),d39.toString().length,72528) !== N39){z07.Studies.studyLibrary=z07.extend(z07.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:z07.Studies.calculateCCI,inputs:{Period:62},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:556,studyOverBoughtColor:"auto",studyOverSoldValue:~845,studyOverSoldColor:"Commodity Channel Index"}},attributes:{Period:{min:8}}}});}}};p7V=u07=>{var q07,D49,J49;q07=typeof _CIQ !== "undefined"?_CIQ:u07.CIQ;if(!q07.Studies){D49="centerOfGravity feature requires";D49+=" first activating studies feature.";console.error(D49);}else {J49="fie";J49+="l";J49+="d";q07.Studies.calculateCenterOfGravity=function(l07,U07){var b1n=x288;var L07,w07,a49,S07,O07,f07;L07=U07.chart.scrubbed;if(L07.length < U07.days){U07.error=! ![];return;}w07=U07.inputs.Field;if(!w07 || w07 == "field"){w07="Close";}for(var M07=Math.max(U07.startFrom,U07.days - 1);M07 < L07.length;M07++){a49="Resu";a49+="l";a49+="t";a49+=" ";S07=+"0";O07=0;for(var y07=0;y07 < U07.days;y07++){b1n.o2d(7);f07=L07[b1n.N2d(y07,M07)][w07];b1n.f2d(112);S07-=b1n.c2d(1467371744,y07,f07,"1");O07+=f07;}if(O07){b1n.o2d(12);L07[M07][a49 + U07.name]=b1n.c2d(S07,O07);}}};q07.Studies.studyLibrary=q07.extend(q07.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:q07.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:J49}}});}};H7V=W07=>{var o49,t07;o49="un";o49+="de";o49+="fin";o49+="ed";t07=typeof _CIQ !== o49?_CIQ:W07.CIQ;if(!t07.Studies){console.error("chaikin feature requires first activating studies feature.");}else {t07.Studies.calculateChaikinMoneyFlow=function(h17,Q07){var v07,A17,i17,B17,f49,v49;v07=Q07.chart.scrubbed;if(v07.length < Q07.days){Q07.error=!"";return;}A17=0;i17=0;B17=v07[Q07.startFrom - ("1" ^ 0)];if(B17){f49="_s";f49+="umV ";v49="_sumM";v49+="F ";if(B17[v49 + Q07.name]){A17=B17["_sumMF " + Q07.name];}if(B17["_sumV " + Q07.name]){i17=B17[f49 + Q07.name];}}for(var Y07=Q07.startFrom;Y07 < v07.length;Y07++){if(v07[Y07].High == v07[Y07].Low){v07[Y07]["_MFV " + Q07.name]=0;}else {v07[Y07]["_MFV " + Q07.name]=v07[Y07].Volume * (+"2" * v07[Y07].Close - v07[Y07].High - v07[Y07].Low) / (v07[Y07].High - v07[Y07].Low);}A17+=v07[Y07]["_MFV " + Q07.name];i17+=v07[Y07].Volume;if(Y07 > Q07.days - 1){A17-=v07[Y07 - Q07.days]["_MFV " + Q07.name];i17-=v07[Y07 - Q07.days].Volume;if(i17){x288.o2d(12);v07[Y07]["Result " + Q07.name]=x288.c2d(A17,i17);}}v07[Y07]["_sumMF " + Q07.name]=A17;v07[Y07]["_sumV " + Q07.name]=i17;}};t07.Studies.calculateChaikinVolatility=function(I17,x17){var C17,e17,s49,b17,R49,U49;x288.r0n();C17=x17.chart.scrubbed;if(C17.length < x17.days){x17.error=! ![];return;}for(e17=x17.startFrom;e17 < C17.length;e17++){s49="_";s49+="High-Low ";if(C17[e17].futureTick)break;C17[e17][s49 + x17.name]=C17[e17].High - C17[e17].Low;}t07.Studies.MA(x17.inputs["Moving Average Type"],x17.days,"_High-Low " + x17.name,0,"_MA",I17,x17);b17=x17.inputs["Rate Of Change"];if(!b17){b17=x17.days;}for(e17=Math.max(x17.startFrom,b17);e17 < C17.length;e17++){R49="_M";R49+="A ";U49="_MA";U49+=" ";if(!C17[e17 - b17]["_MA " + x17.name])continue;if(C17[e17].futureTick)break;x288.o2d(113);var H8l=x288.c2d(1300,17,15,19245,99);C17[e17]["Result " + x17.name]=H8l * (C17[e17][U49 + x17.name] / C17[e17 - b17][R49 + x17.name] - +"1");}};t07.Studies.studyLibrary=t07.extend(t07.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:t07.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" * 1}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:t07.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};g7V=p17=>{var T17,I49,W49,K49;x288.j0n();T17=typeof _CIQ !== "undefined"?_CIQ:p17.CIQ;if(!T17.Studies){console.error("chande feature requires first activating studies feature.");}else {I49="fie";I49+="l";I49+="d";W49="Chan";W49+="de Forecast Oscillator";K49="Va";K49+="riable";T17.Studies.prettify.variable="vma";T17.Studies.movingAverage.conversions.vma="variable";T17.Studies.movingAverage.translations.variable="Variable";T17.Studies.movingAverage.typeMap.vma=K49;T17.Studies.movingAverage.typeMap.variable="Variable";T17.Studies.calculateChandeForecast=function(X17,H17){var u49,g17,a17,V49,n17;u49="C";u49+="lose";g17=H17.chart.scrubbed;if(g17.length < H17.days + +"1"){H17.error=!"";return;}a17=H17.inputs.Field;if(!a17 || a17 == "field"){a17=u49;}T17.Studies.MA("time series",H17.days,a17,0,"MA",X17,H17);for(var s17=Math.max(1,H17.startFrom);s17 < g17.length;s17++){V49="obje";V49+="ct";n17=g17[s17][a17];if(n17 && typeof n17 == V49){n17=n17[H17.subField];}x288.o2d(82);var S8l=x288.N2d(10,11,9,11);g17[s17]["Result " + H17.name]=+"100" * (S8l - g17[s17]["MA " + H17.name] / n17);}};T17.Studies.calculateChandeMomentum=function(j17,P17){var i5n=x288;var K17,R17,k17,E17,F17,d17,p49,x49,V17,c17,z17,N17;K17=P17.name;for(var D17 in P17.outputs){i5n.f2d(88);K17=i5n.c2d(D17,(525.93,2150) >= (933,"464.13" - 0)?(1589,5441) === (1361,247.32)?5350 < 240?(0x1ace,"h"):4.67e+2:" ":(0x2705,201.00),K17);}R17=P17.chart.scrubbed;i5n.r0n();if(R17.length < P17.days + 1){P17.error=! ![];return;}k17=P17.inputs.Field;if(!k17 || k17 == "field"){k17="Close";}E17=0;F17=0;d17=[];for(var m17=P17.startFrom - P17.days + 1;m17 < R17.length;m17++){p49="o";p49+="bject";x49="o";x49+="b";x49+="ject";if(m17 < 1)continue;V17=R17[m17][k17];i5n.o2d(27);c17=R17[i5n.c2d("1",m17)][k17];if(V17 && typeof V17 == x49){V17=V17.Close;}if(c17 && typeof c17 == p49){c17=c17.Close;}if(c17 === undefined)continue;i5n.o2d(7);z17=i5n.N2d(c17,V17);d17.push(z17);E17+=z17;F17+=Math.abs(z17);if(d17.length == P17.days){i5n.o2d(79);R17[m17][K17]=i5n.c2d(F17,100,E17);N17=d17.shift();E17-=N17;F17-=Math.abs(N17);}}};T17.Studies.calculateMovingAverageVariable=function(W17,G17){var Y5n=x288;var Q17,o17,f17,u17,q17,U17,r17,J17,Z17,L17,O17,l17,S17,w49,w17,Y17,M17,t17,y17;Q17=G17.inputs.Type;o17=G17.chart.scrubbed;Y5n.f2d(44);var k8l=Y5n.c2d(16,15,5,63);Y5n.f2d(107);var j3R=Y5n.N2d(19,13,27,17,0);f17=k8l / (G17.days + j3R);Y5n.r0n();u17=null;q17=G17.name;for(var v17 in G17.outputs){Y5n.f2d(88);q17=Y5n.N2d(v17,(1690,4202) <= (1390,4229)?" ":(!0,"T"),q17);}U17=G17.inputs.Field;if(!U17 || U17 == "field"){U17="Close";}G17.cmo=new T17.Studies.StudyDescriptor(G17.name,"cmo",G17.panel);G17.cmo.chart=G17.chart;G17.cmo.days=9;G17.cmo.inputs={Field:U17};G17.cmo.startFrom=G17.startFrom;G17.cmo.outputs={_CMO:null};T17.Studies.calculateChandeMomentum(W17,G17.cmo);r17=parseInt(G17.inputs.Offset,10);if(isNaN(r17)){Y5n.o2d(8);r17=Y5n.N2d(0,"0");}O17=G17.startFrom;l17=r17;for(J17=G17.startFrom - 1;J17 >= 0;J17--){Z17=o17[J17][q17];if(!Z17 && Z17 !== 0)continue;if(u17 === null){u17=Z17;}if(l17 <= 0)break;l17--;O17=J17;}if(u17 === null){u17=O17=+"0";}S17=[];for(J17=O17;J17 < o17.length;J17++){w49="_C";w49+="M";w49+="O ";w17=o17[J17];Z17=w17[U17];if(Z17 && typeof Z17 == "object"){Z17=Z17[G17.subField];}Y17=J17 + r17 >= 0 && J17 + r17 < o17.length;M17=Y17?o17[J17 + r17]:null;if(!Z17 && Z17 !== +"0"){if(M17){M17[q17]=null;}else if(J17 + r17 >= o17.length){L17={};L17[q17]=null;S17.push(L17);}continue;}if(!w17[w49 + G17.name] && w17["_CMO " + G17.name] !== 0)continue;Y5n.o2d(114);var h3R=Y5n.N2d(14,6,61,1,19);t17=Math.abs(w17["_CMO " + G17.name]) / h3R;Y5n.f2d(115);y17=Y5n.N2d(1,f17,f17,Z17,u17,t17,t17);u17=y17;if(J17 < G17.days){y17=null;}if(M17){M17[q17]=y17;}else if(J17 + r17 >= o17.length){L17={};L17[q17]=y17;S17.push(L17);}}G17.appendFutureTicks(W17,S17);};T17.Studies.studyLibrary=T17.extend(T17.Studies.studyLibrary,{"Chande Fcst":{name:W49,calculateFN:T17.Studies.calculateChandeForecast,inputs:{Period:14,Field:I49}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:T17.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};a7V=A27=>{var q49,i27,c49,k49,S49;x288.j0n();q49="unde";q49+="fined";i27=typeof _CIQ !== q49?_CIQ:A27.CIQ;if(!i27.Studies){c49="chop";c49+="piness feature requires first activating studies feature.";console.error(c49);}else {k49="aut";k49+="o";S49="C";S49+="hop";S49+="pine";S49+="ss Index";i27.Studies.calculateChoppiness=function(b27,B27){var N5n=x288;var x27,h27,C27,Y49,H49;N5n.r0n();function I27(a27,g27){var p27,H27;p27=Number.MAX_VALUE * -("1" ^ 0);H27=Number.MAX_VALUE;N5n.j0n();for(var T27=g27 - a27 + 1;T27 <= g27;T27++){if(T27 < +"0")continue;p27=Math.max(p27,x27[T27].High);H27=Math.min(H27,x27[T27].Low);}return [H27,p27];}i27.Studies.calculateStudyATR(b27,B27);x27=B27.chart.scrubbed;if(x27.length < B27.days + 1){B27.error=!0;return;}for(var e27=Math.max(B27.startFrom,B27.days);e27 < x27.length;e27++){h27=x27[e27];if(!h27)continue;if(h27.futureTick)break;C27=I27(B27.days,e27);if(h27["Sum True Range " + B27.name]){Y49="Res";Y49+="ult ";N5n.o2d(13);var z3R=N5n.N2d(100,200,1);N5n.f2d(116);var A3R=N5n.c2d(17,45,16,11);h27[Y49 + B27.name]=z3R * Math.log(h27["Sum True Range " + B27.name] / Math.max(0.000001,C27[A3R] - C27[0])) / Math.log(B27.days);}else if(!isNaN(h27)){H49="Re";H49+="sul";H49+="t ";h27[H49 + B27.name]=0;}}};i27.Studies.studyLibrary=i27.extend(i27.Studies.studyLibrary,{Choppiness:{name:S49,calculateFN:i27.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:61.8,studyOverBoughtColor:k49,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};s7V=n27=>{var s27,r4W,N4W,d4W,t29,Z29,O29;s27=typeof _CIQ !== "undefined"?_CIQ:n27.CIQ;x288.j0n();if(!s27.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!s27.Studies.initPriceRelative){r4W=-1000874426;N4W=+"657158153";d4W=+"2";for(var i4W=+"1";x288.J9W(i4W.toString(),i4W.toString().length,17695) !== r4W;i4W++){console.error("comparisonStudies feature requires first activating priceRelative feature.");d4W+=2;}if(x288.a9W(d4W.toString(),d4W.toString().length,81909) !== N4W){console.error("");}}else {t29="a";t29+="u";t29+="t";t29+="o";Z29="-1";Z29+=" t";Z29+="o 1";O29="Correla";O29+="tio";O29+="n Coefficient";s27.Studies.calculateCorrelationCoefficient=function(j27,X27){var E5n=x288;var j29,m27,R27,k27,z29,h29,A29,V27,K27,F27,d27,z27,N27,D27,T29,d29,N29,r29,c27,P29,J27,Z27,r27,o27;j29="Compare";j29+=" To";m27=X27.chart.scrubbed;R27=X27.days;if(m27.length < R27 + 1){X27.error=! ![];return;}X27.compare=X27.inputs[j29];E5n.r0n();if(!X27.compare){X27.compare=[];X27.outputs={};X27.outputMap={};for(var G27 in j27.chart.series){k27=j27.chart.series[G27];if(k27.parameters.color){z29="R";z29+="esu";z29+="lt ";h29="R";h29+="es";h29+="ult ";X27.compare.push(k27.display);X27.outputs[h29 + k27.display]=k27.parameters.color;X27.outputMap["Result " + k27.display + " " + X27.name]=z29 + k27.display;}}}else {X27.compare=[X27.compare];}if(!X27.compare.length){A29="Correlation ";A29+="Coefficient requires at least one comparison ";A29+="symbol";X27.error=A29;return;}for(var E27=0;E27 < X27.compare.length;E27++){E5n.o2d(3);V27=E5n.c2d(1472460640,"0");K27=0;E5n.f2d(8);F27=E5n.c2d(0,"0");E5n.o2d(19);d27=E5n.N2d(1,"0");z27=0;N27=X27.compare[E27];D27=0;for(var P27=X27.startFrom - R27;P27 < m27.length;P27++){T29="_tem";T29+="p";T29+="s ";d29="_tem";d29+="ps";d29+=" ";N29="_t";N29+="em";N29+="ps";N29+=" ";r29="_temp";r29+="s ";if(!m27[P27])continue;c27=m27[P27][N27];if(c27 && typeof c27 == "object"){c27=c27.Close;}if(!c27 && c27 !== 0){P29="_t";P29+="em";P29+="ps ";if(P27 > 0 && m27[P27 - 1] && m27[P27 - 1]["_temps " + X27.name] && m27[P27 - +"1"][P29 + X27.name].c){c27=m27[P27 - 1]["_temps " + X27.name].c;}else {c27=0;}}if(c27 && typeof c27 == "object"){c27=c27.Close;}m27[P27]["_temps " + X27.name]={};V27+=m27[P27][r29 + X27.name].b=m27[P27].Close;K27+=m27[P27][N29 + X27.name].c=c27;F27+=m27[P27][d29 + X27.name].b2=Math.pow(m27[P27].Close,+"2");d27+=m27[P27][T29 + X27.name].c2=Math.pow(c27,+"2");z27+=m27[P27]["_temps " + X27.name].bc=m27[P27].Close * c27;if(D27 >= R27){V27-=m27[P27 - R27]["_temps " + X27.name].b;K27-=m27[P27 - R27]["_temps " + X27.name].c;F27-=m27[P27 - R27]["_temps " + X27.name].b2;d27-=m27[P27 - R27]["_temps " + X27.name].c2;z27-=m27[P27 - R27]["_temps " + X27.name].bc;E5n.o2d(9);var P3R=E5n.c2d(0,5,3);J27=F27 / R27 - Math.pow(V27 / R27,P3R);E5n.f2d(117);var r3R=E5n.N2d(9,17,5442,7,20);Z27=d27 / R27 - Math.pow(K27 / R27,r3R);E5n.f2d(7);var N3R=E5n.c2d(38,40);r27=z27 / R27 - V27 * K27 / Math.pow(R27,N3R);o27=r27 / Math.sqrt(J27 * Z27);E5n.f2d(118);var d3R=E5n.N2d(13,17,86931,416,15);E5n.f2d(101);var T3R=E5n.c2d(930,714,15,14);E5n.o2d(65);var i3R=E5n.c2d(12,13,9900,4);E5n.o2d(36);var Q3R=E5n.N2d(17694,5,82572);E5n.f2d(5);var X3R=E5n.N2d(10,6549,15);E5n.f2d(7);var C3R=E5n.N2d(12,95);E5n.o2d(88);var E3R=E5n.c2d(834,4,2);m27[P27]["Result " + N27 + (d3R < T3R?i3R >= (Q3R,507.45)?X3R != C3R?" ":("0x1759" | E3R,"m"):+"0xbc4":"G") + X27.name]=o27;}D27++;}}};s27.Studies.calculatePerformance=function(M27,q27){var C29,X29,Q29,i29,u27,w27,E29,L27;C29="_";C29+="MA Comp";X29="m";X29+="a";Q29="m";Q29+="a";i29="Com";i29+="parison S";i29+="ymbol";u27=q27.chart.scrubbed;w27=q27.inputs["Comparison Symbol"].toUpperCase();if(!w27){w27=q27.study.inputs[i29];}if(!q27.days){q27.days=q27.study.inputs.Period;}if(u27.length < q27.days + 1){q27.error=! !1;return;}s27.Studies.MA(Q29,q27.days,"Close",0,"_MA Base",M27,q27);s27.Studies.MA(X29,q27.days,w27,"0" | 0,C29,M27,q27);for(var U27=q27.startFrom;U27 < u27.length;U27++){E29="_";E29+="MA Ba";E29+="se ";L27=u27[U27][w27];if(L27 && (L27.Close || L27.Close === 0)){L27=L27.Close;}u27[U27]["Result " + q27.name]=u27[U27].Close / L27 * (u27[U27]["_MA Comp " + q27.name] / u27[U27][E29 + q27.name]);}};s27.Studies.calculateBeta=function(W27,y27){var X5n=x288;var B29,S27,t27,m29,f27,l27,g29,e29,l29,y29;B29="_V";B29+="A";B29+="R";S27=y27.chart.scrubbed;t27=y27.inputs["Comparison Symbol"].toUpperCase();if(!t27){t27=y27.study.inputs["Comparison Symbol"];}if(!y27.days){y27.days=y27.study.inputs.Period;}if(S27.length < y27.days + 1){y27.error=! !{};return;}for(var O27=Math.max(y27.startFrom,+"1");O27 < S27.length;O27++){m29="_BaseCha";m29+="n";m29+="ge ";X5n.o2d(2);var m3R=X5n.c2d(1,0);X5n.f2d(7);var y3R=X5n.N2d(8,9);S27[O27][m29 + y27.name]=S27[O27].Close / S27[O27 - m3R].Close - y3R;f27=S27[O27][t27];if(f27 && (f27.Close || f27.Close === 0)){f27=f27.Close;}X5n.o2d(7);l27=S27[X5n.c2d(1,O27)][t27];if(l27 && (l27.Close || l27.Close === 0)){l27=l27.Close;}X5n.o2d(13);S27[O27]["_CompChange " + y27.name]=X5n.c2d(1,f27,l27);}X5n.r0n();s27.Studies.MA("ma",y27.days,"_BaseChange " + y27.name,0,"_MA Base",W27,y27);s27.Studies.MA("ma",y27.days,"_CompChange " + y27.name,0,"_MA Comp",W27,y27);for(O27=Math.max(y27.startFrom,y27.days);O27 < S27.length;O27++){g29="_";g29+="MA Comp ";e29="_MA Base";e29+=" ";l29="_B";l29+="aseChange";l29+=" ";y29="_COVAR";y29+="n ";S27[O27][y29 + y27.name]=(S27[O27][l29 + y27.name] - S27[O27][e29 + y27.name]) * (S27[O27]["_CompChange " + y27.name] - S27[O27]["_MA Comp " + y27.name]);S27[O27]["_VARn " + y27.name]=Math.pow(S27[O27]["_CompChange " + y27.name] - S27[O27][g29 + y27.name],2);}s27.Studies.MA("ma",y27.days,"_COVARn " + y27.name,0,"_COVAR",W27,y27);s27.Studies.MA("ma",y27.days,"_VARn " + y27.name,"0" >> 967557120,B29,W27,y27);for(O27=Math.max(y27.startFrom,y27.days * 2 - 1);O27 < S27.length;O27++){S27[O27]["Result " + y27.name]=S27[O27]["_COVAR " + y27.name] / S27[O27]["_VAR " + y27.name];}};s27.Studies.studyLibrary=s27.extend(s27.Studies.studyLibrary,{correl:{name:O29,range:Z29,calculateFN:s27.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:s27.Studies.initPriceRelative,seriesFN:s27.Studies.displayVsComparisonSymbol,calculateFN:s27.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:t29,Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:s27.Studies.initPriceRelative,seriesFN:s27.Studies.displayVsComparisonSymbol,calculateFN:s27.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! ![]}});}};n7V=Y27=>{var v27,b29;x288.j0n();v27=typeof _CIQ !== "undefined"?_CIQ:Y27.CIQ;if(!v27.Studies){console.error("coppock feature requires first activating studies feature.");}else {b29="f";b29+="ie";b29+="ld";v27.Studies.calculateCoppock=function(I37,Q27){var W5n=x288;var G29,M29,i37,A37,h37,x37,e37,C37,b37,n29;G29="Re";G29+="s";G29+="ult";M29="Shor";M29+="t";M29+=" Ro";M29+="C";i37=Q27.chart.scrubbed;A37=Q27.inputs.Field;if(!A37 || A37 == "field"){A37="Close";}h37=parseInt(Q27.inputs["Long RoC"],10);if(!h37){h37=14;}x37=parseInt(Q27.inputs[M29],10);if(!x37){x37=11;}e37=Q27.days;if(!e37){e37=10;}if(h37 < x37){return;}if(i37.length < Math.max(x37,h37,e37) + 1){Q27.error=! ![];return;}for(var B37=Math.max(Q27.startFrom,h37);B37 < i37.length;B37++){W5n.f2d(7);C37=i37[W5n.c2d(x37,B37)][A37];W5n.f2d(7);b37=i37[W5n.N2d(h37,B37)][A37];if(C37 && b37){n29="_S";n29+="u";n29+="m";n29+=" ";W5n.o2d(33);var l3R=W5n.N2d(12,14);i37[B37][n29 + Q27.name]=+"100" * (i37[B37][A37] / C37 + i37[B37][A37] / b37 - l3R);}}v27.Studies.MA("weighted",e37,"_Sum " + Q27.name,0,G29,I37,Q27);};v27.Studies.studyLibrary=v27.extend(v27.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:v27.Studies.calculateCoppock,inputs:{Period:"10" >> 540419904,Field:b29,"Short RoC":11,"Long RoC":14}}});}};X7V=p37=>{var T37,F29;T37=typeof _CIQ !== "undefined"?_CIQ:p37.CIQ;x288.r0n();if(!T37.Studies){F29="da";F29+="rvasB";F29+="ox feature requires first activating studies feature.";console.error(F29);}else {T37.Studies.calculateDarvas=function(j37,m37){var m5n=x288;var a29,D29,L29,H37,P37,d37,N37,c37,s37,X37,V37,R37,K37,k37,a37,n37,E37,J29,g37,o29,v29,f29,x29,V29,u29,K29,R29,U29,s29,p29,W29,w29;a29="S";a29+="pike";D29="Pr";D29+="of";D29+="i";D29+="t";L29="**************";L29+="*";L29+="**";H37=m37.chart.scrubbed;m5n.f2d(51);P37=m5n.c2d(2147483647,"0");d37=parseInt(m37.inputs["ATH Lookback Period"],+"10");if(m37.inputs["Volume Spike"]){T37.Studies.MA("simple",d37,"Volume",0,"ADV",j37,m37);}m5n.o2d(7);var e3R=m5n.c2d(1900,2000);N37=parseFloat(m37.inputs["Volume % of Avg"]) / e3R;c37="n";c37+="o";c37+="ne";s37={};X37=null;V37=null;R37=null;K37=parseFloat(m37.inputs["Level Offset"]);k37=![];if(k37){console.log(L29);}n37={};["Darvas","Ghost",D29,"Loss","ATH","ADV",a29].forEach(function(G37){m5n.o2d(30);var g3R=m5n.c2d(7509,7484,3742,11);m5n.f2d(6);var B3R=m5n.N2d(1,8,3,6366);m5n.f2d(7);var O3R=m5n.c2d(37170,39825);m5n.f2d(74);var Z3R=m5n.c2d(12,708,6409,19,6);m5n.o2d(0);var t3R=m5n.N2d(8490,11,9);m5n.f2d(119);var M3R=m5n.N2d(7,534,137,11);m5n.o2d(57);var n3R=m5n.c2d(1243,9932,136,19);m5n.f2d(7);var G3R=m5n.c2d(169020,178410);m5n.f2d(120);var b3R=m5n.N2d(871,4,294,12,11);m5n.f2d(7);var F3R=m5n.c2d(166630,175400);m5n.o2d(44);var L3R=m5n.N2d(12,6,2871,34127);n37[G37]=G37 + ((+"8265",679.36) > g3R?(B3R,O3R):(+"103.12",Z3R) != (t3R,"6348" | M3R)?" ":n3R != (G3R,154.53)?(b3R,F3R):L3R) + m37.name;});for(a37=m37.startFrom - 1;a37 > +"0";a37--){E37=H37[a37];if(E37[n37.Darvas] || E37[n37.Ghost]){for(var D37 in n37){E37[D37]=null;}}else {P37=E37[n37.ATH] || 0;V37=E37[n37.Profit];R37=E37[n37.Loss];break;}}for(a37;a37 < H37.length;a37++){J29="Pric";J29+="e Minimum";g37=H37[a37];if(!g37)continue;if(parseFloat(m37.inputs[J29]) <= H37[P37].Close){o29="n";o29+="one";if(X37 && (!X37.End || a37 == X37.End + 1)){if(H37[a37 - 1].Close > s37.High){s37={State:+"1",High:2 * s37.High - s37.Low,Low:s37.High,Start:a37,End:2 * s37.End - s37.Start + 1};}else {X37=null;;}if(X37){g37[n37.Ghost]=T37.clone(s37);if(k37){console.log("Ghost begin:" + g37.DT);}m5n.f2d(8);s37.State=m5n.N2d(0,"0");if(H37[s37.End]){H37[s37.End][n37.Ghost]=T37.clone(s37);if(k37){console.log("Ghost end:" + H37[s37.End].DT);}}X37={Start:s37.Start,End:s37.End};V37=s37.High + K37;if(!R37 || R37 < s37.Low - K37){R37=s37.Low - K37;}}}g37[n37.Profit]=V37;g37[n37.Loss]=R37;if(g37.Close >= V37){V37=null;}else if(m37.inputs["Exit Field"] == "high/low" && g37.High >= V37){V37=null;}if(c37 == o29){if(a37 == P37 + 3){if(!H37[P37 + +"2"][n37.Darvas] && !H37[P37 + 1][n37.Darvas] && !H37[P37][n37.Darvas] && H37[P37].High > g37.High){v29="h";v29+="i";v29+="gh";c37=v29;;}}}if(c37 == "high"){if(g37.High > H37[P37].High){c37="none";}else if(H37[a37 - 3].Low < H37[a37 - 2].Low && H37[a37 - 3].Low < H37[a37 - 1].Low && H37[a37 - +"3"].Low < g37.Low){f29="Darvas";f29+=" b";f29+="egin:";s37={State:1,High:H37[P37].High,Low:H37[a37 - 3].Low,Start:P37};H37[P37][n37.Darvas]=T37.clone(s37);c37="darvas";if(k37){console.log(f29 + H37[P37].DT);}if(k37){console.log("Darvas established:" + g37.DT);}if(X37){if(X37.End > a37 && H37[X37.Start]){g37[n37.Ghost]=T37.clone(H37[X37.Start][n37.Ghost]);g37[n37.Ghost].End=a37;if(H37[X37.End]){delete H37[X37.End][n37.Ghost];if(k37){console.log("Ghost End removed:" + H37[X37.End].DT);}}}g37[n37.Ghost].State=+"0";H37[X37.Start][n37.Ghost].End=a37;if(k37){console.log("Ghost end:" + g37.DT);}X37=null;}V37=s37.High + K37;if(!R37 || R37 < s37.Low - K37){R37=s37.Low - K37;}}}if(c37 == "darvas"){x29="Ghost Bo";x29+="xes";V29="n";V29+="o";V29+="n";V29+="e";u29="n";u29+="o";u29+="n";u29+="e";K29="hig";K29+="h";K29+="/low";R29="Ex";R29+="it";R29+=" F";R29+="ield";U29="n";U29+="on";U29+="e";s29="Ex";s29+="it Field";if(g37.Close > s37.High){X37={};}else if(m37.inputs[s29] == "high/low" && g37.High > s37.High){X37={};}else if(g37.Close < s37.Low){c37=U29;}else if(m37.inputs[R29] == K29 && g37.Low < s37.Low){c37=u29;}if(X37){c37=V29;}else if(c37 == "none"){V37=null;R37=null;}if(!m37.inputs[x29]){X37=null;}if(c37 == "none"){for(var z37=s37.Start + 1;z37 < a37;z37++){H37[z37][n37.Darvas]=T37.clone(s37);}m5n.f2d(51);s37.State=m5n.N2d(2147483647,"0");s37.End=a37;g37[n37.Darvas]=T37.clone(s37);if(k37){console.log("Darvas end:" + g37.DT);}g37[n37.ATH]=P37;continue;}}if(R37){p29="high/lo";p29+="w";if(g37.Close < s37.Low || m37.inputs["Exit Field"] == p29 && g37.Low < s37.Low){W29="hig";W29+="h/";W29+="lo";W29+="w";w29="non";w29+="e";if(c37 == "darvas"){c37=w29;}if(g37.Close < R37 || m37.inputs["Exit Field"] == W29 && g37.Low < R37){V37=null;R37=null;}if(X37){if(X37.End > a37 && H37[X37.Start]){g37[n37.Ghost]=T37.clone(H37[X37.Start][n37.Ghost]);g37[n37.Ghost].End=a37;if(H37[X37.End]){delete H37[X37.End][n37.Ghost];if(k37){console.log("Ghost End removed:" + H37[X37.End].DT);}}}g37[n37.Ghost].State=0;H37[X37.Start][n37.Ghost].End=a37;if(k37){console.log("Ghost end:" + g37.DT);}X37=null;}}}}if(g37.High >= H37[P37].High){P37=a37;if(k37){console.log("All Time High:" + g37.DT);}}if(a37 < "3" << 110809696 || g37.High >= H37[a37 - 1].High && g37.High >= H37[a37 - 2].High && g37.High >= H37[a37 - 3].High){if(a37 - P37 >= d37){P37=a37;for(var F37=0;F37 < d37;F37++){if(a37 - F37 < 0)break;if(H37[a37 - F37].High > H37[P37].High){m5n.f2d(7);P37=m5n.c2d(F37,a37);}}if(k37){console.log("All Time High:" + g37.DT);}}}if(m37.inputs["Volume Spike"] && a37 > d37 && a37 == P37){if(g37[n37.ADV] * N37 < g37.Volume){g37[n37.Spike]=+"1";if(k37){console.log("Volume Spike:" + g37.DT);}}}g37[n37.ATH]=P37;}};T37.Studies.displayDarvas=function(Z37,q37,U37){var e5n=x288;var q29,I29,Y37,y37,l37,u37,J37,r37,o37,x77,O37,L37,c29,B77,e77,I77,C77,w37,M37,S37,Q37,f37,v37,t37,A77,W37,i77,T77,h77,S29,Y29,p77,H29,b77;q29="a";q29+="uto";I29="a";I29+="ut";I29+="o";Y37=T37.Studies.determineColor(q37.outputs.Levels);if(!Y37 || Y37 == I29 || T37.isTransparent(Y37)){Y37=Z37.defaultColor;}y37=T37.Studies.determineColor(q37.outputs.Darvas);if(!y37 || y37 == "auto" || T37.isTransparent(y37)){y37=Z37.defaultColor;}l37=T37.Studies.determineColor(q37.outputs.Ghost);if(!l37 || l37 == q29 || T37.isTransparent(l37)){l37=Z37.defaultColor;}u37=Z37.panels[q37.panel];J37=q37.getContext(Z37);e5n.f2d(5);var D3R=e5n.c2d(17,0,19);L37=Z37.layout.candleWidth - D3R;if(L37 < 2){L37=+"1";}Z37.startClip(q37.panel);if(q37.inputs["Stop Levels"]){if(J37.setLineDash){J37.setLineDash([2,2]);}J37.lineWidth=2;J37.strokeStyle=Y37;J37.beginPath();for(r37=0;r37 < U37.length;r37++){c29="L";c29+="oss ";o37=U37[r37];e5n.f2d(7);B77=U37[e5n.N2d(1,r37)];if(!o37)continue;O37=o37[c29 + q37.name]?Math.floor(Z37.pixelFromPrice(o37["Loss " + q37.name],u37)):null;e77=B77 && B77["Loss " + q37.name]?Math.floor(Z37.pixelFromPrice(B77["Loss " + q37.name],u37)):null;if(O37){if(o37.candleWidth){L37=Math.floor(Math.max(+"1",o37.candleWidth));}I77=Math.floor(Z37.pixelFromBar(r37,u37.chart) + L37 / 2);C77=Math.floor(Z37.pixelFromBar(r37,u37.chart) - L37 / 2);if(e77 && e77 >= O37){J37.lineTo(C77,O37);}else if(r37 === 0){J37.moveTo(Z37.chart.left,O37);}else {J37.moveTo(C77,O37);}J37.lineTo(I77,O37);}}J37.stroke();if(J37.setLineDash){J37.setLineDash([]);}e5n.f2d(69);J37.lineWidth=e5n.N2d(0,"1");}w37=-10;S37=0;f37=-10;e5n.o2d(69);t37=e5n.c2d(0,"0");W37=![];i77=! !"";e5n.o2d(121);var a3R=e5n.c2d(4723,4723,4735,3,1);e5n.f2d(7);var J3R=e5n.N2d(11,540);e5n.o2d(0);var o3R=e5n.c2d(6048,3,5709);e5n.o2d(106);var v3R=e5n.c2d(1828,1845,1845,3);e5n.f2d(20);var f3R=e5n.N2d(20,2,4950,44564);e5n.o2d(7);var s3R=e5n.N2d(14,2404);e5n.o2d(82);var U3R=e5n.N2d(2175,16,2,9);e5n.o2d(6);var R3R=e5n.c2d(1531,12,11,1683);e5n.f2d(122);var K3R=e5n.c2d(5,11,4,10,0);T77=J37.measureText((a3R,J3R) > (o3R,v3R)?f3R !== +"297.14"?s3R > (U3R,525.32)?("p","V"):(R3R,"n"):("Z","h"):"\u25B2").width / K3R;h77=0;for(r37=0;r37 < U37.length;r37++){S29="Ghost Boxe";S29+="s";Y29="Dar";Y29+="vas ";if(!U37[r37])continue;if(U37[r37].Close || U37[r37].Close === ("0" | 0)){h77=r37;}if(U37[r37]["Spike " + q37.name]){J37.fillStyle=y37;J37.textBaseline="bottom";p77=Z37.pixelFromPrice(U37[r37].High,Z37.chart.panel);J37.fillText("\u25BC",Z37.pixelFromBar(r37) - T77,p77 - 5);;}if(U37[r37].candleWidth){L37=Math.floor(Math.max(1,U37[r37].candleWidth));}if(U37[r37][Y29 + q37.name]){o37=U37[r37]["Darvas " + q37.name];if(o37.State == 1 && !W37){w37=Math.floor(Z37.pixelFromBar(r37,u37.chart) - L37 / 2);M37=Math.floor(Z37.pixelFromPrice(o37.High,u37));Q37=Math.floor(Z37.pixelFromPrice(o37.Low,u37)) - M37;W37=! ![];}else if(o37.State === 0){H29="Stop Le";H29+="ve";H29+="l";H29+="s";e5n.o2d(120);var u3R=e5n.c2d(313,11,16,20,16);S37=Math.floor(Z37.pixelFromBar(r37,u37.chart) + L37 / u3R) - w37;M37=Math.floor(Z37.pixelFromPrice(o37.High,u37));Q37=Math.floor(Z37.pixelFromPrice(o37.Low,u37)) - M37;J37.strokeStyle=y37;J37.fillStyle=y37;if(!q37.inputs[H29]){J37.strokeRect(w37,M37,S37,Q37);J37.globalAlpha=0.2;}else {J37.globalAlpha=0.3;}J37.fillRect(w37,M37,S37,Q37);J37.globalAlpha=1;W37=! !0;}}if(U37[r37]["Ghost " + q37.name] && q37.inputs[S29]){o37=U37[r37]["Ghost " + q37.name];if(o37.State == 1 && !i77){f37=Math.floor(Z37.pixelFromBar(r37,u37.chart) - L37 / 2);v37=Math.floor(Z37.pixelFromPrice(o37.High,u37));t37=Math.floor((o37.End - o37.Start + ("1" - 0)) * Z37.layout.candleWidth + L37 / 2);A77=Math.floor(Z37.pixelFromPrice(o37.Low,u37)) - v37;i77=! !"1";}else if(o37.State === 0){if(o37.Start == o37.End){f37=Math.floor(Z37.pixelFromBar(r37,u37.chart) - L37 / ("2" - 0));}e5n.o2d(123);var V3R=e5n.c2d(12,7,3);t37=Math.floor(Z37.pixelFromBar(r37,u37.chart) + L37 / V3R) - f37;v37=Math.floor(Z37.pixelFromPrice(o37.High,u37));A77=Math.floor(Z37.pixelFromPrice(o37.Low,u37)) - v37;J37.strokeStyle=l37;J37.fillStyle=l37;if(!q37.inputs["Stop Levels"]){J37.strokeRect(f37,v37,t37,A77);J37.globalAlpha=+"0.2";}else {J37.globalAlpha=0.3;}J37.fillRect(f37,v37,t37,A77);e5n.f2d(19);J37.globalAlpha=e5n.c2d(1,"1");i77=![];}}}if(W37){e5n.f2d(7);var x3R=e5n.N2d(7,9);S37=Math.floor(Z37.pixelFromBar(h77,u37.chart) + L37 / x3R) - w37;J37.strokeStyle=y37;J37.fillStyle=y37;if(!q37.inputs["Stop Levels"]){J37.beginPath();e5n.o2d(22);J37.moveTo(e5n.c2d(2,S37,w37),M37);J37.lineTo(w37,M37);e5n.o2d(2);J37.lineTo(w37,e5n.N2d(Q37,M37));e5n.f2d(22);J37.lineTo(e5n.c2d(2,S37,w37),e5n.N2d(Q37,M37,e5n.f2d(2)));J37.stroke();J37.globalAlpha=0.2;}else {J37.globalAlpha=0.3;}e5n.f2d(19);J37.fillRect(w37,M37,e5n.N2d(S37,2),Q37);J37.globalAlpha=1;}if(i77){J37.strokeStyle=l37;J37.fillStyle=l37;if(!q37.inputs["Stop Levels"]){J37.strokeRect(f37,v37,t37,A77);J37.globalAlpha=+"0.2";}else {J37.globalAlpha=0.3;}J37.fillRect(f37,v37,t37,A77);J37.globalAlpha=1;}if(W37 || i77){if(q37.inputs["Stop Levels"]){if(J37.setLineDash){J37.setLineDash([+"2",2]);}J37.lineWidth=2;J37.strokeStyle=Y37;b77=Math.floor(Z37.pixelFromBar(h77 - 1,u37.chart) + L37 / +"2");if(x77){J37.beginPath();J37.moveTo(b77,x77);J37.lineTo(W37?w37 + 2 * S37:f37 + t37,x77);J37.stroke();}if(O37){J37.beginPath();J37.moveTo(b77,O37);J37.lineTo(W37?w37 + 2 * S37:f37 + t37,O37);J37.stroke();}if(J37.setLineDash){J37.setLineDash([]);}J37.lineWidth=1;}W37=! !0;i77=!{};}Z37.endClip();};T37.Studies.studyLibrary=T37.extend(T37.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !"1",calculateFN:T37.Studies.calculateDarvas,seriesFN:T37.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:"0.01" - 0,step:0.01},yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:!""},flippedEnabled:{hidden:!""}}}});}};P7V=g77=>{var H77,h89;H77=typeof _CIQ !== "undefined"?_CIQ:g77.CIQ;if(!H77.Studies){console.error("detrended feature requires first activating studies feature.");}else {h89="m";h89+="a";H77.Studies.calculateDetrendedPrice=function(R77,a77){var Q5n=x288;Q5n.j0n();var k29,X77,Y69,H69,S69,P77,m77,j89,s77,c77;k29="M";k29+="A";X77=a77.chart.scrubbed;if(X77.length < a77.days + 1){a77.error=! !{};Y69=379683333;Q5n.f2d(8);H69=Q5n.c2d(1353220360,"1387825551");S69=2;for(var j09=1;Q5n.J9W(j09.toString(),j09.toString().length,70757) !== Y69;j09++){return;}if(Q5n.a9W(S69.toString(),S69.toString().length,56895) !== H69){return;}}P77=a77.inputs.Field;if(!P77 || P77 == "field"){P77="Close";}m77=Math.floor(a77.days / 2 + +"1");H77.Studies.MA(a77.inputs["Moving Average Type"],a77.days,P77,-m77,k29,R77,a77);for(var n77=Math.max(a77.days - m77 - 1,a77.startFrom - m77);n77 < X77.length - m77;n77++){j89="M";j89+="A";j89+=" ";if(n77 < 0)continue;s77=X77[n77][P77];if(s77 && typeof s77 == "object"){s77=s77[a77.subField];}c77=X77[n77][j89 + a77.name];if((s77 || s77 === 0) && (c77 || c77 === 0)){Q5n.o2d(7);X77[n77]["Result " + a77.name]=Q5n.N2d(c77,s77);}}};H77.Studies.studyLibrary=H77.extend(H77.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:H77.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":h89}}});}};m7V=V77=>{var z89,k77,d89,N89;z89="un";z89+="def";z89+="ine";z89+="d";k77=typeof _CIQ !== z89?_CIQ:V77.CIQ;if(!k77.Studies){console.error("disparity feature requires first activating studies feature.");}else {d89="m";d89+="a";N89="Disparity I";N89+="ndex";k77.Studies.calculateDisparity=function(N77,K77){var g5n=x288;var A89,E77,d77,r89,P89,z77;A89="Moving Aver";A89+="age";A89+=" T";A89+="ype";E77=K77.chart.scrubbed;if(E77.length < K77.days + 1){K77.error=!0;return;}d77=K77.inputs.Field;if(!d77 || d77 == "field"){d77="Close";}k77.Studies.MA(K77.inputs[A89],K77.days,d77,0,"_MA",N77,K77);for(var F77=Math.max(K77.startFrom,K77.days - 1);F77 < E77.length;F77++){r89="R";r89+="es";r89+="ult ";P89="_MA";P89+=" ";if(!E77[F77])continue;z77=E77[F77][P89 + K77.name];if(z77){g5n.o2d(56);var p3R=g5n.c2d(6,6,26,20);g5n.o2d(57);var w3R=g5n.c2d(12,3,1,14);E77[F77][r89 + K77.name]=p3R * (E77[F77][d77] / z77 - w3R);}}};k77.Studies.studyLibrary=k77.extend(k77.Studies.studyLibrary,{Disparity:{name:N89,calculateFN:k77.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":d89}}});}};c7V=j77=>{var T89,D77,C89,X89;T89="un";T89+="defin";T89+="e";T89+="d";D77=typeof _CIQ !== T89?_CIQ:j77.CIQ;if(!D77.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {C89="m";C89+="a";X89="E";X89+="ase of Mo";X89+="ve";X89+="ment";D77.Studies.calculateEaseOfMovement=function(L77,Z77){var J5n=x288;var Q89,G77,i89,o77,q77,u77,U77,r77;Q89="Moving";Q89+=" Average";Q89+=" Type";G77=Z77.chart.scrubbed;if(G77.length < Z77.days){Z77.error=! ![];return;}for(var J77=Math.max(1,Z77.startFrom);J77 < G77.length;J77++){i89="_EOM1";i89+=" ";J5n.o2d(45);var W3R=J5n.N2d(2,17,11,28);o77=(G77[J77].High + G77[J77].Low) / W3R;J5n.f2d(33);var I3R=J5n.N2d(16,17);J5n.o2d(44);var q3R=J5n.N2d(15,11,10,138);J5n.f2d(9);var c3R=J5n.N2d(0,20,18);q77=(G77[J77 - I3R].High + G77[J77 - q3R].Low) / c3R;J5n.f2d(7);u77=J5n.N2d(q77,o77);J5n.f2d(76);var Y3R=J5n.c2d(90909098,19,9090909,12);U77=G77[J77].Volume / Y3R / (G77[J77].High - G77[J77].Low);J5n.o2d(12);r77=J5n.c2d(u77,U77);if(!isFinite(r77)){G77[J77][i89 + Z77.name]=NaN;}else {G77[J77]["_EOM1 " + Z77.name]=r77;}}D77.Studies.MA(Z77.inputs[Q89],Z77.days,"_EOM1 " + Z77.name,+"0","Result",L77,Z77);};D77.Studies.studyLibrary=D77.extend(D77.Studies.studyLibrary,{EOM:{name:X89,calculateFN:D77.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":C89}}});}};R7V=M77=>{x288.r0n();var w77,E89,l89;w77=typeof _CIQ !== "undefined"?_CIQ:M77.CIQ;if(!w77.Studies){E89="ehlerFi";E89+="sher feat";E89+="ure requires first activatin";E89+="g studies feature.";console.error(E89);}else {l89="#F";l89+="F000";l89+="0";w77.Studies.calculateEhlerFisher=function(Y77,y77){var y5n=x288;var m89,S77,O77,l77,y89,t77,W77;y5n.j0n();m89="_";m89+="n";function v77(x57,h57){var i57,A57,B57;i57=Number.MAX_VALUE;A57=Number.MAX_VALUE * - +"1";for(var Q77=h57 - x57 + +"1";Q77 <= h57;Q77++){y5n.o2d(5);var H3R=y5n.c2d(28,16,14);B57=(S77[Q77].High + S77[Q77].Low) / H3R;i57=Math.min(i57,B57);A57=Math.max(A57,B57);}return [i57,A57];}m89+=" ";S77=y77.chart.scrubbed;if(S77.length < y77.days + 1){y77.error=!0;return;}O77=0;if(y77.startFrom > 1){y5n.f2d(124);var S3R=y5n.N2d(6,5,119,4);O77=S77[y77.startFrom - S3R][m89 + y77.name];}for(var f77=y77.startFrom;f77 < S77.length;f77++){l77=S77[f77];if(l77.futureTick)break;if(f77 < y77.days - 1){y89="E";y89+="F ";l77[y89 + y77.name]=l77["EF Trigger " + y77.name]=O77;continue;}t77=v77(y77.days,f77);y5n.f2d(125);var k3R=y5n.c2d(4,1,5,8,1);y5n.o2d(33);var j6R=y5n.N2d(7,9);y5n.o2d(57);var h6R=y5n.c2d(6,3,1,8);y5n.o2d(126);var z6R=y5n.c2d(20,11,11,2419,1);O77=0.33 * k3R * (((S77[f77].High + S77[f77].Low) / j6R - t77[0]) / Math.max("0.000001" * h6R,t77[z6R] - t77[0]) - 0.5) + +"0.67" * O77;if(O77 > 0){O77=Math.min(O77,0.9999);}else if(O77 < 0){O77=Math.max(O77,-0.9999);}W77=f77?S77[f77 - +"1"]["EF " + y77.name]:0;y5n.o2d(20);var A6R=y5n.c2d(15,3,18,89);y5n.o2d(111);var P6R=y5n.c2d(13,6,2,4,11);y5n.f2d(122);var r6R=y5n.c2d(10,9,13,6,1);l77["EF " + y77.name]=0.5 * Math.log((A6R + O77) / (P6R - O77)) + "0.5" * r6R * W77;l77["EF Trigger " + y77.name]=W77;l77["_n " + y77.name]=O77;}};w77.Studies.studyLibrary=w77.extend(w77.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:w77.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":l89}}});}};k7V=C57=>{var e89,e57,Q39,X39,C39,U89,s89;e89="undef";e89+="in";e89+="ed";e57=typeof _CIQ !== e89?_CIQ:C57.CIQ;x288.j0n();if(!e57.Studies){Q39=-357408730;X39=836896085;C39=2;for(var m39=1;x288.J9W(m39.toString(),m39.toString().length,18678) !== Q39;m39++){console.error("");C39+=2;}if(x288.J9W(C39.toString(),C39.toString().length,"91460" & 2147483647) !== X39){console.error("elder feature requires first activating studies feature.");}}else {U89="#DD3E";U89+="39";s89="#0";s89+="0";s89+="DD0";s89+="0";e57.Studies.calculateElderImpulse=function(g57,b57){var o5n=x288;var B89,g89,T57,a57,s57,H57,p57,t89,Z89,O89;B89="ma";B89+="cd";g89="ex";g89+="ponential";T57=b57.chart.scrubbed;a57=b57.outputs.Bullish;s57=b57.outputs.Bearish;H57=b57.outputs.Neutral;e57.Studies.MA(g89,13,"Close",0,"_MA",g57,b57);o5n.f2d(7);var N6R=o5n.c2d(17,1059);o5n.o2d(9);var d6R=o5n.c2d(91,567,20);o5n.f2d(41);var T6R=o5n.N2d(20,15,3605,4,1077940);b57.macd=new e57.Studies.StudyDescriptor((("1810" | N6R) >= (d6R,"4260" - 0)?T6R:"_") + b57.name,B89,b57.panel);b57.macd.chart=b57.chart;b57.macd.days=b57.days;b57.macd.startFrom=b57.startFrom;b57.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};o5n.j0n();b57.macd.outputs={_MACD:null,_Signal:null};e57.Studies.calculateMACD(g57,b57.macd);for(var I57=b57.startFrom;I57 < T57.length;I57++){t89="_M";t89+="A ";Z89="_M";Z89+="A ";O89="_";O89+="h";O89+="i";O89+="st";if(I57 === 0){p57=H57;}else if(T57[I57]["_MA " + b57.name] > T57[I57 - 1]["_MA " + b57.name] && T57[I57][((1900,747.81) < (5398,295.36)?4.09e+3:5233 != (+"8751","746.43" * 1)?"_":(7646,1230) >= 2260?(+"193.70",8.63e+3):"T") + b57.name + O89] > T57[I57 - +"1"][(8014 != (779,7205)?"_":7259 >= 464.57?(9230,506.23) === 8920?("t",! !{}):(+"814.78",908.42):(! !0,0x1252)) + b57.name + "_hist"]){p57=a57;}else if(T57[I57][Z89 + b57.name] < T57[I57 - +"1"][t89 + b57.name] && T57[I57][(("536.35" - 0,3906) >= 428?("7817" >> 1107099360,7880) !== (3057,7740)?"_":"B":0x1163) + b57.name + "_hist"] < T57[I57 - 1][(9502 !== 5214?"_":167.11) + b57.name + "_hist"]){p57=s57;}else {p57=H57;}T57[I57]["Result " + b57.name]=p57;;}};e57.Studies.calculateElderRay=function(m57,n57){var b89,M89,X57,G89,n89;b89="_";b89+="hi";b89+="st";b89+="1";M89="Clo";M89+="s";M89+="e";X57=n57.chart.scrubbed;if(X57.length < n57.days){n57.error=! !{};return;}e57.Studies.MA("exponential",n57.days,M89,+"0","_EMA",m57,n57);for(var P57=Math.max(n57.startFrom,n57.days - 1);P57 < X57.length;P57++){G89="_";G89+="E";G89+="M";G89+="A ";n89="_";n89+="his";n89+="t";n89+="1";X57[P57][n57.name + n89]=X57[P57].High - X57[P57][G89 + n57.name];X57[P57][n57.name + "_hist2"]=X57[P57].Low - X57[P57]["_EMA " + n57.name];}n57.outputMap={};n57.outputMap[n57.name + b89]="";n57.outputMap[n57.name + "_hist2"]="";};e57.Studies.calculateElderForce=function(V57,c57){var R57,w69,W69,I69,L89,F89;R57=c57.chart.scrubbed;if(R57.length < c57.days){c57.error=!"";return;}for(var k57=Math.max(1,c57.startFrom);k57 < R57.length;k57++){R57[k57]["_EF1 " + c57.name]=R57[k57].Volume * (R57[k57].Close - R57[k57 - +"1"].Close);}w69=+"276100968";W69=-1729335492;I69=2;for(var c69=1;x288.a9W(c69.toString(),c69.toString().length,24955) !== w69;c69++){e57.Studies.MA("_EF1 ",c57.days,"_EF1 " / c57.name,1,"_EF1 ",V57,c57);I69+=2;}if(x288.J9W(I69.toString(),I69.toString().length,37252) !== W69){L89="R";L89+="e";L89+="sult";F89="_EF";F89+="1 ";e57.Studies.MA("exponential",c57.days,F89 + c57.name,0,L89,V57,c57);}};e57.Studies.initElderImpulse=function(E57,d57,z57,N57,F57,D57){var t5n=x288;var K57,W8W,Y8W,H8W;K57=e57.Studies.initializeFN(E57,d57,z57,N57,F57,D57);W8W=- +"1526528147";Y8W=1615262772;H8W=2;for(var k8W=1;t5n.J9W(k8W.toString(),k8W.toString().length,60662) !== W8W;k8W++){if(F57.calculateOnly){return K57;}t5n.f2d(29);H8W+=t5n.N2d(1969042368,"2");}if(t5n.a9W(H8W.toString(),H8W.toString().length,48786) !== Y8W){if(F57.calculateOnly){return K57;}}E57.chart.customChart={chartType:"colored_bar",colorFunction:function(J57,G57,Z57){var D89,j57;D89="obj";t5n.r0n();D89+="ect";j57=G57["Result " + K57.name];if(j57 && typeof j57 == D89){j57=j57.color;}return j57;}};E57.setMainSeriesRenderer();return K57;};e57.Studies.displayElderForce=function(o57,r57,w57){var u57,U57,L57,q57;e57.Studies.displaySeriesAsLine(o57,r57,w57);u57=e57.Studies.determineColor(r57.outputs.Result);U57=o57.panels[r57.panel];L57=r57.getYAxis(o57);q57={skipTransform:U57.name != r57.chart.name,panelName:r57.panel,band:"Result " + r57.name,threshold:"0" >> 1831675296,color:u57,yAxis:L57};if(!r57.highlight && o57.highlightedDraggable){q57.opacity=0.3;}q57.direction=1;e57.preparePeakValleyFill(o57,q57);q57.direction=-1;e57.preparePeakValleyFill(o57,q57);};e57.Studies.displayElderRay=function(y57,M57,Q57){var t57,f57,v57,Y57,l57,i67,f89,v89,o89,J89,a89,O57;t57=y57.panels[M57.panel];f57=M57.getContext(y57);v57=M57.getYAxis(y57);function W57(B67,A67,h67,x67){f57.fillStyle=e57.Studies.determineColor(M57.outputs[h67]);f57.fillRect(Math.floor(y57.pixelFromBar(B67,t57.chart) - l57 / +"2" + l57 * A67),Math.floor(Y57),Math.floor(l57 * (1 - 2 * A67)),Math.floor(y57.pixelFromPrice(O57[M57.name + x67],t57,v57) - Y57));}Y57=y57.pixelFromPrice(0,t57,v57);l57=y57.layout.candleWidth - ("2" & 2147483647);x288.r0n();if(l57 < 2){l57=1;}y57.canvasColor("stx_histogram");i67=f57.fillStyle;if(!M57.underlay){f57.globalAlpha=1;}y57.startClip(M57.panel);if(!M57.highlight && y57.highlightedDraggable){f57.globalAlpha*=+"0.3";}for(var S57=0;S57 < Q57.length;S57++){f89="_his";f89+="t2";v89="El";v89+="der Bull Powe";v89+="r";o89="_";o89+="hist2";J89="_h";J89+="is";J89+="t2";a89="Elde";a89+="r ";a89+="Bull Pow";a89+="er";O57=Q57[S57];if(!O57)continue;if(O57.candleWidth){l57=Math.floor(Math.max(1,O57.candleWidth - +"2"));}if(O57[M57.name + "_hist1"] > 0){W57(S57,0,a89,"_hist1");}if(O57[M57.name + J89] < 0){W57(S57,0,"Elder Bear Power",o89);}if(O57[M57.name + "_hist1"] < 0){W57(S57,0.1,v89,"_hist1");}if(O57[M57.name + "_hist2"] > 0){W57(S57,0.1,"Elder Bear Power",f89);}}y57.endClip();f57.fillStyle=i67;};e57.Studies.studyLibrary=e57.extend(e57.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:e57.Studies.calculateElderForce,seriesFN:e57.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:e57.Studies.displayElderRay,calculateFN:e57.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":s89,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:e57.Studies.calculateElderImpulse,initializeFN:e57.Studies.initElderImpulse,seriesFN:null,customRemoval:!"",underlay:!"",inputs:{},outputs:{Bullish:"#8BC176",Bearish:U89,Neutral:"#5F7CB8"},removeFN:function(e67,C67){e67.chart.customChart=null;x288.j0n();e67.setMainSeriesRenderer();}}});}};V7V=I67=>{var R89,b67,w89,p89,x89;R89="u";R89+="ndefi";R89+="ne";x288.r0n();R89+="d";b67=typeof _CIQ !== R89?_CIQ:I67.CIQ;if(!b67.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {w89="au";w89+="to";p89="-1 ";p89+="to 1";x89="F";x89+="ractal";x89+=" Chaos Oscillator";b67.Studies.calculateFractalChaos=function(m67,g67){var V5n=x288;var v69,f69,s69,p67,s67,n67,a67,K89,V89,u89,X67,P67,H67;v69=-1807267301;f69=2084505215;s69=2;for(var R69=1;V5n.a9W(R69.toString(),R69.toString().length,11284) !== v69;R69++){p67=g67.chart.scrubbed;s67=8;s69+=2;}if(V5n.a9W(s69.toString(),s69.toString().length,7427) !== f69){p67=g67.chart.scrubbed;s67=0;}p67=g67.chart.scrubbed;s67=0;n67=0;a67=0;if(g67.startFrom && g67.type == "Fractal Chaos Bands"){K89="Fract";K89+="al Hi";K89+="gh ";V5n.o2d(30);var i6R=V5n.c2d(17,5,5,17);s67=p67[g67.startFrom - i6R][K89 + g67.name];n67=p67[g67.startFrom - +"1"]["Fractal Low " + g67.name];}for(var T67=Math.max(4,g67.startFrom);T67 < p67.length;T67++){V89="Fr";V89+="a";V89+="ctal Chaos Band";V89+="s";u89="R";u89+="e";u89+="sul";u89+="t ";if(p67[T67].futureTick)break;X67=!isNaN(p67[T67].High);P67=!isNaN(p67[T67].Low);if(X67 || P67){p67[T67][u89 + g67.name]=0;}V5n.f2d(7);a67=V5n.N2d(0,"0");for(H67="0" & 2147483647;H67 <= T67;H67++){if(!p67[T67 - H67])break;if(p67[T67 - H67].High > p67[T67 - 2].High)break;if(H67 < 2 && p67[T67 - H67].High == p67[T67 - 2].High)break;if(p67[T67 - H67].High < p67[T67 - 2].High){a67++;}if(a67 == 4){s67=p67[T67 - 2].High;break;}}if(g67.type == "Fractal Chaos Bands"){if(X67){p67[T67]["Fractal High " + g67.name]=s67 > 0?s67:null;}}else if(a67 == 4){p67[T67]["Result " + g67.name]=+"1";}a67=0;for(H67=0;H67 <= T67;H67++){if(!p67[T67 - H67])break;if(p67[T67 - H67].Low < p67[T67 - 2].Low)break;if(H67 < 2 && p67[T67 - H67].Low == p67[T67 - 2].Low)break;if(p67[T67 - H67].Low > p67[T67 - 2].Low){a67++;}if(a67 == +"4"){n67=p67[T67 - 2].Low;break;}}if(g67.type == V89){if(P67){p67[T67]["Fractal Low " + g67.name]=n67 > 0?n67:null;}}else if(a67 == 4){p67[T67]["Result " + g67.name]=-1;}}};b67.Studies.studyLibrary=b67.extend(b67.Studies.studyLibrary,{"Fractal Chaos":{name:x89,range:p89,calculateFN:b67.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! ![],calculateFN:b67.Studies.calculateFractalChaos,seriesFN:b67.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":"auto","Fractal Low":w89,"Fractal Channel":"auto"}}});}};K7V=R67=>{var W89,c67,I89,r3l,P3l,A3l;W89="u";W89+="ndefined";c67=typeof _CIQ !== W89?_CIQ:R67.CIQ;if(!c67.Studies){I89="hig";I89+="hLowS";I89+="tudies feature requires first activating studies featur";I89+="e.";console.error(I89);}else {r3l="Highest ";r3l+="High Valu";r3l+="e";P3l="Gopal";P3l+="a";P3l+="kri";P3l+="shnan Range Index";A3l="a";A3l+="u";A3l+="to";c67.Studies.calculateMaxHighMinLow=function(j67,k67){var w5n=x288;var Y89,c89,q89,V67,D67,N67,d67,F67,E67,j3l,k89,S89,H89,z67,h3l,z3l;Y89="L";Y89+="ow Per";Y89+="iod";c89="Hig";c89+="h Perio";c89+="d";q89="High Pe";q89+="ri";q89+="o";q89+="d";V67=k67.chart.scrubbed;D67=k67.days;N67=k67.days;if(k67.inputs[q89]){D67=k67.inputs[c89];}if(k67.inputs[Y89]){N67=k67.inputs["Low Period"];}w5n.j0n();if(V67.length < Math.max(D67,N67) + 1){k67.error=!"";return;}d67=Number.MAX_VALUE;w5n.o2d(127);var Q6R=w5n.N2d(1,18,20);F67=Number.MAX_VALUE * Q6R;if(k67.startFrom > 1){for(E67=+"1";E67 < D67;E67++){if(k67.startFrom - E67 >= 0){F67=Math.max(F67,V67[k67.startFrom - E67].High);}}for(E67=1;E67 < N67;E67++){if(k67.startFrom - E67 >= 0){d67=Math.min(d67,V67[k67.startFrom - E67].Low);}}}for(var K67=Math.max(0,k67.startFrom - 1);K67 < V67.length;K67++){j3l="Willi";j3l+="ams ";j3l+="%R";k89="G";k89+="A";k89+="P";k89+="O";S89="LL";S89+="V";H89="H";H89+="HV";F67=Math.max(F67,V67[K67].High);d67=Math.min(d67,V67[K67].Low);if(K67 >= D67){if(V67[K67 - D67].High == F67){F67=V67[K67].High;for(E67=1;E67 < D67;E67++){F67=Math.max(F67,V67[K67 - E67].High);}}}if(K67 >= N67){if(V67[K67 - N67].Low == d67){d67=V67[K67].Low;for(E67=1;E67 < N67;E67++){d67=Math.min(d67,V67[K67 - E67].Low);}}}z67=0;if(k67.type == H89){z67=F67;}else if(k67.type == S89){z67=d67;}else if(k67.type == "Donchian Width"){w5n.f2d(7);z67=w5n.c2d(d67,F67);}else if(k67.type == k89 || k67.type == "Gopala"){z67=Math.log(F67 - d67) / Math.log(N67);}else if(k67.type == "VT HZ Filter"){w5n.o2d(7);z67=w5n.c2d(d67,F67);V67[K67]["_MHML " + k67.name]=z67;continue;}else if(k67.type == j3l){h3l="Re";h3l+="sult ";w5n.f2d(75);var X6R=w5n.c2d(1256,113,12);z67=X6R * (F67 - V67[K67].Close) / (F67 - d67);V67[K67][h3l + k67.name]=z67;continue;}if(K67 == V67.length - 1)break;if(!V67[K67 + 1].futureTick){if(k67.type == "Donchian Channel"){w5n.o2d(2);V67[w5n.c2d(1,K67)]["Donchian High " + k67.name]=F67;w5n.f2d(128);V67[w5n.c2d(K67,"1")]["Donchian Low " + k67.name]=d67;w5n.f2d(2);V67[w5n.N2d(1,K67)]["Donchian Median " + k67.name]=w5n.c2d(d67,F67,2,w5n.o2d(4));}else {z3l="Re";z3l+="su";z3l+="lt ";w5n.f2d(2);V67[w5n.c2d(1,K67)][z3l + k67.name]=z67;}}}};c67.Studies.calculateVerticalHorizontalFilter=function(u67,G67){var J67,r67,o67,q67;J67=G67.chart.scrubbed;if(J67.length < G67.days + 1){G67.error=! ![];return;}G67.mhml=new c67.Studies.StudyDescriptor(G67.name,G67.type,G67.panel);G67.mhml.chart=G67.chart;G67.mhml.days=G67.days;x288.j0n();G67.mhml.startFrom=G67.startFrom;G67.mhml.inputs={};G67.mhml.outputs={_MHML:null};c67.Studies.calculateMaxHighMinLow(u67,G67.mhml);x288.o2d(8);r67=x288.c2d(0,"0");o67=[];for(var Z67=Math.max(1,G67.startFrom - G67.days);Z67 < J67.length;Z67++){q67=Math.abs(J67[Z67].Close - J67[Z67 - 1].Close);o67.push(q67);r67+=q67;if(o67.length == G67.days){J67[Z67]["Result " + G67.name]=J67[Z67]["_MHML " + G67.name] / r67;r67-=o67.shift();}}};c67.Studies.studyLibrary=c67.extend(c67.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! ![],calculateFN:c67.Studies.calculateMaxHighMinLow,seriesFN:c67.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":A3l}},"Donchian Width":{name:"Donchian Width",calculateFN:c67.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:P3l,calculateFN:c67.Studies.calculateMaxHighMinLow},HHV:{name:r3l,calculateFN:c67.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},LLV:{name:"Lowest Low Value",calculateFN:c67.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:c67.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:-("20" ^ 0),studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:c67.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(M67,w67){var L67,N3l;L67=w67.chart.scrubbed;x288.r0n();for(var U67=w67.startFrom;U67 < L67.length;U67++){N3l="Re";N3l+="s";N3l+="ul";N3l+="t ";L67[U67][N3l + w67.name]=L67[U67].High - L67[U67].Low;}},inputs:{}}});}};E7V=O67=>{x288.j0n();var y67,X3l;y67=typeof _CIQ !== "undefined"?_CIQ:O67.CIQ;if(!y67.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {X3l="Ic";X3l+="himo";X3l+="ku";X3l+=" Clouds";y67.Studies.calculateIchimoku=function(B47,f67){var G5n=x288;var T3l,d3l,l67,t67,S67,W67,Q67,Q3l,i3l,i47,A47,v67;T3l="Conversi";T3l+="on L";T3l+="ine Period";d3l="B";d3l+="ase Line Perio";d3l+="d";l67=f67.chart.scrubbed;t67={Base:Number(f67.inputs[d3l]),Conv:Number(f67.inputs[T3l]),LeadB:Number(f67.inputs["Leading Span B Period"]),Lag:Number(f67.inputs["Lagging Span Period"])};for(S67=f67.startFrom;S67 < l67.length;S67++){if(!l67[S67])continue;W67=Y67(t67.Conv,S67);G5n.f2d(122);var C6R=G5n.N2d(12,7,15,4,1);G5n.f2d(129);var E6R=G5n.c2d(4,11,5,11,3);l67[S67]["Conversion Line " + f67.name]=(W67[C6R] + W67[0]) / E6R;W67=Y67(t67.Base,S67);G5n.o2d(130);var m6R=G5n.N2d(25,2,3,3,9);G5n.f2d(131);var y6R=G5n.c2d(19,0,1,1,21);l67[S67]["Base Line " + f67.name]=(W67[m6R] + W67[0]) / y6R;if(S67 < t67.Lag)continue;l67[S67 - t67.Lag]["Lagging Span " + f67.name]=l67[S67].Close;}function Y67(b47,C47){var x47,e47;x47=Number.MAX_VALUE;e47=Number.MAX_VALUE * - +"1";G5n.r0n();for(var h47=C47 - b47 + 1;h47 <= C47;h47++){if(h47 < 0)continue;x47=Math.min(x47,l67[h47].Low);e47=Math.max(e47,l67[h47].High);}return [x47,e47];}Q67=[];for(S67=Math.max(0,f67.startFrom - t67.Base);S67 < l67.length;S67++){Q3l="Ba";Q3l+="se Line";Q3l+=" ";i3l="Co";i3l+="nversio";i3l+="n";i3l+=" Line ";W67=Y67(t67.LeadB,S67);G5n.o2d(46);var l6R=G5n.N2d(14,13,11,11,0);i47=(l67[S67][i3l + f67.name] + l67[S67][Q3l + f67.name]) / l6R;G5n.o2d(2);var e6R=G5n.c2d(1,0);G5n.f2d(132);var g6R=G5n.N2d(1,8,16,5,19);A47=(W67[e6R] + W67[+"0"]) / g6R;if(l67[S67 + t67.Base]){l67[S67 + t67.Base]["Leading Span A " + f67.name]=i47;l67[S67 + t67.Base]["Leading Span B " + f67.name]=A47;}else {v67={};v67["Leading Span A " + f67.name]=i47;v67["Leading Span B " + f67.name]=A47;Q67.push(v67);}}f67.appendFutureTicks(B47,Q67);};y67.Studies.displayIchimoku=function(T47,I47,P47){var p47,H47,s47,n47,X47,g47,a47;p47="Leading Span A " + I47.name;H47="Leading Span B " + I47.name;s47=y67.Studies.determineColor(I47.outputs[I47.outputMap[p47]]);n47=y67.Studies.determineColor(I47.outputs[I47.outputMap[H47]]);X47=T47.panels[I47.panel];g47=I47.getYAxis(T47);a47={topBand:p47,bottomBand:H47,topColor:s47,bottomColor:n47,skipTransform:X47.name != I47.chart.name,topAxis:g47,bottomAxis:g47,opacity:0.3};if(!I47.highlight && T47.highlightedDraggable){a47.opacity*=0.3;}y67.fillIntersecting(T47,I47.panel,a47);y67.Studies.displaySeriesAsLine(T47,I47,P47);};y67.Studies.studyLibrary=y67.extend(y67.Studies.studyLibrary,{"Ichimoku Clouds":{name:X3l,overlay:!"",calculateFN:y67.Studies.calculateIchimoku,seriesFN:y67.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9" << 1767643872,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};F7V=c47=>{x288.r0n();var m47;m47=typeof _CIQ !== "undefined"?_CIQ:c47.CIQ;if(!m47.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {m47.Studies.calculateIntradayMomentum=function(N47,R47){var R5n=x288;var k47,F47,K47,E47,C3l,d47,z47;k47=R47.chart.scrubbed;F47=R47.days;if(k47.length < F47 + 1){R47.error=! ![];return;}R5n.o2d(8);K47=R5n.N2d(0,"0");E47=0;R5n.r0n();if(R47.startFrom > 1){K47=k47[R47.startFrom - ("1" | 0)]["_totUp " + R47.name];R5n.f2d(7);var B6R=R5n.c2d(13,14);E47=k47[R47.startFrom - B6R]["_totDn " + R47.name];}for(var V47=R47.startFrom;V47 < k47.length;V47++){C3l="R";C3l+="esult ";d47=k47[V47].Close - k47[V47].Open;if(d47 > 0){K47+=d47;}else {E47-=d47;}if(V47 >= F47){z47=k47[V47 - F47].Close - k47[V47 - F47].Open;if(z47 > ("0" & 2147483647)){K47-=z47;}else {E47+=z47;}}R5n.o2d(133);k47[V47][C3l + R47.name]=R5n.N2d(0,K47,"100",E47,K47);k47[V47]["_totUp " + R47.name]=K47;k47[V47]["_totDn " + R47.name]=E47;}};m47.Studies.studyLibrary=m47.extend(m47.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:m47.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" | 12,studyOverSoldColor:"auto"}}}});}};d7V=j47=>{var E3l,D47,e3l,l3l;E3l="undef";E3l+="i";E3l+="n";E3l+="ed";D47=typeof _CIQ !== E3l?_CIQ:j47.CIQ;if(!D47.Studies){console.error("keltner feature requires first activating studies feature.");}else {e3l="a";e3l+="u";e3l+="t";e3l+="o";l3l="e";l3l+="m";l3l+="a";D47.Studies.calculateKeltner=function(J47,G47){var y3l,m3l;y3l="A";y3l+="T";y3l+="R";y3l+=" ";m3l="C";m3l+="lo";m3l+="se";D47.Studies.MA(G47.inputs["Moving Average Type"],G47.days,m3l,0,"MA",J47,G47);D47.Studies.calculateStudyATR(J47,G47);D47.Studies.calculateGenericEnvelope(J47,G47,G47.inputs.Shift,"MA " + G47.name,y3l + G47.name);};D47.Studies.studyLibrary=D47.extend(D47.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !"1",seriesFN:D47.Studies.displayChannel,calculateFN:D47.Studies.calculateKeltner,inputs:{Period:50,Shift:"5" * 1,"Moving Average Type":l3l,"Channel Fill":! ![]},outputs:{"Keltner Top":e3l,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};z7V=r47=>{var j39,h39,z39,Z47,t3l;j39=532900027;h39=-928755760;z39=2;for(var P39=+"1";x288.a9W(P39.toString(),P39.toString().length,17079) !== j39;P39++){Z47=!_CIQ === ""?_CIQ:r47.CIQ;z39+=2;}if(x288.J9W(z39.toString(),z39.toString().length,13704) !== h39){Z47=typeof _CIQ !== "undefined"?_CIQ:r47.CIQ;}if(!Z47.Studies){console.error("klinger feature requires first activating studies feature.");}else {t3l="#FF";t3l+="0";t3l+="000";Z47.Studies.calculateKlinger=function(y47,q47){var B3l,g3l,u47,O47,U47,S47,L47,t47,w47,f47,l47,o47,Z3l,O3l,M47;B3l="_";B3l+="EMA";B3l+="-S ";g3l="Kl";g3l+="inge";g3l+="r ";u47=q47.chart.scrubbed;O47=Number(q47.inputs["Short Cycle"]);U47=Number(q47.inputs["Long Cycle"]);if(u47.length < Math.max(O47,U47) + +"1"){q47.error=! !{};return;}S47=q47.name + "_hist";L47=g3l + q47.name;t47="KlingerSignal " + q47.name;w47="_SV " + q47.name;f47=B3l + q47.name;l47="_EMA-L " + q47.name;for(o47=Math.max(+"1",q47.startFrom);o47 < u47.length;o47++){Z3l="h";Z3l+="l";Z3l+="c/3";O3l="h";O3l+="l";O3l+="c/";O3l+="3";M47=u47[o47].Volume;if(u47[o47][O3l] < u47[o47 - "1" * 1][Z3l]){M47*=-1;}if(M47){u47[o47][w47]=M47;}}Z47.Studies.MA("exponential",O47,w47,0,"_EMA-S",y47,q47);Z47.Studies.MA("exponential",U47,w47,0,"_EMA-L",y47,q47);for(o47=Math.max(U47,q47.startFrom);o47 < u47.length;o47++){if(u47[o47].futureTick || u47[o47][f47] === null || u47[o47][l47] === null)break;u47[o47][L47]=u47[o47][f47] - u47[o47][l47];}Z47.Studies.MA("exponential",Number(q47.inputs["Signal Periods"]),L47,"0" * 1,"KlingerSignal",y47,q47);for(o47=q47.startFrom;o47 < u47.length;o47++){u47[o47][S47]=u47[o47][L47] - u47[o47][t47];}x288.r0n();q47.outputMap[S47]="";};Z47.Studies.studyLibrary=Z47.extend(Z47.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:Z47.Studies.displayHistogramWithSeries,calculateFN:Z47.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":+"34","Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:t3l,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};N7V=v47=>{var W47,v3l,o3l,J3l,a3l,D3l,G3l,n3l,M3l;W47=typeof _CIQ !== "undefined"?_CIQ:v47.CIQ;if(!W47.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {v3l="a";v3l+="uto";o3l="Time Series For";o3l+="ecast";J3l="Linear R";J3l+="eg";J3l+=" R2";a3l="f";a3l+="i";a3l+="eld";D3l="Linear Re";D3l+="g Fore";D3l+="cast";G3l="tim";G3l+="e ";G3l+="series";n3l="T";n3l+="im";n3l+="eSeri";n3l+="es";M3l="time se";M3l+="ri";M3l+="es";W47.Studies.prettify["time series"]="tsma";W47.Studies.movingAverage.conversions.tsma="time series";W47.Studies.movingAverage.translations[M3l]="Time Series";W47.Studies.movingAverage.typeMap.tsma=n3l;W47.Studies.movingAverage.typeMap[G3l]="TimeSeries";W47.Studies.calculateMovingAverageTimeSeries=function(I87,Y47){var O5n=x288;var b3l,A87,i87,B87,h87,x87,e87,C87,b87;b3l="m";b3l+="a";Y47.ma=new W47.Studies.StudyDescriptor(Y47.name,b3l,Y47.panel);Y47.ma.chart=Y47.chart;Y47.ma.days=Y47.days;Y47.ma.startFrom=Y47.startFrom;Y47.ma.inputs=Y47.inputs;W47.Studies.calculateLinearRegressionIndicator(I87,Y47.ma);A87=Y47.name;for(var T87 in Y47.outputs){O5n.f2d(88);A87=O5n.c2d(T87,3125 >= (2403,957.89)?" ":5430 >= (6990,+"603.65")?0x9b4:390.32,A87);}i87=parseInt(Y47.inputs.Offset,10);if(isNaN(i87)){i87=0;}B87=Y47.chart.scrubbed;h87=i87;for(var Q47=Y47.startFrom - "1" * 1;Q47 >= 0;Q47--){x87=B87[Q47][A87];if(!x87 && x87 !== "0" * 1)continue;if(h87 > 0){h87--;continue;}break;}e87=[];for(Q47++;Q47 < B87.length;Q47++){C87=B87[Q47];if(Q47 + i87 >= 0){if(Q47 + i87 < B87.length){O5n.f2d(2);B87[O5n.c2d(i87,Q47)][A87]=C87["Forecast " + Y47.name];}else {b87={};b87[A87]=C87["Forecast " + Y47.name];e87.push(b87);}}}Y47.appendFutureTicks(I87,e87);};W47.Studies.calculateLinearRegressionIndicator=function(d87,p87){var x5n=x288;var F3l,g87,X87,c87,V87,K87,s87,R87,P87,k87,L3l,a87,n87,m87,E87,F87;F3l="Clo";F3l+="se";g87=p87.chart.scrubbed;if(g87.length < p87.days + 1){p87.error=! !1;return;}X87=p87.inputs.Field;if(!X87 || X87 == "field"){X87=F3l;}x5n.o2d(33);var O6R=x5n.c2d(6,7);x5n.o2d(7);var Z6R=x5n.N2d(14,16);c87=p87.days * (p87.days + O6R) / Z6R;V87=Math.pow(c87,2);x5n.j0n();x5n.o2d(134);var t6R=x5n.c2d(1,0,5,11,15);x5n.f2d(44);var M6R=x5n.N2d(4,9,13,42);K87=c87 * (t6R * p87.days + M6R) / ("3" & 2147483647);s87=0;R87=0;P87=0;if(p87.startFrom){k87=g87[p87.startFrom - ("1" & 2147483647)]["_sums " + p87.name];if(k87){R87=k87[0];x5n.o2d(29);s87=k87[x5n.N2d(808627392,"1")];x5n.o2d(19);P87=k87[x5n.N2d(1,"2")];}}for(var H87=p87.startFrom;H87 < g87.length;H87++){L3l="RSq";L3l+="u";L3l+="are";L3l+="d ";a87=g87[H87][X87];if(a87 && typeof a87 == "object"){a87=a87[p87.subField];}if(!a87 && a87 !== "0" - 0)continue;R87+=p87.days * a87 - s87;s87+=a87;P87+=Math.pow(a87,+"2");if(H87 < p87.days - 1)continue;else if(H87 > p87.days - 1){n87=g87[H87 - p87.days][X87];if(n87 && typeof n87 == "object"){n87=n87[p87.subField];}if(!n87 && n87 !== "0" - 0)continue;s87-=n87;P87-=Math.pow(n87,2);}m87=(p87.days * R87 - c87 * s87) / (p87.days * K87 - V87);g87[H87]["Slope " + p87.name]=m87;E87=(s87 - m87 * c87) / p87.days;g87[H87]["Intercept " + p87.name]=E87;g87[H87]["Forecast " + p87.name]=E87 + m87 * p87.days;x5n.o2d(2);var n6R=x5n.N2d(2,0);F87=(p87.days * K87 - V87) / (p87.days * P87 - Math.pow(s87,n6R));x5n.f2d(135);g87[H87][L3l + p87.name]=x5n.c2d(m87,F87,m87);g87[H87]["_sums " + p87.name]=[R87,s87,P87];}};W47.Studies.studyLibrary=W47.extend(W47.Studies.studyLibrary,{"Lin Fcst":{name:D3l,overlay:! ![],calculateFN:W47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:a3l},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !{},calculateFN:W47.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:J3l,calculateFN:W47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:W47.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:o3l,overlay:! !1,calculateFN:W47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:v3l}}});}};D7V=N87=>{var z87,q3l;x288.r0n();z87=typeof _CIQ !== "undefined"?_CIQ:N87.CIQ;if(!z87.Studies){console.error("macd feature requires first activating studies feature.");}else {q3l="M";q3l+="A";q3l+="C";q3l+="D";z87.Studies.calculateMACD=function(U87,D87){var p5n=x288;var w3l,p3l,x3l,R3l,U3l,s3l,f3l,Z87,r87,j87,o87,q87,J87,G87,L87,V3l,u3l,K3l,u87,w87,I3l,W3l,M87;w3l="_h";w3l+="ist";p3l="Sig";p3l+="nal";x3l="exponen";x3l+="tia";x3l+="l";R3l="_M";R3l+="A";R3l+="CD2";U3l="Cl";U3l+="ose";s3l="f";s3l+="ie";s3l+="l";s3l+="d";f3l="S";f3l+="ignal ";f3l+="Peri";f3l+="od";Z87=D87.chart.scrubbed;r87=D87.inputs;j87=D87.name;if(!D87.macd1Days){D87.macd1Days=parseFloat(r87["Fast MA Period"]);}if(!D87.macd2Days){D87.macd2Days=parseFloat(r87["Slow MA Period"]);}if(!D87.signalDays){D87.signalDays=parseFloat(r87[f3l]);}if(!D87.days){D87.days=Math.max(D87.macd1Days,D87.macd2Days,D87.signalDays);}if(Z87.length < D87.days + 1){D87.error=! !{};return;}o87=D87.inputs.Field;if(!o87 || o87 == s3l){o87=U3l;}p5n.j0n();q87=r87["Moving Average Type"];if(!q87){q87="exponential";}z87.Studies.MA(q87,D87.macd1Days,o87,0,"_MACD1",U87,D87);z87.Studies.MA(q87,D87.macd2Days,o87,0,R3l,U87,D87);L87=Math.max(D87.startFrom,D87.days - +"1");for(J87=L87;J87 < Z87.length;J87++){V3l="_MACD2";V3l+=" ";u3l="_MA";u3l+="CD1 ";K3l="_";K3l+="MAC";K3l+="D";K3l+="1 ";G87=Z87[J87];if((G87[K3l + j87] || G87["_MACD1 " + j87] === 0) && (G87["_MACD2 " + j87] || G87["_MACD2 " + j87] === 0)){p5n.f2d(2);G87[p5n.N2d(j87,"MACD ")]=G87[u3l + j87] - G87[V3l + j87];}}u87=r87["Signal MA Type"];if(!u87){u87=x3l;}z87.Studies.MA(u87,D87.signalDays,"MACD " + j87,0,p3l,U87,D87);p5n.f2d(2);w87=p5n.N2d(w3l,j87);for(J87=L87;J87 < Z87.length;J87++){I3l="Sig";I3l+="nal ";W3l="Sig";W3l+="nal ";G87=Z87[J87];p5n.o2d(2);M87=G87[p5n.c2d(j87,W3l)];if(!M87 && M87 !== 0)continue;G87[w87]=G87["MACD " + j87] - G87[I3l + j87];}D87.outputMap[w87]="";};z87.Studies.studyLibrary=z87.extend(z87.Studies.studyLibrary,{macd:{name:q3l,calculateFN:z87.Studies.calculateMACD,seriesFN:z87.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":"12" * 1,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};j7V=O87=>{var y87;y87=typeof _CIQ !== "undefined"?_CIQ:O87.CIQ;if(!y87.Studies){console.error("massIndex feature requires first activating studies feature.");}else {y87.Studies.calculateMassIndex=function(v87,S87){var C5n=x288;C5n.r0n();var Y3l,c3l,f87,W87,H3l;Y3l="_";Y3l+="High-Low ";c3l="e";c3l+="xp";c3l+="onenti";c3l+="al";f87=S87.chart.scrubbed;if(f87.length < Math.max(+"9",S87.days + 1)){S87.error=! !{};return;}for(var t87=S87.startFrom;t87 < f87.length;t87++){f87[t87]["_High-Low " + S87.name]=f87[t87].High - f87[t87].Low;}y87.Studies.MA(c3l,9,Y3l + S87.name,0,"_EMA",v87,S87);y87.Studies.MA("exponential",+"9","_EMA " + S87.name,"0" * 1,"_EMA2",v87,S87);W87=0;if(f87[S87.startFrom - ("1" ^ 0)] && f87[S87.startFrom - 1]["_total " + S87.name]){C5n.f2d(7);var G6R=C5n.N2d(12,13);W87=f87[S87.startFrom - G6R]["_total " + S87.name];}for(var l87=Math.max(17,S87.startFrom);l87 < f87.length;l87++){W87+=f87[l87]["_EMA " + S87.name] / f87[l87]["_EMA2 " + S87.name];if(l87 >= 17 + S87.days - 1){H3l="_";H3l+="EM";H3l+="A2 ";f87[l87]["Result " + S87.name]=W87;C5n.o2d(127);var b6R=C5n.N2d(7,11,17);C5n.o2d(5);var F6R=C5n.N2d(20,3,18);W87-=f87[l87 - S87.days + b6R]["_EMA " + S87.name] / f87[l87 - S87.days + F6R][H3l + S87.name];}f87[l87]["_total " + S87.name]=W87;}};y87.Studies.displayMassIndex=function(Q87,Y87,x97){var i97,e97,A97,B97,h97;y87.Studies.displaySeriesAsLine(Q87,Y87,x97);x288.r0n();i97=Y87.inputs["Bulge Threshold"];e97=Q87.panels[Y87.panel];A97=Y87.getYAxis(Q87);B97=y87.Studies.determineColor(Y87.outputs.Result);h97={skipTransform:Q87.panels[Y87.panel].name != Y87.chart.name,panelName:Y87.panel,band:"Result " + Y87.name,threshold:i97,direction:1,color:B97,yAxis:A97,opacity:0.3};if(!Y87.highlight && Q87.highlightedDraggable){x288.o2d(19);h97.opacity*=x288.c2d(1,"0.3");}y87.preparePeakValleyFill(Q87,h97);y87.Studies.drawHorizontal(Q87,Y87,null,i97,A97,B97);};y87.Studies.studyLibrary=y87.extend(y87.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:y87.Studies.displayMassIndex,calculateFN:y87.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:+"35",step:0.1}}}});}};G7V=b97=>{var S3l,C97;S3l="un";x288.r0n();S3l+="defined";C97=typeof _CIQ !== S3l?_CIQ:b97.CIQ;if(!C97.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {C97.Studies.calculateMoneyFlowIndex=function(k97,p97){var s5n=x288;var k3l,T97,g97,H97,s97,m97,n97,c97,X97,R97,a97,P97;k3l="_";k3l+="cu";k3l+="mM";k3l+="F ";T97=p97.chart.scrubbed;if(T97.length < p97.days + 1){p97.error=! !{};return;}g97=+"0";H97=0;s5n.f2d(36);var L6R=s5n.N2d(9,18,161);s97=T97[p97.startFrom - L6R];m97="_rawMF " + p97.name;n97=k3l + p97.name;s5n.j0n();c97="Result " + p97.name;if(s97 && s97[n97]){g97=s97[n97][0];H97=s97[n97][1];}for(var I97=p97.startFrom;I97 < T97.length;I97++){X97=T97[I97]["hlc/3"];if(I97 > 0 && !T97[I97].futureTick){s5n.o2d(7);R97=T97[s5n.c2d(1,I97)]["hlc/3"];a97=X97 * T97[I97].Volume;if(X97 > R97){g97+=a97;}else if(X97 < R97){s5n.o2d(8);a97*=-s5n.c2d(0,"1");H97-=a97;}else {a97=0;}if(I97 > p97.days){P97=T97[I97 - p97.days][m97];if(P97 > 0){g97-=P97;}else {H97+=P97;}if(H97 === 0){T97[I97][c97]=100;}else if(T97[I97].Volume){s5n.f2d(136);T97[I97][c97]=s5n.c2d(100,100,H97,g97,1);}}T97[I97][m97]=a97;T97[I97][n97]=[g97,H97];}}};C97.Studies.studyLibrary=C97.extend(C97.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:C97.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};J7V=K97=>{var j6l,V97,U6l,v6l,o6l,J6l,a6l,D6l,L6l,F6l,r6l,P6l,A6l,z6l,h6l;j6l="und";j6l+="ef";j6l+="ine";j6l+="d";V97=typeof _CIQ !== j6l?_CIQ:K97.CIQ;if(!V97.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {U6l="a";U6l+="u";U6l+="to";v6l="Hi";v6l+="gh Low Bands";o6l="#FF000";o6l+="0";J6l="#00";J6l+="DD00";a6l="m";a6l+="a";D6l="m";D6l+="a";L6l="fie";L6l+="ld";F6l="M";F6l+="ovin";F6l+="g Average Envel";F6l+="ope";r6l="H";r6l+="u";r6l+="ll";P6l="Hu";P6l+="ll";A6l="3-expone";A6l+="ntia";A6l+="l";z6l="h";z6l+="m";z6l+="a";h6l="d";h6l+="e";h6l+="m";h6l+="a";V97.Studies.prettify=V97.extend({"2-exponential":h6l,"3-exponential":"tema",hull:z6l},V97.Studies.prettify);V97.extend(V97.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:A6l},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:P6l,hull:r6l,dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});V97.Studies.calculateMovingAverageHull=function(J97,E97){var L5n=x288;var N6l,d97,z97,F97,N97,d6l,T6l,D97,j97,Z97,G97;N6l="fi";N6l+="e";N6l+="l";N6l+="d";d97=E97.chart.scrubbed;z97=E97.inputs.Field;if(!z97 || z97 == N6l){z97="Close";}L5n.j0n();V97.Studies.MA("wma",E97.days,z97,0,"_WMA1",J97,E97);V97.Studies.MA("wma",Math.ceil(E97.days / 2),z97,+"0","_WMA2",J97,E97);for(F97=E97.startFrom - 1;F97 >= 0;F97--){d6l="o";d6l+="bje";d6l+="c";d6l+="t";N97=d97[F97][z97];if(N97 && typeof N97 == d6l){N97=N97[E97.subField];}if(N97 || N97 === 0)break;}for(F97++;F97 < d97.length;F97++){T6l="_WMA";T6l+="2 ";D97=d97[F97];L5n.o2d(7);var D6R=L5n.N2d(18,20);D97["_MMA " + E97.name]=D6R * D97[T6l + E97.name] - D97["_WMA1 " + E97.name];}j97=parseInt(E97.inputs.Offset,10);if(isNaN(j97)){j97=0;}Z97=Math.floor(Math.sqrt(E97.days));V97.Studies.MA("wma",Z97,"_MMA " + E97.name,j97,"_HMA",J97,E97);G97=E97.name;for(var r97 in E97.outputs){L5n.o2d(88);G97=L5n.N2d(r97,(1300,1780) <= (780.04,"638" ^ 0)?! !{}:" ",G97);}for(F97=Math.max(E97.days + Z97 - 1,E97.startFrom);F97 < d97.length;F97++){d97[F97][G97]=d97[F97]["_HMA " + E97.name];}};V97.Studies.calculateMovingAverageDoubleExponential=function(y97,o97){var B5n=x288;var X6l,Q6l,i6l,L97,w97,u97,q97,U97,O97,C6l,M97,S97,E6l,f97,l97,t97;X6l="_E";X6l+="MA2";Q6l="_EM";Q6l+="A1 ";i6l="_E";i6l+="MA1";L97=o97.chart.scrubbed;w97=o97.inputs.Field;if(!w97 || w97 == "field"){w97="Close";}V97.Studies.MA("ema",o97.days,w97,0,i6l,y97,o97);V97.Studies.MA("ema",o97.days,Q6l + o97.name,0,X6l,y97,o97);u97=parseInt(o97.inputs.Offset,10);if(isNaN(u97)){u97=0;}O97=u97;for(q97=o97.startFrom - 1;q97 >= 0;q97--){C6l="ob";C6l+="ject";U97=L97[q97][w97];if(U97 && typeof U97 == C6l){U97=U97[o97.subField];}if(!U97 && U97 !== 0)continue;if(O97 > 0){O97--;continue;}break;}M97=o97.name;for(var W97 in o97.outputs){B5n.f2d(88);M97=B5n.N2d(W97,5690 <= (6066,4724)?9869 === (638.22,6210)?! !{}:4050 == ("7580" ^ 0)?("G","U"):(264.61,+"0x1f69"):" ",M97);}S97=[];for(q97++;q97 < L97.length;q97++){E6l="_E";E6l+="MA";E6l+="1 ";if(q97 < 2 * (o97.days - 1))continue;f97=L97[q97];B5n.f2d(36);var a6R=B5n.c2d(17,8,134);l97=a6R * f97[E6l + o97.name] - f97["_EMA2 " + o97.name];if(q97 + u97 >= 0){if(q97 + u97 < L97.length){B5n.o2d(2);L97[B5n.N2d(u97,q97)][M97]=l97;}else {t97={};t97[M97]=l97;S97.push(t97);}}}o97.appendFutureTicks(y97,S97);};V97.Studies.calculateMovingAverageTripleExponential=function(x0x,v97){var Z5n=x288;var e6l,l6l,y6l,m6l,A0x,B0x,Q97,Y97,i0x,C0x,h0x,b0x,B6l,g6l,e0x,I0x,T0x;e6l="_E";e6l+="MA3";Z5n.r0n();l6l="_";l6l+="E";l6l+="MA2";l6l+=" ";y6l="_EMA";y6l+="1";m6l="f";m6l+="i";m6l+="el";m6l+="d";A0x=v97.chart.scrubbed;B0x=v97.inputs.Field;if(!B0x || B0x == m6l){B0x="Close";}V97.Studies.MA("ema",v97.days,B0x,0,y6l,x0x,v97);V97.Studies.MA("ema",v97.days,"_EMA1 " + v97.name,0,"_EMA2",x0x,v97);V97.Studies.MA("ema",v97.days,l6l + v97.name,0,e6l,x0x,v97);Q97=parseInt(v97.inputs.Offset,+"10");if(isNaN(Q97)){Z5n.o2d(8);Q97=Z5n.N2d(0,"0");}C0x=Q97;for(Y97=v97.startFrom - 1;Y97 >= ("0" & 2147483647);Y97--){i0x=A0x[Y97][B0x];if(i0x && typeof i0x == "object"){i0x=i0x[v97.subField];}if(!i0x && i0x !== 0)continue;if(C0x > 0){C0x--;continue;}break;}h0x=v97.name;for(var p0x in v97.outputs){Z5n.o2d(88);h0x=Z5n.N2d(p0x," ",h0x);}b0x=[];for(Y97++;Y97 < A0x.length;Y97++){B6l="_EMA3";B6l+=" ";g6l="_EM";g6l+="A";g6l+="1 ";if(Y97 < 3 * (v97.days - +"1"))continue;e0x=A0x[Y97];Z5n.f2d(16);var J6R=Z5n.c2d(12,17,4,12);Z5n.o2d(7);var o6R=Z5n.c2d(45,48);I0x=J6R * e0x[g6l + v97.name] - o6R * e0x["_EMA2 " + v97.name] + e0x[B6l + v97.name];if(Y97 + Q97 >= +"0"){if(Y97 + Q97 < A0x.length){Z5n.f2d(2);A0x[Z5n.c2d(Q97,Y97)][h0x]=I0x;}else {T0x={};T0x[h0x]=I0x;b0x.push(T0x);}}}v97.appendFutureTicks(x0x,b0x);};V97.Studies.calculateMAEnvelope=function(n0x,H0x){var M6l,t6l,Z6l,O6l,g0x,a0x,s0x,n6l;M6l="pe";M6l+="r";M6l+="ce";M6l+="nt";t6l="Shift ";t6l+="Type";Z6l="M";x288.r0n();Z6l+="A";O6l="Moving Aver";O6l+="a";O6l+="g";O6l+="e Type";g0x=H0x.inputs.Field;if(!g0x || g0x == "field"){g0x="Close";}V97.Studies.MA(H0x.inputs[O6l],H0x.days,g0x,0,Z6l,n0x,H0x);a0x=H0x.inputs[t6l];s0x=H0x.inputs.Shift;if(!a0x){a0x="percent";s0x=H0x.inputs["Shift Percentage"];}if(a0x == M6l){n6l="M";n6l+="A";n6l+=" ";x288.o2d(12);V97.Studies.calculateGenericEnvelope(n0x,H0x,x288.N2d(s0x,100),n6l + H0x.name);}else if(a0x == "points"){V97.Studies.calculateGenericEnvelope(n0x,H0x,null,"MA " + H0x.name,null,Number(s0x));}};V97.Studies.calculateMADev=function(d0x,X0x){var P5n=x288;var k0x,m0x,V0x,K0x,F0x,G6l,c0x,P0x,R0x,b6l;k0x=X0x.chart.scrubbed;if(k0x.length < X0x.days + 1){X0x.error=! ![];return;}m0x=X0x.inputs.Field;if(!m0x || m0x == "field"){m0x="Close";}V0x=X0x.inputs["Points Or Percent"];if(!V0x){V0x="Points";}K0x=X0x.inputs["Moving Average Type"];if(!K0x){K0x="exponential";}V97.Studies.MA(K0x,X0x.days,m0x,"0" - 0,"_MA",d0x,X0x);F0x=X0x.name + "_hist";for(var E0x=Math.max(X0x.startFrom,X0x.days - 1);E0x < k0x.length;E0x++){G6l="o";G6l+="bjec";G6l+="t";c0x=k0x[E0x];P0x=c0x[m0x];if(P0x && typeof P0x == G6l){P0x=P0x[X0x.subField];}R0x=c0x["_MA " + X0x.name];if(R0x || R0x === 0){b6l="Po";b6l+="i";b6l+="n";b6l+="ts";if(V0x == b6l){P5n.f2d(7);c0x[F0x]=P5n.c2d(R0x,P0x);}else {P5n.f2d(137);c0x[F0x]=P5n.c2d(P0x,R0x,100,1);}}}X0x.outputMap={};X0x.outputMap[X0x.name + "_hist"]="";};V97.Studies.studyLibrary=V97.extend(V97.Studies.studyLibrary,{"MA Env":{name:F6l,overlay:! ![],seriesFN:V97.Studies.displayChannel,calculateFN:V97.Studies.calculateMAEnvelope,inputs:{Period:50,Field:L6l,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":D6l,"Channel Fill":! !1},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:V97.Studies.calculateMADev,seriesFN:V97.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":a6l,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":J6l,"Decreasing Bar":o6l}},"High Low":{name:v6l,overlay:! !{},seriesFN:V97.Studies.displayChannel,calculateFN:function(N0x,z0x){var s6l,f6l;s6l="t";s6l+="ria";s6l+="ngu";s6l+="lar";f6l="Moving ";f6l+="Averag";f6l+="e Type";z0x.inputs[f6l]=s6l;V97.Studies.calculateMAEnvelope(N0x,z0x);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":U6l},attributes:{"Shift Percentage":{min:"0.1" * 1,step:0.1}}}});}};Z7V=j0x=>{var R6l,D0x,x6l;R6l="u";R6l+="ndefined";D0x=typeof _CIQ !== R6l?_CIQ:j0x.CIQ;if(!D0x.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {x6l="P";x6l+="arab";x6l+="olic SA";x6l+="R";D0x.Studies.calculatePSAR=function(f0x,o0x){var c5n=x288;var K6l,G0x,q0x,Z0x,u0x,r0x,w0x,M0x,u6l,Q4W,X4W,C4W,U0x,V6l,L0x,y0x,O0x;K6l="Mi";K6l+="nimum";K6l+=" AF";G0x=o0x.chart.scrubbed;function S0x(){q0x=0;Z0x=null;u0x=!u0x;}q0x=0;Z0x=null;u0x=! !"";r0x=0;w0x=parseFloat(o0x.inputs[K6l]);M0x=parseFloat(o0x.inputs["Maximum AF"]);if(o0x.startFrom > 0){u6l="R";u6l+="esult ";c5n.f2d(138);var v6R=c5n.c2d(9,19,18,18,25);r0x=G0x[o0x.startFrom - v6R][u6l + o0x.name];c5n.o2d(3);Q4W=c5n.N2d(2052330912,"709075520");c5n.f2d(3);X4W=c5n.c2d(295149376,"1838114835");C4W=2;for(var m4W="1" | 1;c5n.a9W(m4W.toString(),m4W.toString().length,37657) !== Q4W;m4W++){c5n.o2d(88);var f6R=c5n.c2d(1159410998,6,4);U0x=G0x[o0x.startFrom * ("4" >> f6R)]["" % o0x.name];C4W+=2;}if(c5n.J9W(C4W.toString(),C4W.toString().length,15632) !== X4W){U0x=G0x[o0x.startFrom + 6]["" - o0x.name];}c5n.f2d(139);var s6R=c5n.c2d(18,17,14,14);U0x=G0x[o0x.startFrom - s6R]["_state " + o0x.name];if(U0x && U0x.length == 3){q0x=U0x[0];Z0x=U0x[1];u0x=U0x[2];}}for(var J0x=o0x.startFrom - 1;J0x < G0x.length - 1;J0x++){V6l="_st";V6l+="ate ";if(J0x < 0)continue;if(G0x[J0x].futureTick)break;L0x=r0x;if(u0x){if(!Z0x || Z0x < G0x[J0x].High){Z0x=G0x[J0x].High;c5n.f2d(2);q0x=Math.min(c5n.c2d(w0x,q0x),M0x);}c5n.f2d(140);r0x=c5n.N2d(Z0x,L0x,L0x,q0x);y0x=Math.min(G0x[Math.max(1,J0x) - 1].Low,G0x[J0x].Low);if(r0x > G0x[J0x + 1].Low){r0x=Z0x;S0x();}else if(r0x > y0x){r0x=y0x;}}else {if(!Z0x || Z0x > G0x[J0x].Low){Z0x=G0x[J0x].Low;c5n.o2d(2);q0x=Math.min(c5n.c2d(w0x,q0x),M0x);}c5n.o2d(140);r0x=c5n.c2d(Z0x,L0x,L0x,q0x);O0x=Math.max(G0x[Math.max(1,J0x) - 1].High,G0x[J0x].High);if(r0x < G0x[J0x + 1].High){r0x=Z0x;S0x();}else if(r0x < O0x){r0x=O0x;}}c5n.f2d(2);G0x[c5n.N2d(1,J0x)][V6l + o0x.name]=[q0x,Z0x,u0x];if(!isNaN(G0x[J0x].High) || !isNaN(G0x[J0x].Low)){c5n.f2d(2);G0x[c5n.N2d(1,J0x)]["Result " + o0x.name]=r0x;}}};D0x.Studies.studyLibrary=D0x.extend(D0x.Studies.studyLibrary,{PSAR:{name:x6l,overlay:!0,calculateFN:D0x.Studies.calculatePSAR,seriesFN:D0x.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};r7V=t0x=>{var p6l,l0x,C0l,X0l,Q0l;p6l="undefin";p6l+="e";p6l+="d";l0x=typeof _CIQ !== p6l?_CIQ:t0x.CIQ;if(!l0x.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {C0l="#";C0l+="69";C0l+="9158";X0l="fibonac";X0l+="ci";Q0l="P";Q0l+="ivot";Q0l+=" Poi";Q0l+="nts";l0x.Studies.calculatePivotPoints=function(B1x,Q0x){var M5n=x288;var c6l,q6l,I6l,W6l,w6l,v0x,i1x,A1x,e1x,C1x,h1x,b1x,W0x,H6l,Y6l,I1x,T1x,S6l,h0l,j0l,k6l;c6l="mil";c6l+="lisecond";q6l="s";q6l+="ec";q6l+="ond";I6l="mi";I6l+="llise";I6l+="con";I6l+="d";W6l="sec";W6l+="o";W6l+="n";W6l+="d";w6l="da";M5n.j0n();w6l+="y";v0x=Q0x.chart.scrubbed;i1x=w6l;A1x=B1x.layout.interval;e1x=B1x.layout.timeUnit;if(A1x == "day"){i1x="month";}else if(l0x.ChartEngine.isDailyInterval(A1x)){i1x="year";}else if(A1x == W6l || A1x == I6l || e1x == q6l || e1x == c6l){i1x="15min";}else {C1x=B1x.layout.periodicity;if(A1x != "minute"){C1x*=A1x;}if(C1x >= 30){i1x="week";}}function x1x(){M5n.j0n();M5n.o2d(141);var U6R=M5n.c2d(6,0,5,5,5);M5n.o2d(142);var R6R=M5n.N2d(9,1346,20,11,17);W0x.pivotPoint=(W0x.high + W0x.low + v0x[Y0x - U6R].Close) / R6R;W0x.prevHigh=W0x.high;W0x.prevLow=W0x.low;W0x.hlSpread=W0x.high - W0x.low;W0x.high=W0x.low=0;}h1x=null;b1x=+"7" - l0x.getFromNS(B1x.chart,"market.beginningDayOfWeek",0);W0x={pivotPoint:NaN,high:"0" << 344822848,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(Q0x.startFrom > 1 && v0x[Q0x.startFrom - 1]["_pointers " + Q0x.name]){W0x=l0x.clone(v0x[Q0x.startFrom - ("1" - 0)]["_pointers " + Q0x.name]);}for(var Y0x=Math.max(1,Q0x.startFrom);Y0x < v0x.length;Y0x++){H6l="d";H6l+="a";H6l+="y";Y6l="m";Y6l+="on";Y6l+="t";Y6l+="h";if(!v0x[Y0x - 1])continue;W0x.high=Math.max(W0x.high,v0x[Y0x - 1].High);W0x.low=Math.min(W0x.low > 0?W0x.low:v0x[Y0x - 1].Low,v0x[Y0x - 1].Low);if(Q0x.inputs.Continuous){x1x();}else if(i1x == "year" && v0x[Y0x].DT.getYear() != v0x[Y0x - ("1" >> 900739424)].DT.getYear()){x1x();}else if(i1x == Y6l && v0x[Y0x].DT.getMonth() != v0x[Y0x - 1].DT.getMonth()){x1x();}else if(i1x == "week" && (v0x[Y0x].DT.getDay() + b1x) % 7 < (v0x[Y0x - 1].DT.getDay() + b1x) % 7){x1x();}else if(i1x == H6l){if(h1x === null){h1x=l0x.Studies.getMarketOffset({stx:B1x,localQuoteDate:v0x[Y0x].DT,shiftToDateBoundary:! !1});}I1x=new Date(new Date(+v0x[Y0x].DT).setMilliseconds(v0x[Y0x].DT.getMilliseconds() + h1x));T1x=new Date(new Date(+v0x[Y0x - 1].DT).setMilliseconds(v0x[Y0x - 1].DT.getMilliseconds() + h1x));if(T1x.getDate() !== I1x.getDate() && T1x.getDay() !== 0 && B1x.chart.market.isMarketDate(I1x)){h1x=null;x1x();}}else if(i1x == "15min" && (v0x[Y0x].DT.getHours() != v0x[Y0x - 1].DT.getHours() || Math.floor(v0x[Y0x].DT.getMinutes() / +"15") != Math.floor(v0x[Y0x - 1].DT.getMinutes() / 15))){x1x();}v0x[Y0x]["Pivot " + Q0x.name]=W0x.pivotPoint;if(Q0x.inputs.Type.toLowerCase() == "fibonacci"){S6l="Suppor";S6l+="t 3 ";v0x[Y0x]["Resistance 1 " + Q0x.name]=W0x.pivotPoint + 0.382 * W0x.hlSpread;v0x[Y0x]["Resistance 2 " + Q0x.name]=W0x.pivotPoint + 0.618 * W0x.hlSpread;v0x[Y0x]["Resistance 3 " + Q0x.name]=W0x.pivotPoint + W0x.hlSpread;v0x[Y0x]["Support 1 " + Q0x.name]=W0x.pivotPoint - +"0.382" * W0x.hlSpread;v0x[Y0x]["Support 2 " + Q0x.name]=W0x.pivotPoint - 0.618 * W0x.hlSpread;v0x[Y0x][S6l + Q0x.name]=W0x.pivotPoint - W0x.hlSpread;}else {h0l="Suppor";h0l+="t 1 ";j0l="Resista";j0l+="n";j0l+="ce";j0l+=" 2 ";k6l="R";k6l+="esista";k6l+="nce";k6l+=" 1 ";M5n.o2d(82);var K6R=M5n.c2d(0,6,6,14);v0x[Y0x][k6l + Q0x.name]=K6R * W0x.pivotPoint - W0x.prevLow;v0x[Y0x][j0l + Q0x.name]=W0x.pivotPoint + W0x.hlSpread;M5n.f2d(2);var u6R=M5n.c2d(1,1);v0x[Y0x]["Resistance 3 " + Q0x.name]=W0x.prevHigh + u6R * (W0x.pivotPoint - W0x.prevLow);M5n.f2d(108);var V6R=M5n.c2d(7,0,2,5,5);v0x[Y0x][h0l + Q0x.name]=V6R * W0x.pivotPoint - W0x.prevHigh;v0x[Y0x]["Support 2 " + Q0x.name]=W0x.pivotPoint - W0x.hlSpread;M5n.o2d(33);var x6R=M5n.N2d(2,4);v0x[Y0x]["Support 3 " + Q0x.name]=W0x.prevLow - x6R * (W0x.prevHigh - W0x.pivotPoint);}v0x[Y0x]["_pointers " + Q0x.name]=l0x.clone(W0x);}};l0x.Studies.displayPivotPoints=function(H1x,p1x,s1x){var i0l,T0l,d0l,N0l,r0l,P0l,A0l,z0l,a1x,g1x;p1x.noSlopes=!p1x.inputs.Continuous;x288.j0n();l0x.Studies.displaySeriesAsLine(H1x,p1x,s1x);if(p1x.inputs.Shading){i0l="S";i0l+="up";i0l+="port 2 ";T0l="Supp";T0l+="o";T0l+="rt ";T0l+="3 ";d0l="Supp";d0l+="ort 1 ";N0l="Supp";N0l+="ort ";N0l+="2 ";r0l="Su";r0l+="ppo";r0l+="rt 1 ";P0l="Resista";P0l+="nce 1 ";A0l="R";A0l+="esis";A0l+="tance";A0l+=" 2 ";z0l="Re";z0l+="sis";z0l+="tance ";z0l+="3 ";a1x=H1x.panels[p1x.panel];g1x={noSlopes:p1x.noSlopes,opacity:p1x.parameters.opacity?p1x.parameters.opacity:0.2,skipTransform:a1x.name != p1x.chart.name,yAxis:p1x.getYAxis(H1x)};if(!p1x.highlight && H1x.highlightedDraggable){g1x.opacity*=0.3;}l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:z0l + p1x.name,bottomBand:"Resistance 2 " + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Resistance 3"])},g1x));l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:A0l + p1x.name,bottomBand:"Resistance 1 " + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Resistance 2"])},g1x));l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:P0l + p1x.name,bottomBand:"Pivot " + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Resistance 1"])},g1x));l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:r0l + p1x.name,bottomBand:"Pivot " + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Support 1"])},g1x));l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:N0l + p1x.name,bottomBand:d0l + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Support 2"])},g1x));l0x.prepareChannelFill(H1x,l0x.extend({panelName:p1x.panel,topBand:T0l + p1x.name,bottomBand:i0l + p1x.name,color:l0x.Studies.determineColor(p1x.outputs["Support 3"])},g1x));}};l0x.Studies.studyLibrary=l0x.extend(l0x.Studies.studyLibrary,{"Pivot Points":{name:Q0l,overlay:! !{},seriesFN:l0x.Studies.displayPivotPoints,calculateFN:l0x.Studies.calculatePivotPoints,inputs:{Type:["standard",X0l],Continuous:!{},Shading:! !0},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":C0l,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};o7V=X1x=>{var R0n=x288;var E0l,n1x,m0l,B0l,A69,P69,r69,g0l;E0l="und";E0l+="efined";n1x=typeof _CIQ !== E0l?_CIQ:X1x.CIQ;if(!n1x.Studies){m0l="prettyGoodOscillator feature requires f";m0l+="irst activating studies feature.";console.error(m0l);}else {B0l="au";B0l+="to";n1x.Studies.calculatePrettyGoodOscillator=function(R1x,P1x){var e0l,l0l,y0l,m1x;e0l="C";e0l+="lo";e0l+="se";l0l="si";l0l+="m";l0l+="ple";y0l="t";y0l+="rueR";y0l+="a";y0l+="nge";m1x=P1x.chart.scrubbed;if(m1x.length < P1x.days + +"1"){P1x.error=! !"1";return;}n1x.Studies.MA("exponential",P1x.days,y0l,0,"_EMA",R1x,P1x);R0n.j0n();n1x.Studies.MA(l0l,P1x.days,e0l,0,"_SMA",R1x,P1x);for(var c1x=Math.max(1,P1x.startFrom);c1x < m1x.length;c1x++){if(!m1x[c1x]["_SMA " + P1x.name] || !m1x[c1x]["_EMA " + P1x.name])continue;m1x[c1x]["Result " + P1x.name]=(m1x[c1x].Close - m1x[c1x]["_SMA " + P1x.name]) / m1x[c1x]["_EMA " + P1x.name];}};R0n.o2d(69);A69=-R0n.N2d(0,"1221463333");P69=-1740229202;r69=2;for(var d69=1;R0n.a9W(d69.toString(),d69.toString().length,17090) !== A69;d69++){g0l="Pre";g0l+="tty";g0l+=" Go";g0l+="od";n1x.Studies.studyLibrary=n1x.extend(n1x.Studies.studyLibrary,{"Pretty Good":{name:g0l,calculateFN:n1x.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !"",studyOverBoughtValue:1,studyOverBoughtColor:"auto",studyOverSoldValue:+1,studyOverSoldColor:"Pretty Good"}}}});r69+=2;}if(R0n.a9W(r69.toString(),r69.toString().length,97107) !== P69){n1x.Studies.studyLibrary=n1x.extend(n1x.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good",calculateFN:n1x.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !"",studyOverBoughtValue:1,studyOverBoughtColor:"auto",studyOverSoldValue:+ +"1",studyOverSoldColor:"Pretty Good"}}}});}n1x.Studies.studyLibrary=n1x.extend(n1x.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:n1x.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:B0l}}}});}};q7V=V1x=>{var k1x,b0l,G0l;k1x=typeof _CIQ !== "undefined"?_CIQ:V1x.CIQ;x288.r0n();if(!k1x.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {b0l="0.";b0l+="05";G0l="#";G0l+="FF";G0l+="00";G0l+="00";k1x.Studies.calculatePMO=function(N1x,K1x){var j5n=x288;var n0l,M0l,t0l,O0l,d1x,E1x,g69,B69,O69,z1x,F1x,D1x,Z0l;n0l="P";n0l+="MO";n0l+=" ";M0l="exponenti";M0l+="al";t0l="_EM";t0l+="A";t0l+="x10";O0l="fie";O0l+="ld";d1x={Smooth:Number(K1x.inputs["Smoothing Period"]) - +"1",Double:Number(K1x.inputs["Double Smoothing Period"]) - 1,Signal:Number(K1x.inputs["Signal Period"])};E1x=K1x.chart.scrubbed;if(E1x.length < d1x.Smooth + d1x.Double){K1x.error=! ![];g69=- +"1973065633";B69=-67075985;O69=+"2";for(var t69=1;j5n.a9W(t69.toString(),t69.toString().length,76806) !== g69;t69++){return;}if(j5n.J9W(O69.toString(),O69.toString().length,"20292" >> 2023469952) !== B69){return;}}z1x=K1x.inputs.Field;if(!z1x || z1x == O0l){z1x="Close";}for(F1x=K1x.startFrom;F1x < E1x.length;F1x++){if(!E1x[F1x])continue;if(!E1x[F1x - +"1"])continue;j5n.f2d(7);D1x=E1x[j5n.c2d(1,F1x)][z1x];if(D1x){Z0l="_R";Z0l+="O";Z0l+="Cx";Z0l+="10 ";j5n.o2d(2);var p6R=j5n.N2d(165,27);j5n.f2d(120);var w6R=j5n.N2d(145,10,12,12,8);E1x[F1x][Z0l + K1x.name]=("1000" | p6R) * (E1x[F1x][z1x] / D1x - w6R);}}k1x.Studies.MA("exponential",d1x.Smooth,"_ROCx10 " + K1x.name,0,t0l,N1x,K1x);k1x.Studies.MA(M0l,d1x.Double,"_EMAx10 " + K1x.name,+"0","PMO",N1x,K1x);k1x.Studies.MA("exponential",d1x.Signal,n0l + K1x.name,0,"PMOSignal",N1x,K1x);K1x.zoneOutput="PMO";};k1x.Studies.studyLibrary=k1x.extend(k1x.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:k1x.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:G0l},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:b0l}}}});}};u7V=G1x=>{x288.j0n();var j1x,F0l,V0l,u0l,K0l,R0l;j1x=typeof _CIQ !== "undefined"?_CIQ:G1x.CIQ;if(!j1x.Studies){F0l="priceVo";F0l+="lumeOsc";F0l+="illator feature requires first activating st";F0l+="udies feature.";console.error(F0l);}else {V0l="0";V0l+=".";V0l+="1";u0l="f";u0l+="i";u0l+="el";u0l+="d";K0l="P";K0l+="ercent";R0l="Price";R0l+=" Os";R0l+="ci";R0l+="llator";j1x.Studies.calculatePriceOscillator=function(O1x,J1x){var r5n=x288;var a0l,D0l,L0l,U1x,y1x,L1x,r1x,o1x,w1x,Z1x,q1x,u1x,J0l;a0l="P";a0l+="ercen";a0l+="t";D0l="simpl";D0l+="e";L0l="Sh";L0l+="ort";L0l+=" Cycle";U1x=J1x.chart.scrubbed;y1x=Number(J1x.inputs[L0l]);L1x=Number(J1x.inputs["Long Cycle"]);if(U1x.length < Math.max(y1x,L1x) + 1){J1x.error=! ![];return;}r1x=J1x.inputs.Field;o1x=J1x.inputs["Moving Average Type"];if(!o1x){o1x=D0l;}if(!r1x || r1x == "field"){r1x="Close";}if(J1x.parameters.isVolume){r1x="Volume";o1x="exponential";}w1x=J1x.inputs["Points Or Percent"];if(!w1x){w1x=a0l;}r5n.f2d(7);j1x.Studies.MA(o1x,y1x,r1x,r5n.N2d(0,"0"),"_Short MA",O1x,J1x);j1x.Studies.MA(o1x,L1x,r1x,0,"_Long MA",O1x,J1x);for(var M1x=Math.max(L1x,J1x.startFrom);M1x < U1x.length;M1x++){Z1x=U1x[M1x];if(!Z1x)continue;q1x=Z1x["_Short MA " + J1x.name];u1x=Z1x["_Long MA " + J1x.name];if((q1x || q1x === 0) && (u1x || u1x === 0)){J0l="Po";J0l+="i";J0l+="nt";J0l+="s";if(w1x == J0l){r5n.f2d(7);Z1x["Result " + J1x.name]=r5n.N2d(u1x,q1x);}else {r5n.f2d(137);Z1x["Result " + J1x.name]=r5n.N2d(q1x,u1x,100,1);}if(J1x.outputs["Increasing Bar"]){Z1x[J1x.name + "_hist"]=Z1x["Result " + J1x.name];J1x.outputMap={};J1x.outputMap[J1x.name + "_hist"]="";}}}};j1x.Studies.displayRAVI=function(f1x,S1x,i2x){var q5n=x288;var v0l,o0l,Q1x,t1x,A2x,B2x,v1x,e2x,C2x,U0l,s0l,f0l,l1x,Y1x,h2x,x2x;v0l="st";v0l+="x_histog";v0l+="ra";v0l+="m";o0l="I";o0l+="ncreasi";o0l+="ng";o0l+=" Bar";Q1x=f1x.panels[S1x.panel];t1x=S1x.getContext(f1x);A2x=S1x.getYAxis(f1x);B2x=f1x.pixelFromPrice(0,Q1x,A2x);q5n.f2d(7);var W6R=q5n.c2d(14,16);v1x=f1x.layout.candleWidth - ("2" | W6R);if(v1x < 2){q5n.o2d(69);v1x=q5n.c2d(0,"1");}e2x=j1x.Studies.determineColor(S1x.outputs[o0l]);C2x=j1x.Studies.determineColor(S1x.outputs["Decreasing Bar"]);f1x.startClip(S1x.panel);f1x.canvasColor(v0l);if(!S1x.underlay){t1x.globalAlpha=+"1";}if(!S1x.highlight && f1x.highlightedDraggable){t1x.globalAlpha*=0.3;}for(var W1x=0;W1x < i2x.length;W1x++){U0l="_hi";U0l+="st";s0l="_";s0l+="h";s0l+="i";s0l+="st";f0l="_h";f0l+="i";f0l+="s";f0l+="t";l1x=i2x[W1x];q5n.f2d(7);Y1x=i2x[q5n.N2d(1,W1x)];if(!Y1x){Y1x=f1x.getPreviousBar(f1x.chart,S1x.name + f0l,W1x);}if(!l1x)continue;h2x=0;x2x=0;if(S1x.parameters && S1x.parameters.studyOverZonesEnabled){h2x=parseFloat(S1x.parameters.studyOverBoughtValue);x2x=parseFloat(S1x.parameters.studyOverSoldValue);}if(!Y1x){t1x.fillStyle="#CCCCCC";}else if(l1x[S1x.name + s0l] > h2x && Y1x[S1x.name + "_hist"] < l1x[S1x.name + "_hist"]){t1x.fillStyle=e2x;}else if(l1x[S1x.name + "_hist"] < x2x && Y1x[S1x.name + "_hist"] > l1x[S1x.name + "_hist"]){t1x.fillStyle=C2x;}else {t1x.fillStyle="#CCCCCC";}if(l1x.candleWidth){v1x=Math.floor(Math.max(1,l1x.candleWidth - 2));}t1x.fillRect(Math.floor(f1x.pixelFromBar(W1x,Q1x.chart) - v1x / 2),Math.floor(B2x),Math.floor(v1x),Math.floor(f1x.pixelFromPrice(l1x[S1x.name + U0l],Q1x,A2x) - B2x));}f1x.endClip();};j1x.Studies.studyLibrary=j1x.extend(j1x.Studies.studyLibrary,{"Price Osc":{name:R0l,calculateFN:j1x.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",K0l]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:j1x.Studies.calculatePriceOscillator,inputs:{"Short Cycle":"12" - 0,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:"RAVI",seriesFN:j1x.Studies.displayRAVI,calculateFN:j1x.Studies.calculatePriceOscillator,inputs:{Field:u0l,"Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"3" & 2147483647,studyOverBoughtColor:"auto",studyOverSoldValue:- +"3",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:V0l}}}});}};U7V=I2x=>{var b2x,W0l,w0l;b2x=typeof _CIQ !== "undefined"?_CIQ:I2x.CIQ;if(!b2x.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {W0l="au";W0l+="t";W0l+="o";w0l="-";w0l+="1 ";w0l+="t";w0l+="o 1";b2x.Studies.calculatePrimeNumber=function(V2x,g2x){var a2x,P2x,x0l,H2x,p2x,T2x,p0l,s2x,R2x,k2x;a2x=[];P2x=g2x.chart.scrubbed;function n2x(K2x){var F2x;if(K2x <= 0){return ! !"";}else if(K2x != Math.floor(K2x)){return ! !0;}else if(a2x[K2x] === ! ![] || a2x[K2x] === !{}){return a2x[K2x];}F2x=parseInt(Math.sqrt(K2x),10);for(var E2x=2;E2x <= F2x;E2x++){if(K2x % E2x === 0){a2x[K2x]=! !"";return !{};}}a2x[K2x]=! !"1";return ! !{};}for(var X2x=g2x.startFrom;X2x < P2x.length;X2x++){x0l="Prime";x0l+=" Number Band";x0l+="s";H2x=P2x[X2x];if(!H2x)continue;p2x=H2x.High;if(!isNaN(p2x)){for(var m2x=0;p2x > +"0" && p2x <= 10;m2x++){p2x*=10;}if(n2x(p2x)){p2x+=2;}p2x=Math.ceil(p2x);if(p2x % ("2" << 1009173888) === 0){p2x++;}while(!n2x(p2x)){p2x+=2;}x288.o2d(29);p2x/=Math.pow(x288.N2d(1065812800,"10"),m2x);}T2x=H2x.Low;if(!isNaN(T2x)){for(var c2x=0;T2x > 0 && T2x <= 10;c2x++){T2x*=10;}if(n2x(T2x)){T2x-=2;}T2x=Math.floor(T2x);if(T2x % +"2" === 0){T2x--;}if(T2x > 0){while(!n2x(T2x)){T2x-=2;}T2x/=Math.pow(10,c2x);}}if(g2x.type == x0l){if(!isNaN(p2x)){H2x["Prime Bands Top " + g2x.name]=p2x;}if(!isNaN(T2x)){H2x["Prime Bands Bottom " + g2x.name]=Math.max(+"0",T2x);}}else {p0l="Tolerance";p0l+=" Percentage";s2x=0;R2x=g2x.inputs[p0l] * (p2x - T2x) / ("100" ^ 0);k2x=p2x + T2x - +"2" * H2x.Close;if(k2x < R2x){s2x=+"1";}else if(k2x > R2x){s2x=-1;}if(s2x){H2x["Result " + g2x.name]=s2x;}}}};b2x.Studies.studyLibrary=b2x.extend(b2x.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:w0l,calculateFN:b2x.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:b2x.Studies.calculatePrimeNumber,seriesFN:b2x.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":W0l,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};L7V=z2x=>{var d2x,d1l,N1l,r1l;d2x=typeof _CIQ !== "undefined"?_CIQ:z2x.CIQ;if(!d2x.Studies){console.error("pring feature requires first activating studies feature.");}else {d1l="fiel";d1l+="d";N1l="Pring";N1l+="'s Spe";N1l+="cia";N1l+="l K";r1l="fiel";r1l+="d";d2x.Studies.calculateKST=function(q2x,N2x){var A5n=x288;var j1l,k0l,c0l,q0l,I0l,G2x,Z2x,J2x,r2x,u2x,j2x,D2x,S0l,H0l,Y0l,o2x;j1l="KSTSi";j1l+="gna";j1l+="l";k0l="K";k0l+="S";k0l+="T ";c0l="Light SM";c0l+="A Period";q0l="Hea";q0l+="viest Rate of";q0l+=" ";q0l+="Change Period";I0l="C";I0l+="l";I0l+="ose";G2x=N2x.chart.scrubbed;Z2x=N2x.inputs.Field;if(!Z2x || Z2x == "field"){Z2x=I0l;}J2x={};r2x={};J2x[1]=Number(N2x.inputs["Lightest Rate of Change Period"]);J2x[2]=Number(N2x.inputs["Light Rate of Change Period"]);A5n.f2d(51);J2x[A5n.c2d(2147483647,"3")]=Number(N2x.inputs["Heavy Rate of Change Period"]);J2x[4]=Number(N2x.inputs[q0l]);r2x[1]=Number(N2x.inputs["Lightest SMA Period"]);r2x[2]=Number(N2x.inputs[c0l]);r2x[3]=Number(N2x.inputs["Heavy SMA Period"]);A5n.j0n();r2x[4]=Number(N2x.inputs["Heaviest SMA Period"]);u2x=Number(N2x.inputs["Signal Period"]);for(j2x=N2x.startFrom;j2x < G2x.length;j2x++){if(!G2x[j2x])continue;for(D2x=1;D2x <= 4;D2x++){if(j2x >= J2x[D2x] && G2x[j2x - J2x[D2x]] && G2x[j2x - J2x[D2x]][Z2x]){A5n.o2d(2);var I6R=A5n.N2d(4,7988);A5n.f2d(82);var q6R=A5n.c2d(1975,2,11,3963);A5n.o2d(109);var c6R=A5n.c2d(1,11930,4,46527);A5n.f2d(143);var Y6R=A5n.N2d(6620,92380,19,15);A5n.o2d(68);var H6R=A5n.N2d(3510,1763,3526);A5n.f2d(72);var S6R=A5n.c2d(94,94,47,4);A5n.f2d(111);var k6R=A5n.c2d(8,20,1,18,7);G2x[j2x]["_ROC" + D2x + (I6R !== q6R?(c6R,Y6R) != H6R?" ":("x",! ![]):"F") + N2x.name]=S6R * (G2x[j2x][Z2x] / G2x[j2x - J2x[D2x]][Z2x] - k6R);}}}for(D2x=1;D2x <= 4;D2x++){S0l="_";S0l+="S";S0l+="M";S0l+="A";H0l="_R";H0l+="O";H0l+="C";Y0l="sim";Y0l+="pl";Y0l+="e";d2x.Studies.MA(Y0l,r2x[D2x],H0l + D2x + ("525" << 42430880 < ("771" * 1,949.45)?" ":1132 < 4283?4250 >= (+"467.49",241.26)?"F":(+"779.79",1.65e+3):(7.19e+3,0x248b)) + N2x.name,0,S0l + D2x,q2x,N2x);}for(j2x=N2x.startFrom;j2x < G2x.length;j2x++){G2x[j2x]["KST " + N2x.name]=null;for(D2x=1;D2x <= 4;D2x++){A5n.f2d(7);var j0R=A5n.N2d(16,3460);A5n.f2d(30);var h0R=A5n.N2d(5054,5037,1679,17);o2x=G2x[j2x]["_SMA" + D2x + (j0R === h0R?! !{}:" ") + N2x.name];if(o2x || o2x === 0){A5n.f2d(19);G2x[j2x]["KST " + N2x.name]+=A5n.N2d(o2x,D2x);}}}d2x.Studies.MA("simple",u2x,k0l + N2x.name,+"0",j1l,q2x,N2x);};d2x.Studies.calculateSpecialK=function(t2x,y2x){var F5n=x288;var h1l,w2x,O2x,M2x,S2x,f2x,L2x,U2x,A1l,z1l,P1l,l2x;h1l="d";h1l+="ai";F5n.r0n();h1l+="l";h1l+="y";w2x=y2x.chart.scrubbed;O2x=y2x.inputs.Field;if(!O2x || O2x == "field"){O2x="Close";}M2x=y2x.inputs.Interval;if(!M2x){M2x=h1l;}S2x={daily:[+"10",15,20,30,"50" & 2147483647,65,75,100,195,265,390,530],weekly:[4,+"5",6,"8" >> 1191862944,+"10","13" >> 428359776,15,20,39,52,78,+"104"]};f2x={daily:[10,"10" << 644252672,10,15,50,65,75,100,130,130,"130" ^ 0,195],weekly:["4" >> 2037288928,+"5",6,8,10,"13" | 1,+"15",20,26,26,26,39]};for(L2x=y2x.startFrom;L2x < w2x.length;L2x++){if(!w2x[L2x])continue;for(U2x="0" >> 1578377024;U2x < S2x[M2x].length;U2x++){if(L2x >= S2x[M2x][U2x] && w2x[L2x - S2x[M2x][U2x]] && w2x[L2x - S2x[M2x][U2x]][O2x]){F5n.o2d(44);var z0R=F5n.c2d(3,20,65299,190854);F5n.f2d(2);var A0R=F5n.c2d(8,92);F5n.o2d(10);var P0R=F5n.c2d(9,5,13,0);w2x[L2x]["_ROC" + U2x + ((797.97,828.75) >= (z0R,+"8502")?("7.22e+3" & 2147483647,!0):" ") + y2x.name]=A0R * (w2x[L2x][O2x] / w2x[L2x - S2x[M2x][U2x]][O2x] - P0R);}}}for(U2x=0;U2x < f2x[M2x].length;U2x++){A1l="expon";A1l+="e";A1l+="nt";A1l+="ial";z1l="si";z1l+="m";z1l+="p";z1l+="le";d2x.Studies.MA(M2x == "daily"?z1l:A1l,f2x[M2x][U2x],"_ROC" + U2x + " " + y2x.name,"0" & 2147483647,"_MA" + U2x,t2x,y2x);}for(L2x=y2x.startFrom;L2x < w2x.length;L2x++){P1l="R";P1l+="e";P1l+="sult";P1l+=" ";w2x[L2x][P1l + y2x.name]=null;for(U2x=0;U2x < f2x[M2x].length;U2x++){l2x=w2x[L2x]["_MA" + U2x + " " + y2x.name];if(l2x || l2x === 0){F5n.f2d(144);w2x[L2x]["Result " + y2x.name]+=F5n.c2d(1,U2x,l2x,4);}}}};d2x.Studies.studyLibrary=d2x.extend(d2x.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:d2x.Studies.calculateKST,inputs:{Field:r1l,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":"15" - 0,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:N1l,calculateFN:d2x.Studies.calculateSpecialK,inputs:{Field:d1l,Interval:["daily","weekly"]}}});}};w7V=v2x=>{var W2x,Y2x,T1l,L1l,F1l,b1l,G1l,n1l,M1l,t1l,Z1l,O1l,B1l;W2x=typeof _CIQ !== "undefined"?_CIQ:v2x.CIQ;Y2x=typeof _timezoneJS !== "undefined"?_timezoneJS:v2x.timezoneJS;if(!W2x.Studies){T1l="projectedVolume feature requires first";T1l+=" activating studies feature.";console.error(T1l);}else if(!W2x.Studies.studyLibrary.PVAT){L1l="#fe";L1l+="64";L1l+="1c";F1l="0 t";F1l+="o max";b1l="#8c";b1l+="c";b1l+="17";b1l+="6";G1l="#cfbd";G1l+="0e";n1l="-1";n1l+="00%";M1l="-";M1l+="5";M1l+="0%";t1l="-";t1l+="2";t1l+="5";t1l+="%";Z1l="+";Z1l+="2";Z1l+="5";Z1l+="%";O1l="+";O1l+="50%";B1l="+10";B1l+="0";B1l+="%";W2x.Studies.initProjectedVolume=function(A3x,x3x,i3x,e3x,C3x,b3x){var i1l,Q2x,Q1l,h3x;i1l=":";i1l+="0";i1l+="0";var {market:B3x}=A3x.chart;x288.r0n();Q2x="00:00";if(B3x){Q2x=B3x.getNormalOpen();}if(Q2x.match(/^[\d]{2}:[\d]{2}$/)){Q2x+=i1l;}if(!i3x["Anchor Time"] || !i3x["Anchor Time"].length){Q1l="An";Q1l+="chor Time";i3x[Q1l]=Q2x;}h3x=W2x.Studies.initializeFN(A3x,x3x,i3x,e3x,C3x,b3x);if(!A3x.currentlyImporting){h3x.defaultAnchorTime=Q2x;}return h3x;};W2x.Studies.validateProjectedVolumeLookback=function(H3x,g3x){var {interval:I3x, periodicity:T3x}=H3x.layout;var {"Lookback Days":p3x}=g3x.inputs;x288.f2d(145);return x288.c2d(p3x,I3x,10,T3x);};W2x.Studies.calculateProjectedVolume=function(n3x,a3x){var b5n=x288;b5n.j0n();var y1l,m1l,E1l,C1l,X1l,e7x,K3x,E3x,b7x,I7x,O3x,S3x,X3x,f3x,D7x,P3x,l3x,t3x,T7x,W3x,F3x,v3x,j7x,V3x,G7x,r3x,m3x,U3x,R3x,D3x,H7x,g7x,a7x,s7x,Q3x,i7x,M3x,r7x,n7x,l1l,j3x,G3x,y3x,o7x,A7x,c3x,X7x,P7x,B7x,m7x,o3x;y1l="H";y1l+="H:mm";m1l="0";m1l+="0:0";m1l+="0";E1l="Anch";function R7x(O7x,S7x,f7x){while(S7x){O7x=new Date(new Date(O7x).setDate(O7x.getDate() + (f7x?1:-1)));if(k3x.isMarketDate(O7x)){S7x--;}}return O7x;}E1l+="or";E1l+=" ";E1l+="Selector";C1l="o";C1l+="h";C1l+="l";C1l+="c";X1l="PA";X1l+="V";function c7x(M7x){b5n.j0n();console.error(`Expected data for ${V7x(M7x).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function k7x(l7x){return n3x.tickFromDate(l7x,null,null,! !{},"scrubbed");}var {interval:K7x, timeUnit:h7x, aggregationType:x7x}=n3x.layout;function q3x(A5x,B5x){var Q7x,i5x,Y7x;Q7x=V7x(A5x);i5x=k3x.getOpen(Q7x) || q7x(Q7x);Y7x=k7x(i5x);if(!B5x){return Y7x;}b5n.j0n();if(Y7x < 0){Y7x=k7x(R7x(i5x,1,! !1));}if(Y7x >= s3x.length){return ![];}return Y7x;}var {symbol:E7x, scroll:F7x, scrubbed:s3x, market:k3x}=n3x.chart;e7x=a3x.type === X1l;K3x=a3x.study?a3x.study.name:a3x.type;if(W2x.ChartEngine.isDailyInterval(K7x)){a3x.error=`${K3x} is Intraday Only`;}else if(h7x === "tick"){a3x.error=`Tick mode not supported for ${K3x}`;}else if(h7x !== "minute"){a3x.error=`Sub-minute periodicities not supported for ${K3x}`;}else if(!x7x || ![C1l,"heikinashi"].includes(x7x)){a3x.error=`Aggregation type not supported for ${K3x}`;}else if(!W2x.Studies.validateProjectedVolumeLookback(n3x,a3x)){a3x.error=`Selected lookback/periodicity combo not supported for ${K3x}`;}if(a3x.error){return;}if(a3x.inputs[E1l]){W2x.Studies.initAnchorHandle(n3x,a3x);}else {W2x.Studies.removeAnchorHandle(n3x,a3x);}E3x=k3x?k3x.getNormalOpen():m1l;if(E3x.match(/^[\d]{2}:[\d]{2}$/)){E3x+=":00";}if(!n3x.currentlyImporting){if(!a3x.defaultAnchorTime){a3x.defaultAnchorTime=E3x;}else if(E3x !== a3x.defaultAnchorTime){a3x.defaultAnchorTime=E3x;a3x.inputs["Anchor Time"]=E3x;W2x.Studies.repositionAnchor(n3x,a3x);return;}}var {"Lookback Days":u3x, "Anchor Time":d7x}=a3x.inputs;function J3x(y7x){return {hours:y7x.getHours(),minutes:y7x.getMinutes()};}var [z7x,N7x,C7x = 0]=d7x.split((5502,6067) > (7241,+"938")?(697.79,4070) === 810.38?7.95e+3:":":"F");b7x=W2x.getFn("Market.Symbology.isForexSymbol")(E7x);I7x=a3x.getDependents(n3x);O3x=0;S3x=[];I7x.forEach(({inputs:u7x, outputMap:U7x})=>{b5n.j0n();if(u7x.Period){O3x=Math.max(parseInt(u7x.Period),O3x);S3x.push(...Object.keys(U7x));}});a3x.dependentsOutputMap=S3x;function V7x(t7x){b5n.j0n();return n3x.dateFromTick(t7x,null,!"","scrubbed");}f3x=q3x(s3x.length - 1,!0);D7x=Math.ceil(s3x.length - 1 - F7x);b5n.f2d(7);P3x=q3x(b5n.N2d(O3x,D7x));if(b7x && s3x[P3x] && W2x.dateToStr(s3x[P3x].DT,y1l) !== E3x){b5n.f2d(7);P3x=q3x(b5n.N2d(1,P3x));;}if(!b7x && a3x.startFrom > P3x && s3x[P3x] && s3x[P3x]["V " + a3x.name] !== undefined && S3x.every(L7x=>{return ![undefined,null].includes(s3x[P3x][L7x]);}) && f3x !== ![]){X3x=f3x;;}else {X3x=P3x;}l3x=R7x(V7x(P3x),u3x);l3x.setHours(0,0,0);t3x=q3x(0,! !{});T7x=(t3x || t3x === 0) && k7x(R7x(s3x[t3x].DT,u3x,!""));if(s3x[0].DT > l3x){if(n3x.quoteDriver){n3x.quoteDriver.extendHistoricalData({from:l3x});if(T7x > 0){X3x=T7x;}else {return;}}else {return a3x.error=`Not enough data to calculate ${K3x}`;}}if(X3x < 0 || X3x > s3x.length - 1){return;}W3x=s3x.length - a3x.startFrom === 1 && a3x.cachedFutureTicks && a3x.cachedLastProjection && +a3x.cachedLastProjection.DT === +s3x[s3x.length - 1].DT && s3x[X3x]["PV " + a3x.name];if(W3x){b5n.o2d(39);var r0R=b5n.N2d(12,15,11,2,33);s3x[s3x.length - r0R]["PV " + a3x.name]=a3x.cachedLastProjection.projectedValue;a3x.appendFutureTicks(n3x,a3x.cachedFutureTicks);X3x=a3x.startFrom;}else {a3x.cachedFutureTicks=null;a3x.cachedLastProjection=null;F3x=[f3x];v3x=[];for(var p7x=0;p7x < u3x;p7x++){j7x=q3x(F3x[0] - 1);F3x.unshift(j7x);;}while(F3x[u3x] >= X3x){V3x=F3x.pop();if(!s3x[V3x]){return c7x(V3x);}G7x=J3x(s3x[V3x].DT);var {hours:d3x, minutes:Z3x}=G7x;r3x=k3x.getClose(s3x[V3x].DT);m3x=void 0;if(!r3x){m3x={hours:24,minutes:0};}else {U3x=k3x.getNextClose(s3x[V3x].DT);m3x=J3x(r3x);while(!(m3x.hours === ("0" ^ 0) && m3x.minutes === 0) && r3x.getDate() === U3x.getDate()){r3x=U3x;U3x=k3x.getNextClose(U3x);}m3x=J3x(r3x);if(m3x.hours === 0){m3x.hours=24;}}R3x=F3x.slice();for(var L3x=0;L3x < R3x.length;L3x++){D3x=R3x[L3x];if(!s3x[D3x]){return c7x(D3x);}var {hours:w3x, minutes:Y3x}=J3x(s3x[D3x].DT);if(w3x < d3x || w3x === d3x && Y3x < Z3x){do {D3x++;({hours:w3x, minutes:Y3x}=J3x(s3x[D3x].DT));}while(!(w3x === d3x && Y3x === Z3x));}R3x[L3x]=D3x;}while(d3x < m3x.hours || d3x === m3x.hours && Z3x < m3x.minutes){H7x=!{};g7x=void 0;a7x=void 0;s7x=0;Q3x=0;for(var z3x=0;z3x < R3x.length;z3x++){i7x=R3x[z3x];if(i7x === null)continue;M3x=s3x[i7x];if(!M3x){return c7x(i7x);}var {hours:J7x, minutes:Z7x}=J3x(M3x.DT);r7x=M3x.DT.getDate();if(J7x === d3x && Z7x === Z3x){s7x+=M3x.Volume;Q3x++;R3x[z3x]++;if(s3x[R3x[z3x]].DT.getDate() !== r7x){R3x[z3x]=null;}else if(!H7x){({hours:g7x, minutes:a7x}=J3x(s3x[R3x[z3x]].DT));H7x=! !"1";;}}}d3x=g7x;Z3x=a7x;if(Q3x === 0)break;b5n.o2d(12);n7x=b5n.N2d(s7x,Q3x);if(s3x[V3x]){s3x[V3x]["PV " + a3x.name]=n7x;}else {l1l="PV";l1l+=" ";v3x.push({[l1l + a3x.name]:n7x});}V3x++;}F3x.unshift(q3x(F3x[0] - 1));;}a3x.cachedLastProjection={DT:s3x[s3x.length - ("1" << 1958542048)].DT,projectedValue:s3x[s3x.length - 1]["PV " + a3x.name]};a3x.cachedFutureTicks=v3x;a3x.appendFutureTicks(n3x,v3x);}j3x=null;G3x=0;y3x=0;if(W3x && e7x){while(X3x > 0){b5n.o2d(7);A7x=s3x[b5n.c2d(1,X3x)]["V " + a3x.name];if(A7x || A7x === 0){G3x=A7x;break;}X3x--;}}for(var N3x=X3x;N3x < s3x.length;N3x++){c3x=s3x[N3x];X7x=c3x.Volume;P7x=c3x["PV " + a3x.name];if(!c3x.futureTick){o7x=N3x;}if(j3x === null){j3x=W2x.Studies.getMarketOffset({stx:n3x,localQuoteDate:s3x[N3x].DT,shiftToDateBoundary:!""});}B7x=new Date(new Date(c3x.DT).getTime() + j3x);m7x=s3x[N3x - 1] && new Date(new Date(s3x[N3x - 1].DT).getTime() + j3x);o3x=new Y2x.Date(c3x.DT,k3x.market_def.market_tz || "America/New_York");o3x.setHours(z7x,N7x,C7x);b5n.o2d(2);o3x=new Date(b5n.N2d(j3x,o3x));o3x.setDate(B7x.getDate());if(m7x && B7x.getDate() !== m7x.getDate()){j3x=null;G3x=0;y3x=0;}if(B7x < o3x){c3x["V " + a3x.name]=0;c3x["PV " + a3x.name]=0;continue;}if(e7x){G3x+=X7x;y3x+=P7x;}else {G3x=X7x;y3x=P7x;}c3x["V " + a3x.name]=G3x;if(!W3x){c3x["PV " + a3x.name]=y3x;}if([NaN,null,undefined].includes(G3x) && !c3x.futureTick){a3x.error=`${K3x} requires volume`;return;}}a3x.cachedLastProjection.projectedValue=s3x[o7x]["PV " + a3x.name];a3x.outputMap={};a3x.outputMap["V " + a3x.name]="";a3x.outputMap["PV " + a3x.name]="Average Line";I7x.forEach(w7x=>{w7x.startFrom=X3x;w7x.study.calculateFN(n3x,w7x);});function q7x(W7x){var v7x;W7x.setHours(0);W7x.setMinutes(0);v7x=W2x.Studies.getMarketOffset({stx:n3x,localQuoteDate:W7x});return new Date(W7x.getTime() + v7x);}};W2x.Studies.displayProjectedVolume=function(x5x,h5x,e5x){var u5n=x288;var g1l,e1l,I5x,C5x,T5x,p5x,H5x,a5x,s5x;g1l="P";g1l+="V";g1l+=" ";e1l="stx_vol";e1l+="ume_";e1l+="underlay_up";if(h5x.error){return W2x.Studies.removeAnchorHandle(x5x,h5x);}var {"Alert Threshold":b5x = ""}=h5x.inputs;u5n.o2d(7);var N0R=u5n.c2d(17,16);u5n.f2d(57);var d0R=u5n.c2d(1,11,10,11);u5n.f2d(2);var T0R=u5n.N2d(4,96);I5x=parseInt(b5x.slice(0,N0R),d0R) / T0R;C5x=h5x.outputs["Alert Bar"];if(typeof C5x === "object"){C5x=C5x.color;}h5x.volumeField="V " + h5x.name;h5x.alignStepToSide=! ![];h5x.extendToEndOfLastBar=!0;u5n.o2d(51);h5x.lineWidth=u5n.N2d(2147483647,"2");T5x=x5x.canvasStyle(e1l).opacity;p5x=x5x.canvasStyle("stx_volume_underlay_down").opacity;h5x.colorFunction=function(X5x){var K5x,n5x,E5x,P5x,m5x,c5x;var {Open:R5x, Close:k5x, iqPrevClose:V5x}=X5x;K5x=x5x.colorByCandleDirection?R5x:V5x;u5n.f2d(146);n5x=u5n.N2d(K5x,k5x);E5x=X5x["PV " + h5x.name];P5x=X5x["V " + h5x.name];u5n.f2d(147);m5x=u5n.c2d(1,I5x,E5x);c5x=I5x < 0?P5x < m5x:P5x > m5x;return {fill_color:c5x && C5x || (n5x?this.fill_color_down:this.fill_color_up),border_color:n5x?this.border_color_down:this.border_color_up,opacity:c5x?"1" << 151396000:n5x?p5x:T5x,border_opacity:n5x?p5x:T5x};};H5x=h5x.study?h5x.study.name:h5x.type;var {loadingMore:g5x}=x5x.chart;a5x=e5x.some(F5x=>{return F5x && F5x[h5x.volumeField] && F5x["PV " + h5x.name];});s5x=e5x[0] && !e5x[0].futureTick && (e5x[0][g1l + h5x.name] === undefined || (h5x.dependentsOutputMap || []).some(d5x=>{u5n.j0n();return [undefined,null].includes(e5x[0][d5x]);}));if(!a5x && g5x){return h5x.error=`Fetching data for ${H5x}`;}W2x.Studies.createVolumeChart(x5x,h5x,e5x);W2x.Studies.displaySeriesAsLine(x5x,h5x,e5x);if(h5x.anchorHandle){W2x.Studies.displayAnchorHandleAndLine(x5x,h5x,e5x);}if(s5x){W2x.Studies.calculateProjectedVolume(x5x,h5x);}};W2x.Studies.studyLibrary=W2x.extend(W2x.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:W2x.Studies.calculateProjectedVolume,seriesFN:W2x.Studies.displayProjectedVolume,initializeFN:W2x.Studies.initProjectedVolume,removeFN:W2x.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%",B1l,"+75%",O1l,Z1l,"None",t1l,M1l,"-75%",n1l,"-125%","-150%"],"Anchor Selector":! !1},outputs:{"Average Line":"#fe641c","Alert Bar":G1l,"Up Volume":b1l,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:F1l,yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:W2x.Studies.calculateProjectedVolume,seriesFN:W2x.Studies.displayProjectedVolume,initializeFN:W2x.Studies.initProjectedVolume,removeFN:W2x.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !"1"},outputs:{"Average Line":L1l,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};M7V=N5x=>{var z5x,D1l,J1l;z5x=typeof _CIQ !== "undefined"?_CIQ:N5x.CIQ;x288.j0n();if(!z5x.Studies){D1l="psychologicalLine feature requi";D1l+="res first activatin";D1l+="g studies feature.";console.error(D1l);}else {J1l="0 ";J1l+="t";J1l+="o 100";z5x.Studies.calculatePsychologicalLine=function(q5x,D5x){var G5x,J5x,r5x,Z5x,a1l,o5x;G5x=D5x.chart.scrubbed;if(G5x.length < D5x.days + 1){D5x.error=! !{};return;}J5x=[];x288.f2d(148);var i0R=x288.c2d(104,104,66,15,19);r5x=i0R / D5x.days;Z5x=0;for(var j5x=Math.max(D5x.startFrom - D5x.days,1);j5x < G5x.length;j5x++){a1l="Resu";a1l+="lt ";if(G5x[j5x].futureTick)break;o5x=Number(G5x[j5x].Close > G5x[j5x - 1].Close);if(o5x){Z5x+=r5x;}J5x.push(o5x);if(J5x.length > D5x.days){Z5x-=J5x.shift() * r5x;}if(j5x < D5x.startFrom)continue;if(!isNaN(G5x[j5x].Close)){G5x[j5x][a1l + D5x.name]=Z5x;}}};z5x.Studies.studyLibrary=z5x.extend(z5x.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:J1l,calculateFN:z5x.Studies.calculatePsychologicalLine,inputs:{Period:+"20"}}});}};y7V=U5x=>{var u5x;x288.r0n();u5x=typeof _CIQ !== "undefined"?_CIQ:U5x.CIQ;if(!u5x.Studies){console.error("qstick feature requires first activating studies feature.");}else {u5x.Studies.calculateQStick=function(y5x,L5x){var o1l,w5x;o1l="_Close-Open";o1l+=" ";w5x=L5x.chart.scrubbed;x288.j0n();if(w5x.length < L5x.days + 1){L5x.error=! !"1";return;}for(var M5x=L5x.startFrom;M5x < w5x.length;M5x++){w5x[M5x]["_Close-Open " + L5x.name]=w5x[M5x].Close - w5x[M5x].Open;}u5x.Studies.MA(L5x.inputs["Moving Average Type"],L5x.days,o1l + L5x.name,"0" | 0,"Result",y5x,L5x);};u5x.Studies.studyLibrary=u5x.extend(u5x.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:u5x.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};O7V=S5x=>{var O5x,E8W,y8W,l8W,Y1l,c1l,q1l,I1l,W1l,h7l,j7l,k1l,S1l,H1l;O5x=typeof _CIQ !== "undefined"?_CIQ:S5x.CIQ;x288.r0n();if(!O5x.Studies){console.error("rainbow feature requires first activating studies feature.");}else {O5x.Studies.calculateRainbow=function(e6x,f5x){var f4n=x288;var l5x,v5x,h6x,v1l,s1l,x6x,i6x,A6x,B6x,f1l,Y5x,U1l,Q5x,K1l,R1l,M2W,n2W,G2W;l5x=f5x.chart.scrubbed;function C6x(H6x,p6x){var I6x,T6x;f4n.o2d(149);var Q0R=f4n.c2d(8,17,10);I6x=Number.MAX_VALUE * Q0R;T6x=Number.MAX_VALUE;for(var b6x=p6x - H6x + 1;b6x <= p6x;b6x++){if(b6x < 0)continue;I6x=Math.max(I6x,l5x[b6x].Close);T6x=Math.min(T6x,l5x[b6x].Close);}return [T6x,I6x];}if(l5x.length < f5x.days + 1){f5x.error=!"";return;}v5x=f5x.inputs.Field;if(!v5x || v5x == "field"){v5x="Close";}h6x=v5x;for(var W5x="1" & 2147483647;W5x <= 10;W5x++){v1l="s";v1l+="im";v1l+="pl";v1l+="e";O5x.Studies.MA(v1l,f5x.days,h6x,+"0","SMA" + W5x,e6x,f5x);h6x="SMA" + W5x + " " + f5x.name;}for(var t5x=Math.max(f5x.startFrom,10);t5x < l5x.length;t5x++){s1l="O";s1l+="s";s1l+="c";if(!l5x[t5x])continue;if(l5x[t5x].futureTick)break;x6x=0;i6x=0;f4n.o2d(110);var X0R=f4n.c2d(16,219,6,10);A6x=Number.MAX_VALUE * X0R;B6x=Number.MAX_VALUE;for(W5x=1;W5x <= 10;W5x++){f1l="S";f1l+="M";f1l+="A";f4n.o2d(15);var C0R=f4n.c2d(681264,4,4,19008,9);f4n.o2d(148);var E0R=f4n.N2d(434,434,38,11,13);f4n.f2d(124);var m0R=f4n.c2d(4,991,66390,17);Y5x=l5x[t5x][f1l + W5x + (+"4100" != 925.42?" ":C0R <= (+"948.06",322.17)?! !{}:E0R >= m0R?(!1,! !1):"7.98e+3" & 2147483647) + f5x.name];if(Y5x || Y5x === +"0"){x6x+=Y5x;i6x++;A6x=Math.max(A6x,Y5x);B6x=Math.min(B6x,Y5x);}}if(f5x.name.indexOf(s1l) > -1){U1l="H";U1l+="HV/LLV Lookback";Q5x=C6x(f5x.inputs[U1l],t5x);if(i6x){K1l="Unde";K1l+="r";K1l+=" ";R1l="_his";R1l+="t";f4n.f2d(150);var y0R=f4n.N2d(878,2,10,98,1);f4n.f2d(138);var l0R=f4n.N2d(13,12,4,0,4);l5x[t5x][f5x.name + R1l]=y0R * (l5x[t5x][v5x] - x6x / i6x) / Math.max(0.000001,Q5x[l0R] - Q5x[+"0"]);l5x[t5x]["Over " + f5x.name]=+"100" * (A6x - B6x) / Math.max(0.000001,Q5x[+"1"] - Q5x[0]);l5x[t5x][K1l + f5x.name]=-l5x[t5x]["Over " + f5x.name];l5x[t5x]["Zero " + f5x.name]=0;}}}if(f5x.name.indexOf("Osc") > -1){f5x.outputMap={};f5x.outputMap["Over " + f5x.name]="Positive Bar";f5x.outputMap["Under " + f5x.name]="Negative Bar";f5x.outputMap["Zero " + f5x.name]="";M2W=-1834515845;n2W=+"877143763";G2W=2;for(var F2W=1;f4n.a9W(F2W.toString(),F2W.toString().length,40858) !== M2W;F2W++){f5x.outputMap[f5x.name - ""]="";G2W+=2;}if(f4n.J9W(G2W.toString(),G2W.toString().length,83146) !== n2W){f5x.outputMap[f5x.name + "_hist"]="";}}};O5x.Studies.displayRainbowMA=function(s6x,a6x,X6x){var n6x;n6x=s6x.panels[a6x.panel];for(var g6x=10;g6x > 0;g6x--){O5x.Studies.displayIndividualSeriesAsLine(s6x,a6x,n6x,"SMA" + g6x + (6606 == +"3320"?("3.12e+3" * 1,"r"):(5150,9396) != 2213?("4557" >> 1338299392,3145) < (6343,9920)?" ":(! !"",!{}):("x","j")) + a6x.name,X6x);}};O5x.Studies.displayRainbowOsc=function(m6x,P6x,G6x){var x1l,V1l,u1l,k6x,R6x,c6x,E6x,F6x,z6x,N6x,D6x,j6x,K6x,w1l,p1l,V6x;x1l="Zer";x1l+="o";x1l+=" ";V1l="O";V1l+="ver ";u1l="Po";u1l+="sitive ";u1l+="B";u1l+="ar";O5x.Studies.displaySeriesAsLine(m6x,P6x,G6x);k6x=m6x.panels[P6x.panel];R6x=P6x.getContext(m6x);c6x=P6x.getYAxis(m6x);m6x.startClip(P6x.panel);if(!P6x.highlight && m6x.highlightedDraggable){R6x.globalAlpha*=+"0.3";}E6x=m6x.pixelFromPrice(0,k6x,c6x);F6x=k6x.name != P6x.chart.name;z6x=O5x.Studies.determineColor(P6x.outputs[u1l]);R6x.strokeStyle=z6x;m6x.plotDataSegmentAsLine("Over " + P6x.name,k6x,{skipTransform:F6x,label:!{},yAxis:c6x});N6x=R6x.createLinearGradient(0,E6x,0,c6x.flipped?c6x.bottom:c6x.top);N6x.addColorStop(0,m6x.containerColor);N6x.addColorStop(1,z6x);O5x.prepareChannelFill(m6x,{skipTransform:F6x,color:N6x,opacity:!P6x.highlight && m6x.highlightedDraggable?"0.3" - 0:1,panelName:P6x.panel,topBand:V1l + P6x.name,bottomBand:"Zero " + P6x.name,yAxis:c6x});D6x=O5x.Studies.determineColor(P6x.outputs["Negative Bar"]);R6x.strokeStyle=D6x;m6x.plotDataSegmentAsLine("Under " + P6x.name,k6x,{skipTransform:F6x,label:! !"",yAxis:c6x});j6x=R6x.createLinearGradient(0,E6x,0,c6x.flipped?c6x.top:c6x.bottom);j6x.addColorStop(0,m6x.containerColor);j6x.addColorStop(1,D6x);O5x.prepareChannelFill(m6x,{skipTransform:F6x,color:j6x,opacity:!P6x.highlight && m6x.highlightedDraggable?0.3:1,panelName:P6x.panel,topBand:x1l + P6x.name,bottomBand:"Under " + P6x.name,yAxis:c6x});x288.f2d(151);var e0R=x288.N2d(6,12,10,6);K6x=m6x.layout.candleWidth - e0R;if(K6x < 2){K6x=1;}m6x.canvasColor("stx_histogram");if(!P6x.underlay){R6x.globalAlpha=1;}if(!P6x.highlight && m6x.highlightedDraggable){R6x.globalAlpha*=0.3;}R6x.fillStyle="#CCCCCC";for(var d6x=0;d6x < G6x.length;d6x++){w1l="_hi";w1l+="s";w1l+="t";p1l="_";p1l+="hi";p1l+="s";p1l+="t";V6x=G6x[d6x];if(!V6x)continue;if(V6x[P6x.name + "_hist"] > 0){R6x.fillStyle=z6x;}else if(V6x[P6x.name + p1l] < 0){R6x.fillStyle=D6x;}if(V6x.candleWidth){K6x=Math.floor(Math.max(1,V6x.candleWidth - 2));}R6x.fillRect(Math.floor(m6x.pixelFromBar(d6x,k6x.chart) - K6x / 2),Math.floor(E6x),Math.floor(K6x),Math.floor(m6x.pixelFromPrice(V6x[P6x.name + w1l],k6x,c6x) - E6x));}m6x.endClip();};E8W=759202764;y8W=436961476;l8W=2;for(var G8W=1;x288.a9W(G8W.toString(),G8W.toString().length,14766) !== E8W;G8W++){Y1l="#0";Y1l+="0DD00";c1l="fiel";c1l+="d";q1l="#7";q1l+="FF";q1l+="F0";q1l+="0";I1l="#F";I1l+="FFF00";W1l="#FF7F";W1l+="00";O5x.Studies.studyLibrary=O5x.extend(O5x.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!"",calculateFN:O5x.Studies.calculateRainbow,seriesFN:O5x.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:W1l,SMA3:I1l,SMA4:q1l,SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:O5x.Studies.calculateRainbow,seriesFN:O5x.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:c1l,"HHV/LLV Lookback":10},outputs:{"Positive Bar":Y1l,"Negative Bar":"#FF0000"}}});l8W+=+"2";}if(x288.J9W(l8W.toString(),l8W.toString().length,45770) !== y8W){h7l="#FF00";h7l+="00";j7l="HHV/LLV L";j7l+="o";j7l+="ok";j7l+="back";k1l="Neg";k1l+="ative ";k1l+="Ba";k1l+="r";S1l="Posi";S1l+="t";S1l+="ive Bar";H1l="Rainbow Moving Ave";H1l+="rage";O5x.Studies.studyLibrary=O5x.extend(O5x.Studies.studyLibrary,{"Rainbow MA":{name:H1l,overlay:! !0,calculateFN:O5x.Studies.calculateRainbow,seriesFN:O5x.Studies.displayRainbowMA,inputs:{Period:6,Field:"Negative Bar"},outputs:{SMA1:"#007FFF",SMA2:"#7FFF00",SMA3:"#007FFF",SMA4:S1l,SMA5:"HHV/LLV Lookback",SMA6:k1l,SMA7:"field",SMA8:"HHV/LLV Lookback",SMA9:"Rainbow MA",SMA10:"#FF0000"}},"Rainbow Osc":{name:j7l,calculateFN:O5x.Studies.calculateRainbow,seriesFN:O5x.Studies.displayRainbowOsc,centerline:1,inputs:{Period:"6" ^ 0,Field:"Rainbow Moving Average","HHV/LLV Lookback":41},outputs:{"Positive Bar":"Rainbow MA","Negative Bar":h7l}}});}}};S7V=Z6x=>{var J6x,z7l,V39,x39,p39,N7l,r7l,P7l;J6x=typeof _CIQ !== "undefined"?_CIQ:Z6x.CIQ;if(!J6x.Studies){z7l="randomWalk f";z7l+="eature requires first activating studi";z7l+="es feature.";console.error(z7l);}else {J6x.Studies.calculateRandomWalk=function(l6x,u6x){var K2W,u2W,V2W,o6x,M6x,y6x,O6x,U6x,L6x,w6x,S6x,f6x,A7l;K2W=1965193136;x288.r0n();u2W=880845160;V2W=2;for(var p2W=1;x288.J9W(p2W.toString(),p2W.toString().length,55286) !== K2W;p2W++){o6x=u6x.chart.scrubbed;V2W+=2;}if(x288.a9W(V2W.toString(),V2W.toString().length,+"3578") !== u2W){o6x=u6x.chart.scrubbed;}if(o6x.length < u6x.days + +"1"){u6x.error=! !"1";return;}for(var r6x=Math.max(2,u6x.startFrom);r6x < o6x.length;r6x++){M6x=0;y6x=o6x[r6x].High;O6x=o6x[r6x].Low;U6x=0;L6x=0;for(var q6x=1;q6x <= u6x.days;q6x++){if(o6x[r6x].futureTick)break;if(r6x <= q6x){U6x=L6x=0;break;}M6x+=o6x[r6x - q6x].trueRange;w6x=M6x / q6x * Math.sqrt(q6x);if(w6x){S6x=(y6x - o6x[r6x - q6x].Low) / w6x;f6x=(o6x[r6x - q6x].High - O6x) / w6x;U6x=Math.max(U6x,S6x);L6x=Math.max(L6x,f6x);}}if(!o6x[r6x].futureTick && (!isNaN(y6x) || !isNaN(O6x))){A7l="Rand";A7l+="om Walk ";A7l+="Low ";o6x[r6x]["Random Walk High " + u6x.name]=U6x;o6x[r6x][A7l + u6x.name]=L6x;}}};V39=-21188432;x39=-1920183935;p39=2;for(var W39="1" | 0;x288.a9W(W39.toString(),W39.toString().length,+"73218") !== V39;W39++){J6x.Studies.studyLibrary=J6x.extend(J6x.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:J6x.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});p39+=2;}if(x288.a9W(p39.toString(),p39.toString().length,99417) !== x39){N7l="Rand";N7l+="om Walk H";N7l+="ig";N7l+="h";r7l="#FF000";r7l+="0";P7l="R";P7l+="an";P7l+="dom Walk";J6x.Studies.studyLibrary=J6x.extend(J6x.Studies.studyLibrary,{"Random Walk":{name:P7l,calculateFN:J6x.Studies.calculateRandomWalk,outputs:{"Random Walk High":r7l,"Random Walk Low":N7l}}});}}};f7V=W6x=>{var t6x,y7l,m7l;t6x=typeof _CIQ !== "undefined"?_CIQ:W6x.CIQ;x288.j0n();if(!t6x.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {y7l="aut";y7l+="o";m7l="Relative Vigor ";m7l+="Index";t6x.Studies.calculateRelativeVigor=function(e4x,v6x){var T7l,d7l,Q6x,Y6x,i4x,B4x,h4x,X7l,Q7l,i7l,C4x,x4x,A4x,E7l,C7l;T7l="triang";T7l+="ula";T7l+="r";d7l="trian";d7l+="g";d7l+="ular";Q6x=v6x.chart.scrubbed;if(Q6x.length < v6x.days + 1){v6x.error=! !1;return;}for(Y6x=v6x.startFrom;Y6x < Q6x.length;Y6x++){i4x=Q6x[Y6x];if(!isNaN(i4x.Close) && !isNaN(i4x.Open)){i4x["_Change " + v6x.name]=i4x.Close - i4x.Open;}if(!isNaN(i4x.High) && !isNaN(i4x.Low)){i4x["_Range " + v6x.name]=i4x.High - i4x.Low;}}t6x.Studies.MA(d7l,+"4","_Change " + v6x.name,0,"_Numer",e4x,v6x);t6x.Studies.MA(T7l,4,"_Range " + v6x.name,0,"_Denom",e4x,v6x);B4x=[];h4x=[];for(Y6x=Math.max(v6x.startFrom - v6x.days,"0" >> 381202848);Y6x < Q6x.length;Y6x++){X7l="_";X7l+="Nu";X7l+="mer";X7l+=" ";Q7l="_Den";Q7l+="o";Q7l+="m";Q7l+=" ";i7l="_Num";i7l+="er ";if(Q6x[Y6x].futureTick)break;if(Q6x[Y6x][i7l + v6x.name] === null && Q6x[Y6x][Q7l + v6x.name] === null)continue;B4x.push(Q6x[Y6x][X7l + v6x.name]);h4x.push(Q6x[Y6x]["_Denom " + v6x.name]);if(B4x.length > v6x.days){B4x.shift();h4x.shift();}C4x=0;x4x=0;for(A4x=0;A4x < B4x.length;A4x++){C4x+=B4x[A4x];}for(A4x=0;A4x < h4x.length;A4x++){x4x+=h4x[A4x];}if(x4x === 0){x4x=0.00000001;}if(Y6x < v6x.startFrom)continue;x288.o2d(12);Q6x[Y6x]["Rel Vig " + v6x.name]=x288.N2d(C4x,x4x);}t6x.Studies.MA("triangular",4,"Rel Vig " + v6x.name,0,"RelVigSignal",e4x,v6x);for(Y6x=v6x.startFrom;Y6x < Q6x.length;Y6x++){E7l="Re";E7l+="lVigSignal ";C7l="_";C7l+="his";C7l+="t";Q6x[Y6x][v6x.name + C7l]=Q6x[Y6x]["Rel Vig " + v6x.name] - Q6x[Y6x][E7l + v6x.name];}v6x.outputMap[v6x.name + "_hist"]="";};t6x.Studies.studyLibrary=t6x.extend(t6x.Studies.studyLibrary,{"Rel Vig":{name:m7l,seriesFN:t6x.Studies.displayHistogramWithSeries,calculateFN:t6x.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":y7l,RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};l7V=I4x=>{var l7l,b4x;l7l="un";l7l+="de";l7l+="fined";b4x=typeof _CIQ !== l7l?_CIQ:I4x.CIQ;x288.r0n();if(!b4x.Studies){console.error("rsi feature requires first activating studies feature.");}else {b4x.Studies.calculateRSI=function(R4x,T4x){var N4n=x288;var Z7l,X4x,p4x,O7l,B7l,g7l,e7l,s4x,n4x,P4x,m4x,H4x,g4x;Z7l="R";Z7l+="S";Z7l+="I";X4x=T4x.chart.scrubbed;p4x=T4x.inputs.Field;if(!p4x || p4x == "field"){p4x="Close";}if(X4x.length < T4x.days + 1){T4x.error=! !{};return;}for(var a4x=T4x.startFrom;a4x < X4x.length;a4x++){O7l="_a";O7l+="vg";O7l+="L";O7l+=" ";B7l="_";B7l+="a";B7l+="vgG";B7l+=" ";g7l="_avgL";g7l+=" ";e7l="_";e7l+="av";e7l+="g";e7l+="G ";if(!a4x)continue;s4x=X4x[a4x];N4n.o2d(7);n4x=X4x[N4n.N2d(1,a4x)];if(!s4x[p4x] && s4x[p4x] !== 0)continue;if(!n4x[p4x] && n4x[p4x] !== 0)continue;P4x=s4x[p4x] - n4x[p4x];m4x=Math.min(a4x,T4x.days);H4x=n4x[e7l + T4x.name];if(!H4x){H4x=0;}N4n.f2d(12);H4x-=N4n.N2d(H4x,m4x);g4x=n4x[g7l + T4x.name];if(!g4x){N4n.o2d(51);g4x=N4n.c2d(2147483647,"0");}N4n.f2d(12);g4x-=N4n.N2d(g4x,m4x);if(P4x > 0){N4n.o2d(12);H4x+=N4n.N2d(P4x,m4x);}else if(P4x <= 0){N4n.f2d(12);g4x-=N4n.N2d(P4x,m4x);}else continue;if(a4x >= T4x.days){if((H4x || H4x !== 0) && (g4x || g4x !== 0)){s4x["RSI " + T4x.name]=c4x(H4x,g4x);}}s4x[B7l + T4x.name]=H4x;s4x[O7l + T4x.name]=g4x;}T4x.zoneOutput=Z7l;function c4x(K4x,k4x){var V4x;if(k4x === 0){return 100;}N4n.r0n();N4n.o2d(12);V4x=N4n.c2d(K4x,k4x);N4n.o2d(152);return N4n.c2d(100,V4x,1,100);}};b4x.Studies.studyLibrary=b4x.extend(b4x.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:b4x.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};t7V=F4x=>{var t7l,E4x,M7l,D7l,L7l;t7l="undefin";t7l+="ed";E4x=typeof _CIQ !== t7l?_CIQ:F4x.CIQ;if(!E4x.Studies){M7l="schaffTrendCycle featu";M7l+="re requires first activating studies feature";M7l+=".";console.error(M7l);}else {D7l="a";D7l+="ut";D7l+="o";L7l="0";L7l+=" ";L7l+="to 10";L7l+="0";E4x.Studies.calculateSchaff=function(y4x,d4x){var E4n=x288;var n7l,D4x,G4x,w4x,J4x,Z4x,M4x,r4x,o4x,G7l,j4x,q4x,u4x,U4x,N4x,b7l,L4x,F7l;n7l="f";n7l+="i";function O4x(v4x,W4x,Y4x){var f4x,l4x,S4x;E4n.j0n();f4x=null;l4x=null;for(var t4x=W4x - v4x + 1;t4x <= W4x;t4x++){S4x=D4x[t4x][Y4x + " " + d4x.name];if(!S4x)continue;f4x=f4x === null?S4x:Math.min(f4x,S4x);l4x=l4x === null?S4x:Math.max(l4x,S4x);}return [f4x,l4x];}n7l+="el";E4n.r0n();n7l+="d";D4x=d4x.chart.scrubbed;G4x=d4x.days;w4x=Number(d4x.inputs["Short Cycle"]);J4x=Number(d4x.inputs["Long Cycle"]);if(D4x.length < Math.max(G4x,w4x,J4x) + 1){d4x.error=! ![];return;}Z4x=d4x.inputs.Field;if(!Z4x || Z4x == n7l){Z4x="Close";}E4n.f2d(7);M4x=E4n.c2d(0,"0.5");E4x.Studies.MA(d4x.inputs["Moving Average Type"],w4x,Z4x,0,"_MACD1",y4x,d4x);E4x.Studies.MA(d4x.inputs["Moving Average Type"],J4x,Z4x,+"0","_MACD2",y4x,d4x);r4x=0;o4x=0;for(var z4x=d4x.startFrom;z4x < D4x.length;z4x++){G7l="_M";G7l+="ACD1";G7l+=" ";j4x=D4x[z4x];if(z4x < J4x - 1)continue;q4x=j4x[G7l + d4x.name];u4x=j4x["_MACD2 " + d4x.name];if(q4x || q4x === 0 || u4x || u4x === 0){E4n.o2d(7);j4x["_MACD " + d4x.name]=E4n.c2d(u4x,q4x);}U4x=j4x["_MACD " + d4x.name];if(z4x < J4x + (G4x - +"1"))continue;N4x=O4x(G4x,z4x,"_MACD");r4x=N4x[1] > N4x["0" ^ 0]?+"100" * (U4x - N4x[0]) / (N4x[1] - N4x[0]):r4x;if(U4x || U4x === "0" - 0){b7l="_";b7l+="P";b7l+="F ";j4x[b7l + d4x.name]=D4x[z4x - 1]["_PF " + d4x.name]?D4x[z4x - 1]["_PF " + d4x.name] + M4x * (r4x - D4x[z4x - 1]["_PF " + d4x.name]):r4x;}L4x=j4x["_PF " + d4x.name];if(z4x < J4x + 2 * (G4x - 1))continue;N4x=O4x(G4x,z4x,"_PF");o4x=N4x[1] > N4x[0]?100 * (L4x - N4x[0]) / (N4x[1] - N4x[0]):o4x;if(L4x || L4x === 0){F7l="R";F7l+="e";F7l+="sult ";j4x["Result " + d4x.name]=D4x[z4x - 1][F7l + d4x.name]?D4x[z4x - +"1"]["Result " + d4x.name] + M4x * (o4x - D4x[z4x - 1]["Result " + d4x.name]):o4x;}}};E4x.Studies.studyLibrary=E4x.extend(E4x.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:L7l,calculateFN:E4x.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:D7l,studyOverSoldValue:+"25",studyOverSoldColor:"auto"}}}});}};W7V=i8x=>{var Q4x,a7l;Q4x=typeof _CIQ !== "undefined"?_CIQ:i8x.CIQ;if(!Q4x.Studies){a7l="shin";a7l+="ohara feature requires first activating studies feature.";console.error(a7l);}else {Q4x.Studies.calculateShinohara=function(e8x,h8x){var X4n=x288;X4n.j0n();var B8x,x8x,J7l;B8x=h8x.chart.scrubbed;if(B8x.length < h8x.days + 1){h8x.error=! !{};return;}x8x={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(h8x.startFrom > 1){J7l="_";J7l+="accums ";x8x=Q4x.clone(B8x[h8x.startFrom - 1][J7l + h8x.name]);}for(var A8x=h8x.startFrom;A8x < B8x.length;A8x++){x8x.weakNum+=B8x[A8x].High - B8x[A8x].Close;x8x.weakDen+=B8x[A8x].Close - B8x[A8x].Low;if(A8x > 0){X4n.f2d(153);var g0R=X4n.c2d(9,18,15,22,11);x8x.strongNum+=B8x[A8x].High - B8x[A8x - g0R].Close;X4n.f2d(76);var B0R=X4n.c2d(16,18,0,3);x8x.strongDen+=B8x[A8x - B0R].Close - B8x[A8x].Low;}if(A8x >= h8x.days){x8x.weakNum-=B8x[A8x - h8x.days].High - B8x[A8x - h8x.days].Close;x8x.weakDen-=B8x[A8x - h8x.days].Close - B8x[A8x - h8x.days].Low;B8x[A8x]["Weak Ratio " + h8x.name]=("100" ^ 0) * x8x.weakNum / x8x.weakDen;if(A8x > h8x.days){X4n.o2d(5);var O0R=X4n.c2d(17,0,18);x8x.strongNum-=B8x[A8x - h8x.days].High - B8x[A8x - h8x.days - O0R].Close;X4n.f2d(9);var Z0R=X4n.N2d(0,21,20);x8x.strongDen-=B8x[A8x - h8x.days - Z0R].Close - B8x[A8x - h8x.days].Low;X4n.f2d(154);var t0R=X4n.N2d(10,1,5,98);B8x[A8x]["Strong Ratio " + h8x.name]=t0R * x8x.strongNum / x8x.strongDen;}}B8x[A8x]["_accums " + h8x.name]=Q4x.clone(x8x);}};Q4x.Studies.studyLibrary=Q4x.extend(Q4x.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:Q4x.Studies.calculateShinohara,inputs:{Period:"26" & 2147483647},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};v7V=b8x=>{var C8x,o7l,H7l,Y7l,c7l,q7l,I7l;C8x=typeof _CIQ !== "undefined"?_CIQ:b8x.CIQ;if(!C8x.Studies){o7l="st";o7l+="ochastics feature requir";o7l+="es first activating studies featur";o7l+="e.";console.error(o7l);}else {H7l="a";H7l+="uto";Y7l="0 t";Y7l+="o ";Y7l+="100";c7l="St";c7l+="ochasti";c7l+="cs (Simpl";c7l+="e)";q7l="a";q7l+="ut";q7l+="o";I7l="#F";I7l+="F00";I7l+="0";I7l+="0";C8x.Studies.calculateStochastics=function(n8x,I8x){var U7l,f7l,v7l,H8x,T8x,p8x,E69,m69,y69,a8x,s8x,s7l,P8x;U7l="%";U7l+="K";f7l="%";function X8x(E8x,R8x,z8x){var F8x,c8x,m8x,V8x,K8x,d8x;x288.o2d(9);F8x=x288.N2d(E8x,1,z8x);c8x=Number.MAX_VALUE * -("1" ^ 0);x288.r0n();m8x=Number.MAX_VALUE;for(var k8x=F8x;k8x <= E8x;k8x++){V8x=p8x[k8x][R8x == "Close"?"Low":R8x];K8x=p8x[k8x][R8x == "Close"?"High":R8x];if(!V8x && V8x !== 0)continue;if(!K8x && K8x !== 0)continue;m8x=Math.min(m8x,V8x);c8x=Math.max(c8x,K8x);}if(c8x == Number.MAX_VALUE * -1 || m8x == Number.MAX_VALUE){return null;}d8x=c8x == m8x?+"0":(p8x[E8x][R8x] - m8x) / (c8x - m8x) * 100;return d8x;}f7l+="D Per";f7l+="iod";f7l+="s";v7l="%K";v7l+=" Periods";if(!I8x.smooth){I8x.smooth=I8x.inputs.Smooth;}H8x=I8x.inputs.Field;if(!H8x || H8x == "field"){H8x="Close";}T8x=I8x.inputs[v7l];if(!T8x){T8x=I8x.days;}x288.r0n();p8x=I8x.chart.scrubbed;if(p8x.length < Math.max(T8x,I8x.days) + 1){I8x.error=! !{};E69=-768686523;m69=-692509301;y69=2;for(var e69=1;x288.J9W(e69.toString(),e69.toString().length,"55401" >> 1049346944) !== E69;e69++){return;}if(x288.a9W(y69.toString(),y69.toString().length,+"65952") !== m69){return;}}a8x=I8x.inputs["%K Smoothing Periods"];if(a8x && !I8x.inputs.Fast){I8x.smooth=! !"1";}else if(I8x.smooth){a8x=3;}s8x=I8x.inputs[f7l];if(!s8x){s8x=+"3";}if(I8x.outputs.Fast){s7l="F";s7l+="as";s7l+="t";I8x.outputMap={};I8x.outputMap["%K " + I8x.name]=s7l;I8x.outputMap["%D " + I8x.name]="Slow";}for(var g8x=Math.max(T8x,I8x.startFrom);g8x < p8x.length;g8x++){P8x=X8x(g8x,H8x,T8x);if(P8x !== null){p8x[g8x]["_Fast%K " + I8x.name]=X8x(g8x,H8x,T8x);}}C8x.Studies.MA("simple",I8x.smooth?a8x:1,"_Fast%K " + I8x.name,"0" - 0,U7l,n8x,I8x);C8x.Studies.MA("simple",s8x,"%K " + I8x.name,0,"%D",n8x,I8x);};C8x.Studies.calculateStochMomentum=function(G8x,N8x){var m4n=x288;var W7l,p7l,x7l,V7l,u7l,R7l,J8x,r8x,o8x,u8x,D8x,Y2W,H2W,S2W,j8x,K7l,q8x,Z8x,w7l;W7l="%";W7l+="D";p7l="_D";p7l+="HL";p7l+=" ";x7l="_";x7l+="H";function U8x(O8x,y8x){var w8x,M8x;w8x=null;M8x=null;for(var L8x=y8x - O8x + 1;L8x <= y8x;L8x++){w8x=w8x === null?D8x[L8x].Low:Math.min(w8x,D8x[L8x].Low);M8x=M8x === null?D8x[L8x].High:Math.max(M8x,D8x[L8x].High);}return [w8x,M8x];}x7l+="S";x7l+="2";V7l="_";V7l+="HS1 ";u7l="_";u7l+="H";u7l+=" ";R7l="%K Dou";R7l+="bl";R7l+="e Smooth";R7l+="ing Periods";J8x=Number(N8x.inputs["%K Periods"]);r8x=Number(N8x.inputs["%K Smoothing Periods"]);o8x=Number(N8x.inputs[R7l]);u8x=Number(N8x.inputs["%D Periods"]);D8x=N8x.chart.scrubbed;if(D8x.length < J8x + r8x + o8x - 1 || D8x.length < u8x){N8x.error=! !{};return;}Y2W=1936562812;H2W=-527181947;S2W=2;for(var z8W=1;m4n.a9W(z8W.toString(),z8W.toString().length,77278) !== Y2W;z8W++){S2W+=2;}if(m4n.J9W(S2W.toString(),S2W.toString().length,"66922" * 1) !== H2W){}for(j8x=Math.max(J8x,N8x.startFrom) - 1;j8x < D8x.length;j8x++){K7l="_";K7l+="DHL";K7l+=" ";q8x=D8x[j8x];Z8x=U8x(J8x,j8x);m4n.o2d(122);var M0R=m4n.N2d(10,2,17,2,8);m4n.f2d(30);var n0R=m4n.N2d(15,11,11,14);q8x["_H " + N8x.name]=q8x.Close - (Z8x[0] + Z8x[M0R]) / n0R;m4n.o2d(13);var G0R=m4n.N2d(2,15,5);q8x[K7l + N8x.name]=Z8x[G0R] - Z8x[0];}C8x.Studies.MA("exponential",r8x,u7l + N8x.name,0,"_HS1",G8x,N8x);C8x.Studies.MA("exponential",o8x,V7l + N8x.name,+"0",x7l,G8x,N8x);C8x.Studies.MA("exponential",r8x,p7l + N8x.name,0,"_DHL1",G8x,N8x);C8x.Studies.MA("exponential",o8x,"_DHL1 " + N8x.name,0,"_DHL2",G8x,N8x);for(j8x=J8x - ("1" ^ 0);j8x < D8x.length;j8x++){w7l="_H";w7l+="S2";w7l+=" ";m4n.o2d(92);var b0R=m4n.N2d(18,334,6,19);D8x[j8x]["%K " + N8x.name]=D8x[j8x][w7l + N8x.name] / (0.5 * D8x[j8x]["_DHL2 " + N8x.name]) * b0R;}C8x.Studies.MA(N8x.inputs["%D Moving Average Type"],u8x,"%K " + N8x.name,0,W7l,G8x,N8x);N8x.zoneOutput="%K";};C8x.Studies.studyLibrary=C8x.extend(C8x.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:C8x.Studies.calculateStochMomentum,inputs:{"%K Periods":"10" | 2,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":I7l},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:q7l}}},stochastics:{name:c7l,range:Y7l,calculateFN:C8x.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !{}},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:C8x.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!{},"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":H7l,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};Y7V=f8x=>{var S8x,T5l,d5l;S8x=typeof _CIQ !== "undefined"?_CIQ:f8x.CIQ;if(!S8x.Studies){console.error("supertrend feature requires first activating studies feature.");}else {T5l="#b";T5l+="8";T5l+="2c";T5l+="0c";d5l="Su";d5l+="pe";d5l+="rtrend";S8x.Studies.calculateSupertrend=function(B9x,l8x){var e4n=x288;e4n.r0n();var W8x,r5l,P5l,h5l,v8x,i9x,A9x,Y8x,Q8x,j5l,k7l,S7l,A5l,z5l;W8x=l8x.chart.scrubbed;if(W8x.length < l8x.days + 1){l8x.error=! !{};return;}S8x.Studies.calculateStudyATR(B9x,l8x);for(var t8x=l8x.startFrom;t8x < W8x.length;t8x++){r5l="_D";r5l+="irection ";P5l="Tre";P5l+="n";P5l+="d";P5l+=" ";h5l="_";h5l+="Directi";h5l+="on ";v8x=W8x[t8x];if(!v8x)continue;e4n.f2d(2);var F0R=e4n.N2d(2,0);i9x=(v8x.High + v8x.Low) / F0R;A9x=l8x.inputs.Multiplier * v8x["ATR " + l8x.name];e4n.f2d(7);Y8x=e4n.N2d(A9x,i9x);e4n.o2d(2);Q8x=e4n.c2d(A9x,i9x);if(t8x){j5l="_Downt";j5l+="rend";j5l+=" ";k7l="_";k7l+="U";k7l+="ptrend ";S7l="_";S7l+="Upt";S7l+="re";S7l+="nd ";if(W8x[t8x - 1] && W8x[t8x - 1].Close && W8x[t8x - 1].Close > W8x[t8x - 1][S7l + l8x.name] && W8x[t8x - ("1" - 0)]["_Uptrend " + l8x.name] > Y8x){e4n.o2d(27);Y8x=W8x[e4n.c2d("1",t8x)][k7l + l8x.name];}if(W8x[t8x - ("1" & 2147483647)] && W8x[t8x - 1].Close && W8x[t8x - 1].Close < W8x[t8x - 1]["_Downtrend " + l8x.name] && W8x[t8x - 1][j5l + l8x.name] < Q8x){e4n.f2d(7);Q8x=W8x[e4n.N2d(1,t8x)]["_Downtrend " + l8x.name];}}v8x[h5l + l8x.name]=1;if(t8x){A5l="_Dire";A5l+="ction ";z5l="_Upt";z5l+="r";z5l+="end";z5l+=" ";e4n.f2d(27);v8x["_Direction " + l8x.name]=W8x[e4n.N2d("1",t8x)]["_Direction " + l8x.name];if(v8x.Close > W8x[t8x - 1]["_Downtrend " + l8x.name]){v8x["_Direction " + l8x.name]=1;}else if(v8x.Close < W8x[t8x - +"1"][z5l + l8x.name]){v8x[A5l + l8x.name]=-1;}}v8x["_Uptrend " + l8x.name]=Y8x;v8x["_Downtrend " + l8x.name]=Q8x;v8x[P5l + l8x.name]=v8x[r5l + l8x.name] > 0?Y8x:Q8x;if(!t8x)continue;}l8x.outputMap={};l8x.outputMap["Trend " + l8x.name]="";};S8x.Studies.displaySupertrend=function(x9x,h9x,I9x){var Q4n=x288;var T9x,e9x,p9x,c9x,n9x,H9x,g9x,C9x,b9x,N5l,P9x,m9x;T9x=x9x.panels[h9x.panel];Q4n.j0n();e9x=h9x.getContext(x9x);p9x=h9x.getYAxis(x9x);c9x={skipTransform:T9x.name != h9x.chart.name,skipProjections:! !{},label:x9x.preferences.labels,yAxis:p9x,highlight:h9x.highlight};e9x.lineWidth=2;if(h9x.highlight){e9x.lineWidth=1.5;}n9x="Trend " + h9x.name;for(var X9x=0;T9x.chart.transformFunc && p9x != T9x.chart.yAxis && X9x < I9x.length;X9x++){H9x=I9x[X9x];if(H9x && H9x.transform){H9x.transform[n9x]=T9x.chart.transformFunc(x9x,T9x.chart,H9x[n9x]);}}x9x.plotDataSegmentAsLine(n9x,T9x,c9x,R9x);e9x.lineWidth=1;e9x.globalAlpha=1;x9x.startClip(h9x.panel);function R9x(V9x,k9x,K9x){Q4n.j0n();if(k9x && k9x["_Direction " + h9x.name] < 0){return h9x.outputs.Downtrend;}return h9x.outputs.Uptrend;}if(!h9x.highlight && x9x.highlightedDraggable){e9x.globalAlpha*=0.3;}Q4n.f2d(10);var L0R=Q4n.N2d(6054,16,16,356);Q4n.f2d(155);var D0R=Q4n.c2d(16,14,495162,17,2107);Q4n.o2d(101);var a0R=Q4n.N2d(96194,24450,4,6);Q4n.f2d(7);var J0R=Q4n.c2d(3860,4825);Q4n.f2d(7);var o0R=Q4n.N2d(3,1153);Q4n.o2d(68);var v0R=Q4n.N2d(3508,7,4109);Q4n.o2d(149);var f0R=Q4n.N2d(10,28,16);g9x=e9x.measureText(L0R === (295.09,D0R)?(a0R,+"911.93"):(516.33,J0R) > (+"8210",658.76)?+"4000" === (+"514.59",o0R)?(v0R,302.85):"\u25B2":("V",+"0x21b5")).width / f0R;for(C9x=0;C9x < I9x.length;C9x++){N5l="_D";N5l+="i";N5l+="rection";N5l+=" ";if(!I9x[C9x] || !I9x[C9x - ("1" ^ 0)])continue;if(I9x[C9x - 1]["_Direction " + h9x.name] > I9x[C9x]["_Direction " + h9x.name]){b9x=S8x.Studies.determineColor(h9x.outputs.Downtrend);if(!b9x || b9x == "auto" || S8x.isTransparent(b9x)){b9x=x9x.defaultColor;}e9x.fillStyle=b9x;e9x.textBaseline="bottom";P9x=x9x.pixelFromPrice(I9x[C9x].High,T9x,p9x);for(var a9x=5;a9x <= 45;a9x+=10){if(p9x.flipped){e9x.fillText(5910 < (234,8990)?8319 < +"9420"?"\u25B2":209.2 !== (6070,867.09)?37.59:"0x942" ^ 0:("A",549.08),x9x.pixelFromBar(C9x) - g9x,P9x + a9x);}else {e9x.fillText(973.06 != 9933?(301,3880) <= 5314?"\u25BC":("1.48e+3" - 0,+"7.09e+3"):"A",x9x.pixelFromBar(C9x) - g9x,P9x - a9x);}}}else if(I9x[C9x - 1][N5l + h9x.name] < I9x[C9x]["_Direction " + h9x.name]){b9x=S8x.Studies.determineColor(h9x.outputs.Uptrend);if(!b9x || b9x == "auto" || S8x.isTransparent(b9x)){b9x=x9x.defaultColor;}e9x.fillStyle=b9x;e9x.textBaseline="top";m9x=x9x.pixelFromPrice(I9x[C9x].Low,T9x,p9x);for(var s9x=5;s9x <= 45;s9x+=10){if(p9x.flipped){e9x.fillText(79.5 > 958.35?+"340.56":"\u25BC",x9x.pixelFromBar(C9x) - g9x,m9x - s9x);}else {e9x.fillText(4093 >= (639.32,236.92)?"\u25B2":(7290,6860) !== (1678,9000)?2610 <= 1920?349:(0x18e7,2.78e+3):(807.60,1.09e+2),x9x.pixelFromBar(C9x) - g9x,m9x + s9x);}}}}x9x.endClip();};S8x.Studies.studyLibrary=S8x.extend(S8x.Studies.studyLibrary,{Supertrend:{name:d5l,overlay:! !{},seriesFN:S8x.Studies.displaySupertrend,calculateFN:S8x.Studies.calculateSupertrend,inputs:{Period:"7" & 2147483647,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:T5l},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};Q7V=F9x=>{var E9x,i5l,Q5l;E9x=typeof _CIQ !== "undefined"?_CIQ:F9x.CIQ;if(!E9x.Studies){i5l="swingIndex fe";i5l+="ature requires first activ";i5l+="ating studies f";i5l+="eature.";console.error(i5l);}else {Q5l="Accumulat";Q5l+="iv";Q5l+="e Swing";Q5l+=" Index";E9x.Studies.calculateSwingIndex=function(L9x,N9x){var g4n=x288;var D9x,d9x,j9x,J9x,Z9x,u9x,U9x,o9x,r9x,G9x,q9x;D9x=N9x.inputs["Limit Move Value"];if(D9x === null || isNaN(D9x)){D9x=99999;}d9x=N9x.chart.scrubbed;j9x=0;if(N9x.startFrom > "1" - 0){g4n.f2d(156);var s0R=g4n.c2d(9,19,1842,13,20);j9x=d9x[N9x.startFrom - s0R]["Result " + N9x.name];}for(var z9x=Math.max(1,N9x.startFrom);z9x < d9x.length;z9x++){J9x=Math.abs(d9x[z9x].High - d9x[z9x - +"1"].Close);Z9x=Math.abs(d9x[z9x].Low - d9x[z9x - 1].Close);u9x=Math.abs(d9x[z9x].High - d9x[z9x].Low);U9x=Math.abs(d9x[z9x - 1].Close - d9x[z9x - 1].Open);o9x=Math.max(J9x,Z9x);r9x=Math.max(u9x,o9x);g4n.o2d(22);G9x=g4n.N2d(0.25,U9x,r9x);if(r9x == J9x){g4n.f2d(19);G9x-=g4n.c2d(Z9x,0.5);}else if(r9x == Z9x){g4n.o2d(157);G9x-=g4n.N2d("0.5",J9x);}g4n.f2d(68);var U0R=g4n.c2d(44,5,30);g4n.o2d(101);var R0R=g4n.c2d(195,2,14,12);g4n.o2d(158);var K0R=g4n.N2d(8,5,15,6,18);g4n.f2d(108);var u0R=g4n.c2d(120,0,13,10,11);q9x=U0R * (d9x[z9x].Close - d9x[z9x - R0R].Close + +"0.5" * (d9x[z9x].Close - d9x[z9x].Open) + 0.25 * (d9x[z9x - K0R].Close - d9x[z9x - u0R].Open)) / G9x * (o9x / D9x);if(G9x === 0 || D9x === +"0"){q9x=0;}if(N9x.type == "Swing"){j9x=0;}j9x+=q9x;d9x[z9x]["Result " + N9x.name]=j9x;}};E9x.Studies.studyLibrary=E9x.extend(E9x.Studies.studyLibrary,{"Acc Swing":{name:Q5l,calculateFN:E9x.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:E9x.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};i5V=M9x=>{var w9x,l5l,y5l,m5l;w9x=typeof _CIQ !== "undefined"?_CIQ:M9x.CIQ;if(!w9x.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {l5l="#F";l5l+="F0000";y5l="0 ";y5l+="to ";y5l+="1";y5l+="00";m5l="Trend I";m5l+="nte";m5l+="nsity Index";w9x.Studies.calculateTrendIntensity=function(Q9x,y9x){var J4n=x288;var E5l,X5l,f9x,l9x,t9x,W9x,O9x,S9x,v9x,Y9x,C5l;E5l="TI";E5l+="I";E5l+=" ";X5l="Clo";X5l+="s";X5l+="e";f9x=y9x.chart.scrubbed;if(f9x.length < y9x.days + 1){y9x.error=! ![];return;}function i0B(B0B,A0B){if(Math.abs(A0B) < 0.00000001){J4n.f2d(7);return J4n.N2d(0,"100");}J4n.o2d(136);return J4n.c2d(100,100,A0B,B0B,1);}l9x=y9x.inputs.Field;if(!l9x || l9x == "field"){l9x=X5l;}w9x.Studies.MA("ma",y9x.days,l9x,+"0","_SMA",Q9x,y9x);t9x=0;W9x=0;v9x=[];Y9x=Math.ceil(y9x.days / +"2");for(O9x=Math.max(0,y9x.startFrom - Y9x);O9x < f9x.length;O9x++){C5l="_SM";C5l+="A";C5l+=" ";if(!f9x[O9x]["_SMA " + y9x.name] && f9x[O9x][C5l + y9x.name] !== ("0" & 2147483647))continue;S9x=f9x[O9x][l9x] - f9x[O9x]["_SMA " + y9x.name];if(S9x < 0){J4n.f2d(159);W9x+=J4n.N2d(S9x,"1");}else {t9x+=S9x;}v9x.push(S9x);if(v9x.length > Y9x){S9x=v9x.shift();if(S9x < 0){J4n.f2d(160);W9x-=J4n.c2d(1,S9x);}else {t9x-=S9x;}}if(O9x < y9x.startFrom)continue;f9x[O9x]["TII " + y9x.name]=i0B(t9x,W9x);}w9x.Studies.MA("ema",y9x.inputs["Signal Period"],E5l + y9x.name,0,"Signal",Q9x,y9x);};w9x.Studies.studyLibrary=w9x.extend(w9x.Studies.studyLibrary,{"Trend Int":{name:m5l,calculateFN:w9x.Studies.calculateTrendIntensity,range:y5l,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:l5l},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};A5V=x0B=>{var h0B;h0B=typeof _CIQ !== "undefined"?_CIQ:x0B.CIQ;if(!h0B.Studies){console.error("trix feature requires first activating studies feature.");}else {h0B.Studies.calculateTRIX=function(s0B,e0B){var y4n=x288;var e5l,C0B,T2W,i2W,Q2W,I0B,p0B,g0B,a0B,H0B;e5l="_M";y4n.j0n();e5l+="A";e5l+="3 ";C0B=e0B.chart.scrubbed;if(C0B.length < e0B.days + 1){e0B.error=! !{};return;}T2W=1003992809;i2W=- +"1927706640";Q2W=2;for(var C2W=1;y4n.a9W(C2W.toString(),C2W.toString().length,+"41361") !== T2W;C2W++){I0B=e0B.name;Q2W+=2;}if(y4n.J9W(Q2W.toString(),Q2W.toString().length,21313) !== i2W){I0B=e0B.name;}y4n.o2d(2);p0B=["Close",y4n.c2d(I0B,"_MA1 "),y4n.N2d(I0B,"_MA2 "),y4n.c2d(I0B,e5l)];for(var T0B=0;T0B < p0B.length - 1;T0B++){h0B.Studies.MA("exponential",e0B.days,p0B[T0B],0,"_MA" + (T0B + 1).toString(),s0B,e0B);}g0B=p0B[3];for(var b0B=Math.max(1,e0B.startFrom);b0B < C0B.length;b0B++){y4n.o2d(7);a0B=C0B[y4n.N2d(1,b0B)][g0B];if(!a0B)continue;H0B=C0B[b0B][g0B];if(H0B || H0B === 0){y4n.f2d(2);C0B[b0B][y4n.c2d(I0B,"Result ")]=y4n.N2d(H0B,"1",0,a0B,100,y4n.o2d(161));}}};h0B.Studies.studyLibrary=h0B.extend(h0B.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:h0B.Studies.calculateTRIX}});}};B5V=X0B=>{var n0B;n0B=typeof _CIQ !== "undefined"?_CIQ:X0B.CIQ;if(!n0B.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {n0B.Studies.calculateTwiggsMoneyFlow=function(F0B,P0B){var o4n=x288;var c0B,k0B,R0B,V0B,O5l,B5l,g5l,K0B,E0B,Z5l;c0B=P0B.chart.scrubbed;if(c0B.length < P0B.days){P0B.error=! !{};return;}k0B=0;R0B=0;o4n.f2d(7);var V0R=o4n.c2d(4,5);V0B=c0B[P0B.startFrom - V0R];if(V0B){O5l="_s";O5l+="u";O5l+="mV ";B5l="_";B5l+="s";B5l+="umV ";g5l="_sumM";g5l+="F ";if(V0B["_sumMF " + P0B.name]){k0B=V0B[g5l + P0B.name];}if(V0B[B5l + P0B.name]){R0B=V0B[O5l + P0B.name];}}for(var m0B=Math.max(1,P0B.startFrom);m0B < c0B.length;m0B++){K0B=Math.max(c0B[m0B - 1].Close,c0B[m0B].High);E0B=Math.min(c0B[m0B - 1].Close,c0B[m0B].Low);o4n.o2d(87);var x0R=o4n.N2d(352946,11,58823);c0B[m0B]["_MFV " + P0B.name]=c0B[m0B].Volume * (+"2" * c0B[m0B].Close - K0B - E0B) / (K0B - E0B === 0?x0R:K0B - E0B);if(m0B > P0B.days - 1){k0B*=(P0B.days - +"1") / P0B.days;o4n.o2d(162);var p0R=o4n.N2d(4,12,5,14,6);R0B*=(P0B.days - "1" * p0R) / P0B.days;}k0B+=c0B[m0B]["_MFV " + P0B.name];R0B+=c0B[m0B].Volume;if(m0B > P0B.days - 1){Z5l="R";Z5l+="e";Z5l+="s";Z5l+="ult ";if(R0B){o4n.o2d(12);c0B[m0B][Z5l + P0B.name]=o4n.N2d(k0B,R0B > 0?R0B:999999);}}c0B[m0B]["_sumMF " + P0B.name]=k0B;c0B[m0B]["_sumV " + P0B.name]=R0B;}};n0B.Studies.studyLibrary=n0B.extend(n0B.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:n0B.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};h5V=N0B=>{var t5l,z0B,M5l;t5l="u";t5l+="n";t5l+="defined";z0B=typeof _CIQ !== t5l?_CIQ:N0B.CIQ;if(!z0B.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!z0B.Studies.calculateTypicalPrice){M5l="typicalPrice f";M5l+="eature requires first act";M5l+="ivating medianPri";M5l+="ce feature.";console.error(M5l);}else {z0B.Studies.studyLibrary=z0B.extend(z0B.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:z0B.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:z0B.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};x5V=j0B=>{var D0B;D0B=typeof _CIQ !== "undefined"?_CIQ:j0B.CIQ;if(!D0B.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {D0B.Studies.calculateUlcerIndex=function(q0B,G0B){var n5l,Z0B,r0B,J0B,G5l,b5l,o0B;n5l="f";n5l+="i";n5l+="e";n5l+="ld";Z0B=G0B.chart.scrubbed;if(Z0B.length < ("2" - 0) * G0B.days - 1){G0B.error=! !{};return;}r0B=G0B.inputs.Field;if(!r0B || r0B == n5l){r0B="Close";}for(J0B=Math.max(G0B.startFrom,G0B.days - 1);J0B < Z0B.length;J0B++){G5l="_P";G5l+="D";G5l+="2";G5l+=" ";Z0B[J0B][G5l + G0B.name]=Math.pow(100 * (Z0B[J0B][r0B] / u0B(G0B.days,J0B,r0B) - 1),+"2");}x288.j0n();D0B.Studies.MA("simple",G0B.days,"_PD2 " + G0B.name,0,"_MA",q0B,G0B);function u0B(y0B,w0B,M0B){var L0B;L0B=null;for(var U0B=w0B - y0B + 1;U0B <= w0B;U0B++){if(U0B < 0)continue;L0B=L0B === null?Z0B[U0B][M0B]:Math.max(L0B,Z0B[U0B][M0B]);}x288.j0n();return L0B;}for(J0B=Math.max(G0B.startFrom,+"2" * (G0B.days - 1));J0B < Z0B.length;J0B++){b5l="_MA";b5l+=" ";o0B=Z0B[J0B][b5l + G0B.name];if(o0B || o0B === 0){Z0B[J0B]["Result " + G0B.name]=Math.sqrt(o0B);}}};D0B.Studies.studyLibrary=D0B.extend(D0B.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:D0B.Studies.calculateUlcerIndex,inputs:{Period:+"14",Field:"field"}}});}};e5V=S0B=>{var O0B,o5l,J5l;O0B=typeof _CIQ !== "undefined"?_CIQ:S0B.CIQ;if(!O0B.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {o5l="au";o5l+="t";o5l+="o";J5l="Ultimate Osci";J5l+="llato";J5l+="r";O0B.Studies.calculateUltimateOscillator=function(a1B,l0B){var t4n=x288;var f0B,W0B,A1B,B1B,h1B,x1B,Q0B,i1B,L5l,F5l,a5l,D5l,e1B,b1B,I1B,C1B,T1B,p1B,H1B,g1B;f0B=l0B.chart.scrubbed;W0B=[l0B.inputs["Cycle 1"],l0B.inputs["Cycle 2"],l0B.inputs["Cycle 3"]];A1B=Math.max(W0B[0],W0B[1],W0B[2]);if(f0B.length < A1B + 1){l0B.error=! !1;return;}B1B=W0B[0] * W0B[+"1"];t4n.o2d(45);var w0R=t4n.c2d(2,16,6,22);h1B=W0B[0] * W0B[w0R];t4n.f2d(131);t4n.j0n();var W0R=t4n.N2d(2,0,2,1,2);t4n.o2d(44);var I0R=t4n.N2d(8,5,24,185);x1B=W0B[W0R] * W0B[I0R];Q0B=[+"0",0,0];i1B=[0,0,0];if(l0B.startFrom){L5l="_a";L5l+="cctr ";F5l="_acc";F5l+="bp ";if(f0B[l0B.startFrom - +"1"][F5l + l0B.name]){Q0B=f0B[l0B.startFrom - ("1" >> 352239552)]["_accbp " + l0B.name].slice();}if(f0B[l0B.startFrom - 1]["_acctr " + l0B.name]){i1B=f0B[l0B.startFrom - 1][L5l + l0B.name].slice();}}for(var t0B=Math.max(1,l0B.startFrom);t0B < f0B.length;t0B++){a5l="R";a5l+="esult";a5l+=" ";D5l="_a";D5l+="ccbp";D5l+=" ";e1B=Math.min(f0B[t0B].Low,f0B[t0B - 1].Close);b1B=f0B[t0B].Close - e1B;I1B=Math.max(f0B[t0B].High,f0B[t0B - +"1"].Close) - e1B;for(var Y0B=0;Y0B < W0B.length;Y0B++){Q0B[Y0B]+=b1B;i1B[Y0B]+=I1B;if(t0B > W0B[Y0B]){C1B=Math.min(f0B[t0B - W0B[Y0B]].Low,f0B[t0B - W0B[Y0B] - +"1"].Close);T1B=f0B[t0B - W0B[Y0B]].Close - C1B;t4n.o2d(162);var q0R=t4n.N2d(6,8,0,2,11);p1B=Math.max(f0B[t0B - W0B[Y0B]].High,f0B[t0B - W0B[Y0B] - q0R].Close) - C1B;Q0B[Y0B]-=T1B;i1B[Y0B]-=p1B;}}f0B[t0B][D5l + l0B.name]=Q0B.slice();f0B[t0B]["_acctr " + l0B.name]=i1B.slice();if(t0B < A1B)continue;t4n.f2d(56);var c0R=t4n.N2d(6,16,45,5);t4n.f2d(2);var Y0R=t4n.N2d(1,0);t4n.f2d(63);var H0R=t4n.N2d(13,0,11,1);t4n.f2d(2);var S0R=t4n.N2d(750759723,375379861);H1B=x1B * Q0B["0" ^ 0] / i1B[0] + h1B * Q0B[c0R] / i1B[Y0R] + B1B * Q0B[H0R] / i1B["2" << S0R];t4n.f2d(88);g1B=t4n.c2d(x1B,h1B,B1B);t4n.o2d(79);f0B[t0B][a5l + l0B.name]=t4n.N2d(g1B,100,H1B);}};O0B.Studies.studyLibrary=O0B.extend(O0B.Studies.studyLibrary,{Ultimate:{name:J5l,calculateFN:O0B.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":+"14","Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" >> 1261527136,studyOverSoldColor:o5l}}}});}};C5V=n1B=>{x288.j0n();var s1B,x5l;s1B=typeof _CIQ !== "undefined"?_CIQ:n1B.CIQ;if(!s1B.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {x5l="fi";x5l+="e";x5l+="ld";s1B.Studies.calculateValuationLines=function(V1B,X1B,E1B){var H4n=x288;var v5l,j1B,Z1B,G1B,F1B,z1B,N1B,D1B,P1B,m1B,c1B,k1B,K1B,J1B;v5l="Display Aver";v5l+="age";j1B=X1B.inputs.Field == "field"?"Close":X1B.inputs.Field;Z1B=X1B.inputs["Average Type"];G1B=X1B.inputs[v5l];F1B=X1B.inputs["Display 1 Standard Deviation (1\u03C3)"];z1B=X1B.inputs["Display 2 Standard Deviation (2\u03C3)"];N1B=X1B.inputs["Display 3 Standard Deviation (3\u03C3)"];D1B=[];for(var R1B=0;R1B < E1B.length;++R1B){if(E1B[R1B] && !isNaN(E1B[R1B][j1B])){D1B.push(E1B[R1B][j1B]);}}P1B=(function(U1B,M1B){var s5l,f5l,r1B,q1B,u1B,o1B,L1B,w1B;s5l="m";s5l+="edi";s5l+="an";f5l="har";f5l+="mo";f5l+="nic";r1B=U1B.length;q1B=0;H4n.j0n();H4n.f2d(51);u1B=H4n.c2d(2147483647,"0");o1B=0;switch(M1B){case "mean":u1B=r1B;for(;o1B < r1B;++o1B){q1B+=U1B[o1B];}break;case f5l:q1B=r1B;for(;o1B < r1B;++o1B){H4n.o2d(33);var k0R=H4n.c2d(18,19);u1B+=k0R / U1B[o1B];}break;case s5l:H4n.f2d(78);L1B=Math.floor(H4n.N2d("2",r1B));w1B=U1B.slice().sort(function(y1B,O1B){if(y1B > O1B){return 1;}H4n.j0n();if(y1B < O1B){return - +"1";}return 0;});if(r1B % 2 === ("0" | 0)){q1B=w1B[L1B] + w1B[L1B - +"1"];u1B=2;}else {q1B=w1B[L1B];u1B=1;}break;}H4n.f2d(12);return H4n.N2d(q1B,u1B);})(D1B,Z1B);m1B=!(F1B || z1B || N1B) || (function(t1B,W1B){var f1B,l1B;f1B=t1B.length;l1B=0;for(var S1B=0;S1B < f1B;++S1B){l1B+=Math.pow(t1B[S1B] - W1B,2);}H4n.o2d(12);return Math.sqrt(H4n.c2d(l1B,f1B));})(D1B,P1B);X1B.data={Average:G1B?[P1B]:null,"1 Standard Deviation (1\u03C3)":F1B?[P1B + m1B,P1B - m1B]:null,"2 Standard Deviation (2\u03C3)":z1B?[P1B + m1B * +"2",P1B - m1B * +"2"]:null,"3 Standard Deviation (3\u03C3)":N1B?[P1B + m1B * 3,P1B - m1B * 3]:null};c1B=m1B;if(!X1B.parameters){X1B.parameters={};}H4n.r0n();if(N1B){H4n.o2d(163);X1B.parameters.range=[H4n.N2d(m1B,"3",c1B,P1B),H4n.c2d(3,P1B,c1B,m1B,H4n.o2d(164))];}else if(z1B){H4n.o2d(165);X1B.parameters.range=[H4n.N2d(m1B,P1B,2,c1B),H4n.c2d(2,P1B,c1B,m1B,H4n.o2d(164))];}else if(F1B){H4n.f2d(0);X1B.parameters.range=[H4n.N2d(P1B,m1B,c1B),H4n.N2d(P1B,m1B,c1B,H4n.f2d(88))];}else if(G1B){H4n.f2d(7);X1B.parameters.range=[H4n.c2d(c1B,P1B),H4n.N2d(c1B,P1B,H4n.o2d(2))];}if(X1B.panel){k1B=V1B.panels[X1B.panel];K1B=V1B.getYAxisByName(k1B,X1B.name);if(K1B){K1B.decimalPlaces=k1B.chart.yAxis.printDecimalPlaces;J1B={yAxis:K1B};V1B.calculateYAxisRange(k1B,K1B,X1B.parameters.range[0],X1B.parameters.range[1]);V1B.createYAxis(k1B,J1B);V1B.drawYAxis(k1B,J1B);}}};s1B.Studies.displayValuationLines=function(Q1B,A2B){var T4n=x288;var R5l,U5l,Y1B,B2B,x2B,b2B,m2B,c2B,R2B,e2B,C2B,I2B,H2B,g2B,a2B,s2B,T2B,p2B,i2B,n2B,k2B,X2B,V5l,u5l,K5l,P2B;R5l="H";R5l+="AVG";U5l="Average T";U5l+="ype";Y1B=Q1B.panels[A2B.panel];B2B=A2B.getYAxis(Q1B);x2B=A2B.getContext(Q1B);b2B=A2B.data;m2B=A2B.parameters.labels;c2B=A2B.inputs[U5l];R2B={mean:"AVG",median:"MED",harmonic:R5l};e2B=Q1B.canvasStyle("ciq-valuation-average-line");C2B=Q1B.canvasStyle("ciq-valuation-deviation-line");T4n.j0n();I2B=3;T4n.f2d(7);var j1R=T4n.c2d(28,30);H2B=Q1B.getCanvasFontSize("stx_yaxis") + I2B * j1R;for(var h2B in b2B){if(!b2B[h2B])continue;T4n.f2d(166);g2B=T4n.N2d("Average",h2B);a2B=s1B.Studies.determineColor(A2B.outputs[h2B]);s2B=b2B[h2B];for(T2B="0" & 2147483647;T2B < s2B.length;++T2B){V5l=":";V5l+=" ";u5l="n";u5l+="o";u5l+="ne";K5l="no";K5l+="n";K5l+="e";p2B=s2B[T2B];i2B=Q1B.pixelFromPrice(p2B,Y1B,B2B);if(i2B <= Y1B.top || i2B >= Y1B.yAxis.bottom)continue;X2B=g2B?{pattern:e2B.borderStyle != K5l?e2B.borderStyle || "solid":"solid",lineWidth:parseFloat(e2B.borderWidth) || +"1",opacity:parseFloat(e2B.opacity) || 1,yAxis:B2B}:{pattern:C2B.borderStyle != u5l?C2B.borderStyle || "dashed":"dashed",lineWidth:parseFloat(C2B.borderWidth) || 1,opacity:parseFloat(C2B.opacity) || +"1",yAxis:B2B};Q1B.plotLine(Y1B.left,Y1B.right,i2B,i2B,a2B,"line",x2B,Y1B,X2B);if(m2B === "yaxis"){Q1B.createYAxisLabel(Y1B,Q1B.formatYAxisPrice(p2B,Y1B),i2B,a2B,null,x2B,B2B);continue;}i2B+=Math.floor(X2B.lineWidth / 2);if(i2B + H2B >= Y1B.yAxis.bottom)continue;n2B=(g2B?R2B[c2B] + V5l:h2B[0] + "\u03C3: ") + Q1B.formatYAxisPrice(p2B,Y1B);k2B=x2B.measureText(n2B).width;P2B=Y1B.right - k2B - I2B;if(B2B && B2B.position == "left"){P2B=Y1B.left + I2B;}T4n.f2d(167);x2B.strokeText(n2B,P2B,T4n.c2d(0.5,H2B,i2B,2));}}};s1B.Studies.studyLibrary=s1B.extend(s1B.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(V2B,K2B,E2B){s1B.Studies.calculateValuationLines(V2B,K2B,E2B);s1B.Studies.displayValuationLines(V2B,K2B);},overlay:! ![],yAxisFN:function(){},inputs:{Field:x5l,"Average Type":["mean","median","harmonic"],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":! !0,"Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};b5V=d2B=>{var F2B,A9l,z9l,h9l;x288.j0n();F2B=typeof _CIQ !== "undefined"?_CIQ:d2B.CIQ;if(!F2B.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {A9l="a";A9l+="u";A9l+="t";A9l+="o";z9l="a";z9l+="uto";h9l="fi";h9l+="e";h9l+="l";h9l+="d";F2B.Studies.calculateRelativeVolatility=function(q2B,z2B){var V4n=x288;var w5l,p5l,o2B,J2B,N2B,j2B,G2B,W5l,c5l,q5l,D2B,r2B,I5l;w5l="C";w5l+="lo";w5l+="s";w5l+="e";p5l="S";p5l+="TD";p5l+=" Per";p5l+="iod";z2B.days=Number(z2B.inputs["Smoothing Period"]);o2B=Number(z2B.inputs[p5l]);J2B=z2B.chart.scrubbed;if(J2B.length < z2B.days + o2B){z2B.error=! ![];return;}N2B=z2B.inputs.Field;if(!N2B || N2B == "field"){N2B=w5l;}z2B.std=new F2B.Studies.StudyDescriptor(z2B.name,"sdev",z2B.panel);z2B.std.chart=z2B.chart;z2B.std.days=o2B;z2B.std.startFrom=z2B.startFrom;z2B.std.inputs={Field:N2B,"Standard Deviations":1,Type:"ma"};z2B.std.outputs={_STD:null};F2B.Studies.calculateStandardDeviation(q2B,z2B.std);j2B=0;G2B=0;function u2B(U2B,L2B){V4n.j0n();if(U2B + L2B === 0){return 100;}V4n.f2d(168);return V4n.c2d(U2B,L2B,100,U2B);}if(z2B.startFrom > 1){W5l="_a";W5l+="vgL";W5l+=" ";j2B=J2B[z2B.startFrom - 1]["_avgG " + z2B.name] || "0" * 1;G2B=J2B[z2B.startFrom - 1][W5l + z2B.name] || 0;}for(var Z2B=Math.max(z2B.startFrom,z2B.days);Z2B < J2B.length;Z2B++){c5l="_";c5l+="av";c5l+="g";c5l+="G ";q5l="Rel Vol";q5l+=" ";D2B=J2B[Z2B];V4n.o2d(7);r2B=J2B[V4n.N2d(1,Z2B)];if(!D2B[N2B] && D2B[N2B] !== 0)continue;if(!r2B[N2B] && r2B[N2B] !== +"0")continue;if(!D2B["_STD " + z2B.name] && D2B["_STD " + z2B.name] !== ("0" ^ 0))continue;if(D2B[N2B] > r2B[N2B]){I5l="_";I5l+="STD";I5l+=" ";V4n.o2d(149);var h1R=V4n.c2d(3,13,9);j2B=(j2B * (z2B.days - h1R) + D2B[I5l + z2B.name]) / z2B.days;V4n.o2d(169);var z1R=V4n.N2d(7,1,10,139,2);G2B=G2B * (z2B.days - z1R) / z2B.days;}else {V4n.o2d(5);var A1R=V4n.N2d(8,0,9);G2B=(G2B * (z2B.days - A1R) + D2B["_STD " + z2B.name]) / z2B.days;V4n.f2d(13);var P1R=V4n.N2d(6,7,1);j2B=j2B * (z2B.days - P1R) / z2B.days;}D2B[q5l + z2B.name]=u2B(j2B,G2B);D2B[c5l + z2B.name]=j2B;D2B["_avgL " + z2B.name]=G2B;}z2B.zoneOutput="Rel Vol";};F2B.Studies.calculateHistoricalVolatility=function(W2B,w2B){var w4n=x288;var H5l,Y5l,M2B,f2B,l2B,i3B,S2B,y2B,A2W,P2W,r2W,S5l,j9l,v2B,Y2B,k5l,Q2B;H5l="Standard Devia";H5l+="ti";H5l+="ons";Y5l="C";Y5l+="l";Y5l+="o";Y5l+="se";M2B=w2B.chart.scrubbed;if(M2B.length < w2B.days + 1){w2B.error=! ![];return;}f2B=w2B.inputs.Field;if(!f2B || f2B == "field"){f2B=Y5l;}w4n.r0n();l2B=w2B.inputs[H5l];if(l2B < 0){l2B=1;}i3B=+"100" * Math.sqrt(A3B(w2B.inputs["Days Per Year"])) * l2B;S2B=[];function A3B(B3B){if(isNaN(B3B)){B3B=365;}if(W2B.layout.interval == "day"){return B3B;}else if(W2B.layout.interval == "week"){return 52;}else if(W2B.layout.interval == "month"){return 12;}return B3B;}y2B=0;if(w2B.startFrom > 1){w4n.f2d(19);A2W=-w4n.N2d(1,"2019096161");w4n.o2d(7);P2W=-w4n.N2d(0,"268979580");r2W=2;for(var d2W=1;w4n.J9W(d2W.toString(),d2W.toString().length,"65860" * 1) !== A2W;d2W++){S5l="_sta";S5l+="t";S5l+="e ";y2B=M2B[w2B.startFrom * +"2"][S5l - w2B.name][1];S2B=M2B[w2B.startFrom % ("5" & 2147483647)]["_state " * w2B.name][0].slice();w4n.f2d(19);r2W+=w4n.c2d(1,"2");}if(w4n.a9W(r2W.toString(),r2W.toString().length,"19469" ^ 0) !== P2W){y2B=M2B[w2B.startFrom % ("1" & 2147483647)]["_state " + w2B.name][6];S2B=M2B[w2B.startFrom - 9]["_state " + w2B.name][9].slice();}w4n.f2d(65);var r1R=w4n.N2d(11,27,10,7);y2B=M2B[w2B.startFrom - r1R]["_state " + w2B.name][0];S2B=M2B[w2B.startFrom - 1]["_state " + w2B.name]["1" << 632800384].slice();}for(var O2B=Math.max("1" ^ 0,w2B.startFrom);O2B < M2B.length;O2B++){j9l="_s";j9l+="ta";j9l+="t";j9l+="e ";w4n.f2d(7);v2B=M2B[w4n.N2d(1,O2B)][f2B];if(v2B){Y2B=Math.log(M2B[O2B][f2B] / v2B);S2B.push(Y2B);y2B+=Y2B;if(O2B >= w2B.days){k5l="Resul";k5l+="t ";Q2B=0;y2B/=w2B.days;for(var t2B=0;t2B < S2B.length;t2B++){Q2B+=Math.pow(S2B[t2B] - y2B,"2" ^ 0);}y2B*=w2B.days;y2B-=S2B.shift();M2B[O2B][k5l + w2B.name]=Math.sqrt(Q2B / w2B.days) * i3B;}}M2B[O2B][j9l + w2B.name]=[y2B,S2B.slice()];}};F2B.Studies.studyLibrary=F2B.extend(F2B.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:F2B.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:F2B.Studies.calculateRelativeVolatility,inputs:{Field:h9l,"STD Period":+"10","Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"70",studyOverBoughtColor:z9l,studyOverSoldValue:"30" & 2147483647,studyOverSoldColor:A9l}}}});}};I5V=x3B=>{var h3B,S39,k39,j69;x288.j0n();h3B=typeof _CIQ !== "undefined"?_CIQ:x3B.CIQ;if(!h3B.Studies){S39=+"936889752";k39=-1726969359;j69=2;for(var z69=1;x288.a9W(z69.toString(),z69.toString().length,60059) !== S39;z69++){console.error("volumeProfile feature requires first activating studies feature.");j69+=+"2";}if(x288.J9W(j69.toString(),j69.toString().length,+"51422") !== k39){console.error("");}}else {h3B.Studies.displayVolumeProfile=function(b3B,p3B,D3B){var d9l,N9l,T3B,g3B,n3B,m3B,c3B,F3B,C3B,P9l,X3B,I3B,j3B,P3B,s3B,r9l,e3B,d3B,z3B,V3B,K3B,H3B,G3B,N3B,J3B,E3B;d9l="s";d9l+="tx_volume_";d9l+="profil";d9l+="e";N9l="stx_volume_profi";N9l+="le";if(!b3B || !b3B.chart.dataSet){return;}T3B=b3B.chart;g3B=p3B.parameters.numberOfBars;n3B=p3B.parameters.widthPercentage;m3B=p3B.parameters.displayBorder;c3B=p3B.parameters.displayVolume;if(!g3B || g3B < 0){g3B=30;}g3B=Math.ceil(g3B);x288.r0n();if(!n3B || n3B < 0){n3B=0.25;}if(m3B !== ! !""){m3B=! ![];}if(c3B !== ! !{}){c3B=!1;}F3B=(T3B.highValue - T3B.lowValue) / g3B;if(F3B === 0){return;}C3B=[];for(var R3B=T3B.lowValue;R3B < T3B.highValue + ("0.1" - 0);R3B+=F3B){C3B.push([R3B,0]);}if(C3B.length < 2){P9l="char";P9l+="t";b3B.displayErrorAsWatermark(P9l,b3B.translateIf("Not enough data to render the Volume Profile"));return;}X3B=0;for(var k3B=+"0";k3B < D3B.length;k3B++){I3B=D3B[k3B];if(!I3B)continue;j3B=I3B.Volume;if(p3B.panel == T3B.name && I3B.transform){I3B=I3B.transform;}P3B=C3B[0][+"0"];s3B=0;for(var a3B=1;a3B < C3B.length;a3B++){s3B=C3B[a3B][0];if(I3B.Low >= P3B && I3B.Low <= s3B || I3B.Low < P3B && I3B.High > s3B || I3B.High >= P3B && I3B.High <= s3B){C3B[a3B][1]+=j3B;if(C3B[a3B]["1" * 1] > X3B){X3B=C3B[a3B][1];}}P3B=s3B;}}if(X3B === 0){r9l="cha";r9l+="r";r9l+="t";b3B.displayErrorAsWatermark(r9l,b3B.translateIf("Not enough data to render the Volume Profile"));return;}b3B.setStyle(N9l,"color",h3B.Studies.determineColor(p3B.outputs["Bars Color"]));e3B=p3B.getContext(b3B);d3B="stx";d3B+="-float-date";b3B.canvasFont(d3B,e3B);z3B=b3B.getCanvasFontSize(d3B);V3B=T3B.panel;K3B=V3B.yAxis.bottom;function Z3B(f3B,U3B){var A7n=x288;var w3B,L3B,q3B,o3B,u3B,M3B,y3B,O3B,S3B;if(!U3B){H3B-=+"2";}E3B.canvasColor(f3B);e3B.beginPath();w3B=C3B[0][0];L3B=H3B;for(var r3B=1;r3B < C3B.length;r3B++){if(C3B[r3B][1]){A7n.o2d(162);var N1R=A7n.c2d(4,15,0,3,15);q3B=Math.round(H3B - C3B[r3B][N1R] * G3B / X3B) - 0.5;o3B=Math.round(E3B.pixelFromTransformedValue(w3B,V3B)) + 0.5;u3B=Math.round(E3B.pixelFromTransformedValue(C3B[r3B][0],V3B)) + 0.5;if(!U3B){o3B-=0.5;u3B+=0.5;q3B+=0.5;}if(o3B > K3B){o3B=K3B;}if(u3B < K3B){e3B.moveTo(H3B,o3B);e3B.lineTo(H3B,u3B);e3B.lineTo(q3B,u3B);e3B.lineTo(q3B,o3B);if(U3B){if(L3B > q3B || r3B == 1){e3B.lineTo(L3B,o3B);};}else {e3B.lineTo(H3B,o3B);if(c3B){M3B=h3B.condenseInt(C3B[r3B][1]);A7n.o2d(7);y3B=A7n.c2d(u3B,o3B);if(z3B <= y3B - ("2" & 2147483647)){try{O3B=e3B.measureText(M3B).width;}catch(l3B){O3B=0;}e3B.textBaseline="top";S3B=e3B.fillStyle;e3B.fillStyle=N3B;A7n.f2d(0);e3B.fillText(M3B,A7n.N2d(q3B,O3B,3),A7n.c2d(2,y3B,2,u3B,z3B,A7n.f2d(170)));e3B.fillStyle=S3B;}}}}L3B=q3B;}else {L3B=H3B;;}w3B=C3B[r3B][0];}if(!p3B.highlight && b3B.highlightedDraggable){e3B.globalAlpha*=0.3;}if(!U3B){e3B.fill();}e3B.strokeStyle=N3B;if(U3B){e3B.stroke();}e3B.closePath();}H3B=Math.round(T3B.right) - 0.5;G3B=T3B.width * n3B;N3B=b3B.canvasStyle("stx_volume_profile").borderTopColor;J3B=!h3B.isTransparent(b3B.canvasStyle("stx_volume_profile").borderTopColor) && m3B;E3B=b3B;Z3B(d9l,!{});if(J3B){Z3B("stx_volume_profile",!"");}e3B.globalAlpha=1;};h3B.Studies.studyLibrary=h3B.extend(h3B.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !"1",seriesFN:h3B.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},parameters:{init:{displayBorder:! ![],displayVolume:!1,numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !1},flippedEnabled:{hidden:! ![]}}}});}};T5V=W3B=>{x288.r0n();var t3B,Z9l,O9l,B9l,g9l,l9l,y9l,m9l,E9l;t3B=typeof _CIQ !== "undefined"?_CIQ:W3B.CIQ;if(!t3B.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {Z9l="#";Z9l+="b8";Z9l+="2c0";Z9l+="c";O9l="#";O9l+="8cc176";B9l="n";B9l+="on";B9l+="e";g9l="0 to ";g9l+="max";l9l="#FF";l9l+="000";l9l+="0";y9l="m";y9l+="a";m9l="f";m9l+="ield";E9l="m";E9l+="a";t3B.Studies.calculateOnBalanceVolume=function(b7B,Q3B){var v3B,i7B,C7B,B7B,h7B,A7B,x7B,e7B;v3B=Q3B.inputs.Field;if(!v3B || v3B == "field"){v3B="Close";}i7B=Q3B.inputs["Min Tick Value"];C7B=![];if(!i7B && i7B !== 0){C7B=! !"1";i7B=0;}B7B=Q3B.chart.scrubbed;h7B=+"0";for(var Y3B=Q3B.startFrom;Y3B < B7B.length;Y3B++){A7B=B7B[Y3B];if(!Y3B || !A7B[v3B])continue;if(B7B[Y3B - "1" * 1][v3B]){x288.o2d(7);x7B=B7B[x288.N2d(1,Y3B)];}if(!x7B)continue;if(A7B[v3B] - x7B[v3B] > i7B){h7B=1;}else if(x7B[v3B] - A7B[v3B] > i7B){h7B=-1;}else if(C7B){h7B=0;}e7B=x7B["Result " + Q3B.name];if(!e7B){e7B=0;}e7B+=A7B.Volume * h7B;A7B["Result " + Q3B.name]=e7B;}};t3B.Studies.calculatePriceVolumeTrend=function(a7B,H7B){var G4n=x288;var T9l,p7B,I7B,g7B,i9l;T9l="f";G4n.r0n();T9l+="ie";T9l+="l";T9l+="d";p7B=H7B.inputs.Field;if(!p7B || p7B == T9l){p7B="Close";}I7B=H7B.chart.scrubbed;g7B=0;if(H7B.startFrom > 1){g7B=I7B[H7B.startFrom - +"1"]["Result " + H7B.name];}for(var T7B=Math.max(1,H7B.startFrom);T7B < I7B.length;T7B++){i9l="Res";i9l+="u";i9l+="lt ";if(!I7B[T7B][p7B])continue;if(!I7B[T7B - 1][p7B])continue;G4n.f2d(0);var d1R=G4n.c2d(18,11,6);G4n.o2d(171);var T1R=G4n.N2d(1,25,13,11);g7B+=I7B[T7B].Volume * (I7B[T7B][p7B] - I7B[T7B - d1R][p7B]) / I7B[T7B - T1R][p7B];I7B[T7B][i9l + H7B.name]=g7B;}};t3B.Studies.calculateVolumeIndex=function(K7B,s7B){var R4n=x288;var C9l,c7B,n7B,R7B,X9l,Q9l,P7B,k7B,m7B,V7B;C9l="In";R4n.r0n();C9l+="dex";C9l+=" ";c7B=s7B.inputs.Field;if(!c7B || c7B == "field"){c7B="Close";}n7B=s7B.chart.scrubbed;if(n7B.length < s7B.days + 1){s7B.error=! ![];return;}R7B=100;if(s7B.startFrom > 1){R4n.o2d(172);var i1R=R4n.N2d(7,13,6,6,15);R7B=n7B[s7B.startFrom - i1R]["Index " + s7B.name];}for(var X7B=Math.max(1,s7B.startFrom);X7B < n7B.length;X7B++){X9l="In";X9l+="d";X9l+="ex ";Q9l="Neg V";Q9l+="ol";P7B=n7B[X7B][c7B];k7B=n7B[X7B].Volume;if(P7B && typeof P7B == "object"){k7B=P7B.Volume;P7B=P7B[s7B.subField];}R4n.o2d(7);m7B=n7B[R4n.c2d(1,X7B)][c7B];V7B=n7B[X7B - 1].Volume;if(m7B && typeof m7B == "object"){V7B=m7B.Volume;m7B=m7B[s7B.subField];}if(!P7B)continue;if(!m7B)continue;if(s7B.type == "Pos Vol" && k7B > V7B || s7B.type == Q9l && k7B < V7B){R4n.o2d(12);R7B*=R4n.N2d(P7B,m7B);}n7B[X7B][X9l + s7B.name]=R7B;}t3B.Studies.MA(s7B.inputs["Moving Average Type"],s7B.days,C9l + s7B.name,0,"MA",K7B,s7B);};t3B.Studies.studyLibrary=t3B.extend(t3B.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:t3B.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":E9l},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:t3B.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:t3B.Studies.calculateVolumeIndex,inputs:{Period:255,Field:m9l,"Moving Average Type":y9l},outputs:{Index:"auto",MA:l9l}},"Price Vol":{name:"Price Volume Trend",calculateFN:t3B.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:t3B.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(E7B,F7B){x288.r0n();var e9l;if(t3B.Studies.calculateRateOfChange){t3B.Studies.calculateRateOfChange(E7B,F7B);}else {e9l="Volume Rate of Ch";e9l+="ange study requires firs";e9l+="t activating momentu";e9l+="m feature.";console.error(e9l);t3B.Studies.calculateRateOfChange=function(d7B,z7B){};}},parameters:{init:{isVolume:!""}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:g9l,yAxis:{ground:!"",initialMarginTop:0,position:B9l,zoom:0,heightFactor:0.25},seriesFN:t3B.Studies.createVolumeChart,calculateFN:t3B.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":O9l,"Down Volume":Z9l},customRemoval:!0,removeFN:function(N7B,D7B){var t9l;t9l="layou";t9l+="t";N7B.layout.volumeUnderlay=!1;N7B.changeOccurred(t9l);},attributes:{panelName:{hidden:! ![]}}}});}};p5V=G7B=>{var M9l,j7B,n9l,D9l,L9l,F9l,b9l;M9l="unde";M9l+="fine";M9l+="d";j7B=typeof _CIQ !== M9l?_CIQ:G7B.CIQ;if(!j7B.Studies){n9l="vortex fe";n9l+="ature requires first activating studies f";n9l+="eature.";console.error(n9l);}else {D9l="0";D9l+=".0";D9l+="1";L9l="aut";L9l+="o";F9l="#FF00";F9l+="00";b9l="Vor";b9l+="tex In";b9l+="dicator";j7B.Studies.calculateVortex=function(y7B,J7B){var O4n=x288;var q7B,u7B,I39,q39,c39,Z7B,r7B,U7B,L7B,w7B,M7B,G9l;q7B=J7B.chart.scrubbed;u7B=J7B.days;if(q7B.length < u7B + 1){J7B.error=!"";I39=-441505024;O4n.o2d(3);q39=-O4n.c2d(1934240864,"1310932429");c39=2;for(var H39=1;O4n.a9W(H39.toString(),H39.toString().length,66883) !== I39;H39++){return;}if(O4n.a9W(c39.toString(),c39.toString().length,5938) !== q39){return;}return;}Z7B={tr:0,vmPlus:0,vmMinus:0};if(J7B.startFrom > 1){Z7B=j7B.clone(q7B[J7B.startFrom - 1]["_totals " + J7B.name]);}for(var o7B=Math.max(J7B.startFrom,"1" >> 164203488);o7B < q7B.length;o7B++){r7B=q7B[o7B];O4n.f2d(7);U7B=q7B[O4n.N2d(1,o7B)];L7B=Math.abs(r7B.High - U7B.Low);w7B=Math.abs(r7B.Low - U7B.High);M7B=Math.max(r7B.High,U7B.Close) - Math.min(r7B.Low,U7B.Close);Z7B.tr+=M7B;Z7B.vmPlus+=L7B;Z7B.vmMinus+=w7B;if(o7B > u7B){O4n.o2d(7);Z7B.tr-=q7B[O4n.c2d(u7B,o7B)]["_True Range " + J7B.name];O4n.f2d(7);Z7B.vmPlus-=q7B[O4n.N2d(u7B,o7B)]["_VMPlus " + J7B.name];O4n.f2d(7);Z7B.vmMinus-=q7B[O4n.c2d(u7B,o7B)]["_VMMinus " + J7B.name];}r7B["_True Range " + J7B.name]=M7B;r7B["_VMPlus " + J7B.name]=L7B;r7B["_VMMinus " + J7B.name]=w7B;if(o7B >= u7B){G9l="+";G9l+="VI ";r7B[G9l + J7B.name]=Z7B.vmPlus / Z7B.tr;r7B["-VI " + J7B.name]=Z7B.vmMinus / Z7B.tr;}r7B["_totals " + J7B.name]=j7B.clone(Z7B);}};j7B.Studies.studyLibrary=j7B.extend(j7B.Studies.studyLibrary,{Vortex:{name:b9l,calculateFN:j7B.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":F9l},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:L9l}},attributes:{studyOverBoughtValue:{min:1,step:D9l},studyOverSoldValue:{max:"1" | 1,step:"0.01"}}}});}};H5V=S7B=>{var z0n=x288;z0n.j0n();var a9l,O7B,s4W,U4W,R4W,M69,n69,G69,s9l,f9l,K9l,R9l,U9l;a9l="und";a9l+="e";a9l+="f";a9l+="ined";O7B=typeof _CIQ !== a9l?_CIQ:S7B.CIQ;if(!O7B.Studies){z0n.f2d(3);s4W=z0n.N2d(2137280288,"1691566504");U4W=+"572755093";R4W=2;for(var u4W=1;z0n.a9W(u4W.toString(),u4W.toString().length,96626) !== s4W;u4W++){console.error("");R4W+=2;}if(z0n.J9W(R4W.toString(),R4W.toString().length,88813) !== U4W){console.error("williamsMFI feature requires first activating studies feature.");}}else {O7B.Studies.calculateMFI=function(i5B,f7B){var J9l,l7B,Y7B,W7B,v7B,Q7B,t7B;J9l="_";J9l+="hi";J9l+="st";l7B=f7B.chart.scrubbed;W7B=0;v7B=f7B.inputs["Scale Factor"];z0n.r0n();if(!v7B){v7B=f7B.study.inputs["Scale Factor"];}z0n.f2d(3);Q7B=Math.pow(z0n.N2d(1943597792,"10"),Number(v7B));if(f7B.startFrom > 1){z0n.o2d(13);var Q1R=z0n.c2d(3,16,4);W7B=l7B[f7B.startFrom - Q1R]["_high " + f7B.name];}for(t7B=f7B.startFrom;t7B < l7B.length;t7B++){if(!l7B[t7B])continue;if(l7B[t7B].Volume){l7B[t7B][f7B.name + "_hist"]=Y7B=Q7B * (l7B[t7B].High - l7B[t7B].Low) / l7B[t7B].Volume;l7B[t7B]["_high " + f7B.name]=W7B=Math.max(W7B,Y7B);}}f7B.outputMap={};f7B.outputMap[f7B.name + J9l]="";};O7B.Studies.displayMFI=function(B5B,A5B,T5B){var p5B,e5B,I5B,H5B,b5B,g5B,a5B,s5B,n5B,v9l,o9l,h5B,x5B;p5B=B5B.panels[A5B.panel];e5B=A5B.getContext(B5B);I5B=A5B.getYAxis(B5B);H5B=I5B.flipped?I5B.top:I5B.bottom;z0n.f2d(118);var X1R=z0n.N2d(11,19,4381,21,6);b5B=B5B.layout.candleWidth - X1R;if(b5B < 2){z0n.f2d(69);b5B=z0n.N2d(0,"1");}z0n.r0n();g5B=O7B.Studies.determineColor(A5B.outputs.Green);a5B=O7B.Studies.determineColor(A5B.outputs.Fade);s5B=O7B.Studies.determineColor(A5B.outputs.Fake);n5B=O7B.Studies.determineColor(A5B.outputs.Squat);B5B.canvasColor("stx_histogram");if(!A5B.underlay){z0n.o2d(51);e5B.globalAlpha=z0n.c2d(2147483647,"1");}e5B.fillStyle="#CCCCCC";B5B.startClip(A5B.panel);if(!A5B.highlight && B5B.highlightedDraggable){e5B.globalAlpha*=+"0.3";}for(var C5B=+"0";C5B < T5B.length;C5B++){v9l="_his";v9l+="t";o9l="_";o9l+="hi";o9l+="s";o9l+="t";h5B=T5B[C5B];z0n.f2d(7);x5B=T5B[z0n.c2d(1,C5B)];if(!x5B){x5B=B5B.getPreviousBar(B5B.chart,A5B.name + o9l,C5B);}if(!h5B)continue;if(!x5B);else if(x5B[A5B.name + "_hist"] < h5B[A5B.name + v9l]){if(x5B.Volume < h5B.Volume){e5B.fillStyle=g5B;}else if(x5B.Volume > h5B.Volume){e5B.fillStyle=s5B;}}else if(x5B[A5B.name + "_hist"] > h5B[A5B.name + "_hist"]){if(x5B.Volume < h5B.Volume){e5B.fillStyle=n5B;}else if(x5B.Volume > h5B.Volume){e5B.fillStyle=a5B;}}if(h5B.candleWidth){b5B=Math.floor(Math.max(1,h5B.candleWidth - 2));}e5B.fillRect(Math.floor(B5B.pixelFromBar(C5B,p5B.chart) - b5B / 2),Math.floor(H5B),Math.floor(b5B),Math.floor(B5B.pixelFromPrice(h5B[A5B.name + "_hist"],p5B,I5B) - H5B));}B5B.endClip();};M69=1445635487;n69=- +"2136484625";G69=2;for(var F69=+"1";z0n.a9W(F69.toString(),F69.toString().length,82117) !== M69;F69++){s9l="#";s9l+="8bc17";s9l+="6";f9l="0 to";f9l+=" ";f9l+="ma";f9l+="x";O7B.Studies.studyLibrary=O7B.extend(O7B.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:O7B.Studies.displayMFI,calculateFN:O7B.Studies.calculateMFI,yAxis:{ground:! !1},range:f9l,inputs:{"Scale Factor":6},outputs:{Green:s9l,Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});G69+=2;}if(z0n.a9W(G69.toString(),G69.toString().length,9422) !== n69){K9l="#";K9l+="ff";K9l+="d";K9l+="0cf";R9l="#5f7c";R9l+="b";R9l+="8";U9l="#5f";U9l+="7cb8";O7B.Studies.studyLibrary=O7B.extend(O7B.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:O7B.Studies.displayMFI,calculateFN:O7B.Studies.calculateMFI,yAxis:{ground:!{}},range:"W MFI",inputs:{"Scale Factor":1},outputs:{Green:"#5f7cb8",Fade:U9l,Fake:R9l,Squat:K9l}}});}}};X5V={CIQ:t3V,SplinePlotter:g5V,timezoneJS:a5V,$$:s5V,$$$:n5V};export {W3V as aggregations};export {v3V as drawingAdvanced};export {Y3V as equationsAdvanced};export {Q3V as highPerformanceMarkers};export {i7V as renderersAdvanced};export {A7V as accumulationDistribution};export {B7V as adx};export {h7V as alligator};export {x7V as aroon};export {e7V as atr};export {C7V as awesomeOscillator};export {b7V as balanceOfPower};export {I7V as bollinger};export {T7V as cci};export {p7V as centerOfGravity};export {H7V as chaikin};export {g7V as chande};export {a7V as choppiness};export {s7V as comparisonStudies};export {n7V as coppock};export {X7V as darvasBox};x288.j0n();export {P7V as detrended};export {m7V as disparity};export {c7V as easeOfMovement};export {R7V as ehlerFisher};export {k7V as elder};export {V7V as fractalChaos};export {K7V as highLowStudies};export {E7V as ichimoku};export {F7V as intradayMomentum};export {d7V as keltner};export {z7V as klinger};export {N7V as linearRegression};export {D7V as macd};export {j7V as massIndex};export {G7V as moneyFlow};export {J7V as movingAverages};export {Z7V as parabolicSAR};export {r7V as pivotPoints};export {o7V as prettyGoodOscillator};export {q7V as priceMomentumOscillator};export {u7V as priceVolumeOscillator};export {U7V as primeNumber};export {L7V as pring};export {w7V as projectedVolume};export {M7V as psychologicalLine};export {y7V as qstick};export {O7V as rainbow};export {S7V as randomWalk};export {f7V as relativeVigor};export {l7V as rsi};export {t7V as schaffTrendCycle};export {W7V as shinohara};export {v7V as stochastics};export {Y7V as supertrend};export {Q7V as swingIndex};export {i5V as trendIntensity};export {A5V as trix};export {B5V as twiggsMoneyFlow};export {h5V as typicalPrice};export {x5V as ulcerIndex};export {e5V as ultimateOscillator};export {C5V as valuationLines};export {b5V as volatilityIndex};export {I5V as volumeProfile};export {T5V as volumeStudies};export {p5V as vortex};export {H5V as williamsMFI};export {t3V as CIQ, g5V as SplinePlotter, a5V as timezoneJS, s5V as $$, n5V as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(X5V.CIQ || t3V).activateImports(W3V,v3V,Y3V,Q3V,i7V,A7V,B7V,h7V,x7V,e7V,C7V,b7V,I7V,T7V,p7V,H7V,g7V,a7V,s7V,n7V,X7V,P7V,m7V,c7V,R7V,k7V,V7V,K7V,E7V,F7V,d7V,z7V,N7V,D7V,j7V,G7V,J7V,Z7V,r7V,o7V,q7V,u7V,U7V,L7V,w7V,M7V,y7V,O7V,S7V,f7V,l7V,t7V,W7V,v7V,Y7V,Q7V,i5V,A5V,B5V,h5V,x5V,e5V,C5V,b5V,I5V,T5V,p5V,H5V,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
